(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["32776"],{548869:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:o=[{alias:null,args:[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:o},params:{id:"9444c7d899b56b0d3f582ffd76e4aa03c97bb76a403a805aeb20150c64ee61d7",metadata:{},name:"ShareInviteCreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};i.hash="cbe2c69120b8bcf572c2bd64e6b7b3fd";let a=i;var l,o,r=i.default||i;if("query"===r.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(r);else{let e=[r.params.name,r.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=r}},463037:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"invite_category"},{defaultValue:null,kind:"LocalArgument",name:"url"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateShareLinkGraphQLQuery",selections:o=[{alias:null,args:[{kind:"Variable",name:"inviteCategory",variableName:"invite_category"},{kind:"Literal",name:"name",value:""},{kind:"Variable",name:"url",variableName:"url"}],concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ShareLink",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3CreateShareLink",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"ShareInviteCreateShareLinkGraphQLQuery",selections:o},params:{id:"1a2c34659f0fc64fb8a13ad996b008dbd6b92e50c9b051a13ea424a4eeda7cb4",metadata:{},name:"ShareInviteCreateShareLinkGraphQLQuery",operationKind:"query",text:null}};i.hash="7e0a6acc000f5df88d88c8ea103f3da3";let a=i;var l,o,r=i.default||i;if("query"===r.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(r);else{let e=[r.params.name,r.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=r}},843899:function(e,t,n){n.d(t,{Z:()=>x});var i,a,l=n(167912),o=n(575108),r=n(13106),s=n(686319),d=n(960776),c=n(869273),_=n(669442),u=n(510928);let p={open(e){let t=p._validParams.reduce((t,n)=>(e&&Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]),t),{}),n=p._getDialogType(e),i=p.generateFbRef(e.unauthId??""),a=e.object_type&&e.object_id&&"feed"===n,l=(0,c.Z)(e.path),o=(0,u.Z)();if(o.ptrf&&(l=(0,_.Z)(l,{ptrf:o.ptrf})),a&&(l=(0,_.Z)(l,{fb_ref:i})),t.method=n,"feed"===t.method){let n=(0,r.Z)({width:e.width,height:e.height}),i="http://www.facebook.com/sharer/sharer.php?u="+l;t.picture&&(i+="&picture="+t.picture),t.name&&(i+="&title="+t.name),t.description&&(i+="&description="+t.description),t.caption&&(i+="&caption="+t.caption),window.open(encodeURI(i),"sharer",n)}else"send"===t.method?t.link=l:"share"===t.method&&(t.href=l),(0,d.default)(n=>{n?.getLoginStatus(()=>{if("send"===t.method){let i;n.ui(t);let a=10,l=setInterval(()=>{((i=function(){if(!document)return;let e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe")).filter(e=>e instanceof HTMLIFrameElement);if(e.length)return e.slice(0,e.length-1).forEach(e=>e.parentNode?.removeChild(e)),e[e.length-1]}())||!a)&&(clearInterval(l),i&&p.executeMessengerCallback(i,e.callback)),a-=1},1e3)}else"share"===t.method&&n.ui(t,t=>{a&&t&&!t.error_message&&(0,s.Z)({url:`/v3/log/facebook/feed_share/${e.object_type||""}/${e.object_id||""}/${i}`,method:"PUT",data:{showError:!1}}),e.callback&&e.callback(t)})})},e.viewer)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10,i=setInterval(()=>{let{width:t}=e.style;"0px"!==t&&n||(clearInterval(i),e.style.width="575px"),n-=1},1e3);t&&t()},generateFbRef(e){let t="";for(;t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return e+":"+t},_getDialogType:e=>p._validOptions.includes(e.type)?e.type:"feed"},m=function(e,t){let n=window.screen.width,i=window.screen.height,a=Math.round((n-e)/2),l=i>t?Math.round((i-t)/2):0;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+a+",top="+l};function h(e,t,n){let i=m(t,n);window.open(e,void 0,i)}let y={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){h(y._getWindowUrl(e.share_path,e.share_text),y.DIALOG_WIDTH,y.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,_.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,c.Z)(e):void 0,text:t})},v={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){h(v._getWindowUrl(e.tweet_path,e.tweet_text),v.DIALOG_WIDTH,v.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,_.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,c.Z)(e):void 0,text:t||void 0})},g=void 0!==i?i:i=n(548869),f=void 0!==a?a:a=n(463037),w=()=>{let e=(0,l.useRelayEnvironment)();return async(t,n)=>await new Promise((i,a)=>(0,l.fetchQuery)(e,f,{invite_category:n.toString(),url:t}).subscribe({next:e=>i({invite_code:e.v3CreateShareLinkQuery?.data?.inviteCode??"",invite_url:e.v3CreateShareLinkQuery?.data?.inviteUrl??"",title:e.v3CreateShareLinkQuery?.data?.title??""}),error:e=>a(e)}))},b=()=>{let e=(0,l.useRelayEnvironment)();return async(t,n,i,a)=>{let o={invite_category:t,invite_object:n,invite_channel:i};return await new Promise((t,n)=>(0,l.fetchQuery)(e,g,{inviteType:JSON.stringify(o),objectId:a}).subscribe({next:e=>t({invite_code:e.v3InviteUserExternalQuery?.data?.inviteCode??"",invite_url:e.v3InviteUserExternalQuery?.data?.inviteUrl??"",title:e.v3InviteUserExternalQuery?.data?.title??""}),error:e=>n(e)}))}};function x(){let e={pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},t=w(),n=b();function i(t,n){let i=e[t.object_type]||0,a=t.invite_channel,l=null==t.invite_category?3:t.invite_category,r=t.object_id;return o.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:l,invite_object:i,invite_channel:a},invite_code:n,object_id:r,client_tracking_params:t.client_tracking_params}).callCreate()}function a(i){let a=e[i.object_type]||0,l=i.invite_channel,o=null==i.invite_category?3:i.invite_category;return 10===o&&i.path?t(i.path,o):n(o,a,l.toString(),i.object_id)}return{ObjectTypeToInviteObject:e,logShareInvite:function(e,t){t&&i(e,t.invite_code)},createShareInviteData:a,shareFacebookInvite:function(e){let{options:t,unauthId:n,viewer:l}=e;return a(t).then(e=>{let a=e.invite_url,o=e.invite_code;if(a){let r={type:"share",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:a,picture:t.picture,callback(e){e&&!e.error_message&&i(t,o)}};p.open({...r,display:"popup",unauthId:n,viewer:l})}return Promise.resolve(e)},e=>Promise.reject(e))},shareTwitterInvite:function(t){let n=e[t.object_type]||0;return a(t).then(e=>{let a=e.invite_url,l=e.invite_code,o=t.description;return 6===n&&t.name&&(o=t.name),o.trim()||(o=`${e.title}
`),a&&v.openDialog({tweet_path:a,tweet_text:o}),i(t,l),Promise.resolve(e)},e=>Promise.reject(e))},shareLineInvite:function(t){let n=e[t.object_type]||0;return a(t).then(e=>{let a=e.invite_url,l=e.invite_code,o=t.description;return 6===n&&t.name&&(o=t.name),o.trim()||(o=`${e.title}
`),a&&y.openDialog({share_path:a,share_text:o}),i(t,l),Promise.resolve(e)},e=>Promise.reject(e))},shareFbMessengerInvite:function(e){let{options:t,unauthId:n,viewer:l}=e;return a(t).then(e=>{let a=e.invite_url,o=e.invite_code;return a&&p.open({type:"send",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:a,picture:t.picture,callback(e){e&&e.success&&i(t,o)},display:"popup",unauthId:n,viewer:l}),Promise.resolve(e)},e=>Promise.reject(e))}}}},13106:function(e,t,n){n.d(t,{Z:()=>i});let i=e=>{let[t,n]=[e?.width||580,e?.height||400],[i,a]=[window.screen.width,window.screen.height];return`scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=${t},height=${n},left=${Math.round((i-t)/2)},top=${a>n?Math.round((a-n)/2):0}`}},110870:function(e,t,n){n.d(t,{Z:()=>i});function i({embedSrc:e,embedType:t,imagesUrls:n,preferredResolution:i,excludeOriginals:a}){if(!e&&!t&&!n)return"";if("gif"===t)return e||"";if(!n)return"";if(i){let e="474x"===i&&n["474x"]||"236x"===i&&n["236x"]||n["736x"];if(e)return e}let l=Object.keys(n).reduce((e,t)=>{try{let i=t.split("x")[0];if(Number.isNaN(Number(i)))return{...e,[t]:n[t]};return{...e,[i]:n[t]}}catch(t){return e}},{}),o=Object.keys(l);return a&&"orig"===o[o.length-1]&&o.pop(),l[o.pop()]||""}},863339:function(e,t,n){n.d(t,{Z:()=>r});var i=n(695263),a=n(941404);let l=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description"])),o=e=>(e||"").trim().replace(/\s+/g," "),r=({storyPinDataId:e,pinDescription:t,richMetadataDescription:n,richSummaryDisplayName:r,closeupDescription:s,closeupUnifiedDescription:d,seoDescription:c,seoNoindexReason:_,shouldLogUnauthDesc:u,shouldUseSimplifiedDescription:p=!1})=>(u&&(0,a.My)("unauth_closeup.pin_desc",{useSeoFallback:!!_&&l.has(_??""),seoDescription:o(c),isStoryPin:!!e,pinDescription:o(t),closeupUnifiedDescription:o(d),closeupDescription:o(s),richMetadataDescription:o(n)}),_&&l.has(_??""))?"":p?(0,i.jM)({closeupUnifiedDescription:d,pinDescription:t}):o((0,i.eK)({richMetadataDescription:n,richSummaryDisplayName:r,closeupUnifiedDescription:d}).description)||o(d||"")||o(s)||o(t)||o(n)||""},110854:function(e,t,n){n.d(t,{Z:()=>i});let i={STARTED:1,FINISHED:2}},960776:function(e,t,n){n.r(t),n.d(t,{default:()=>u});var i=n(686319),a=n(55543),l=n(110854),o=n(6179),r=n(694955),s=n(941404);let d=!1,c=e=>e.isAuth&&!!e.facebookId&&!e.isLimitedLogin,_=(e,t,n="en-US",u)=>{u&&(0,s.dy)({event:"load_script_start",provider:"facebook"}),(0,a.Z)((0,o.Z)(n),"FACEBOOK").then(()=>{u&&(0,s.dy)({event:"load_script_success",provider:"facebook"});let n=window.FB;if(!n){u&&(0,s.dy)({event:"global_object_not_found",provider:"facebook"});return}d||(u&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),n.init({appId:r.GHq,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",()=>{c(t)&&_(e=>{if(!e?.getUserID())return;let t=e.getAccessToken();t&&(0,i.Z)({url:"/v3/connect/facebook/",method:"POST",data:{facebook_token:t}})},t)}),d=!0,window.fb_init=l.Z.FINISHED),e(n)}),window.fb_init=l.Z.STARTED},u=_},6179:function(e,t,n){n.d(t,{Z:()=>a});let i=e=>{let t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}},a=e=>`//connect.facebook.net/${i(e)}/sdk.js`},374891:function(e,t,n){n.d(t,{r:()=>m,u:()=>h});var i=n(667294),a=n(883119),l=n(980787),o=n(982166),r=n(525839),s=n(302148),d=n(694955),c=n(466653),_=n(785893);function u({isOpen:e,onDismiss:t,viewParameter:n}){let u=(0,r.ZP)(),{logContextEvent:p}=(0,l.v)();return(0,i.useEffect)(()=>{e&&p({event_type:13,element:10412,component:13756,view_parameter:n,view_type:155})},[e,p,n]),(0,_.jsx)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",children:(0,_.jsx)(o.ZP,{accessibilityModalLabel:"",allowClickAndDrag:!0,allowScroll:!0,closeOnOutsideClick:!0,isOpen:e,onDismiss:t,children:(0,_.jsxs)(a.xu,{maxHeight:"calc(95vh)",paddingX:2,children:[(0,_.jsxs)(a.xu,{padding:2,children:[(0,_.jsx)(a.xu,{children:(0,_.jsx)(a.hU,{accessibilityLabel:u.bt("Close modal", "Close modal", "waista.modal.closeButton", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:()=>{p({event_type:102,element:11925,component:13756,view_parameter:n,view_type:155}),t()},size:"sm"})}),(0,_.jsx)(a.xu,{marginTop:3,children:(0,_.jsx)(a.X6,{align:"start",size:"300",children:u.bt("Why you're seeing this ad", "Why you're seeing this ad", "waista.modal.headerTitle", undefined, true)})})]}),(0,_.jsx)(a.xu,{overflow:"auto",children:(0,_.jsxs)(a.xu,{children:[(0,_.jsx)(a.xu,{padding:2,children:(0,_.jsx)(a.xv,{children:u.bt("You may be seeing this ad:", "You may be seeing this ad:", "waista.modal.criteria.list.maybeSeeAd.v3", undefined, true)})}),(0,_.jsx)(a.xu,{padding:2,children:(0,_.jsx)(c.Z,{icon:"pinterest",iconAccessibilityLabel:u.bt("Icon for ad targeting context", "Icon for ad targeting context", "waista.modal.criteria.list.contexticon", undefined, true),text:(0,s.XB)({text:u.bt("Based on the context of the content you see in a session <strong id=\"1\">on Pinterest</strong>", "Based on the context of the content you see in a session <strong id=\"1\">on Pinterest</strong>", "unauth.waista.modal.criteria.list.context", undefined, true),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,_.jsx)(a.xv,{inline:!0,weight:"bold",children:e},"waista-platform-bucket")}})})}),(0,_.jsx)(a.xu,{padding:2,children:(0,_.jsx)(a.xv,{weight:"bold",children:u.bt("Ads on Pinterest", "Ads on Pinterest", "unauth.waista.modal.adsOnPinterest", undefined, true)})}),(0,_.jsx)(a.xu,{marginBottom:4,padding:2,children:(0,_.jsx)(a.xv,{children:(0,s.nk)(u.bt("For more about how we collect and use data, read our {{ privacyPolicyLink }}", "For more about how we collect and use data, read our {{ privacyPolicyLink }}", "app.common.react.components.PinRep.components.AdReasonsModal.readPrivacyPolicyText", undefined, true),{privacyPolicyLink:(0,_.jsx)(a.xv,{inline:!0,weight:"normal",children:(0,_.jsx)(a.rU,{display:"inline",href:d.R_9,onClick:()=>{p({event_type:101,component:13756,element:13402,view_parameter:n,view_type:155})},target:"blank",children:u.bt("Privacy Policy", "Privacy Policy", "app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLinkUrl", undefined, true)})},"ad-reasons-privacy-policy")})})})]})})]})})})}let p=(0,i.createContext)(null),m=()=>(0,i.useContext)(p),h=({children:e})=>{let[t,n]=(0,i.useState)(!1),a=(0,i.useMemo)(()=>({isWAISTAModalOpen:t,setWAISTAModalOpen:n}),[t,n]);return(0,_.jsxs)(p,{value:a,children:[e,t&&(0,_.jsx)(u,{isOpen:!0,onDismiss:()=>{n(!1)}})]})}},985801:function(e,t,n){n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),l=n(355940),o=n(475498),r=n(525839),s=n(821806),d=n(87853),c=n(785893);let _=(0,i.lazy)(()=>n.e("68201").then(n.t.bind(n,774855,23)));function u({linkURL:e,onDidFocus:t,onDidClickCopyButton:n,onCopyText:i,toastDuration:u,oneToast:p=!1,hideInput:m=!1,buttonSize:h="lg",asLink:y=!1}){let v=(0,r.ZP)(),{showToast:g,showOneToast:f}=(0,d.F9)(),w=v.bt("Copy link", "Copy link", "[button] copy a URL link shown, to paste in another place", undefined, true),b=(e,t)=>{t&&(p?f:g)(({hideToast:e})=>(0,c.jsx)(o.Z,{duration:u,onHide:e,text:i??v.bt("Link copied to clipboard!", "Link copied to clipboard!", "toast message to confirm if users copied the url successfully", undefined, true)})),n()};return y?(0,c.jsx)(l.Z,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:(0,c.jsx)(s.Z,{fallback:(0,c.jsx)(a.zx,{disabled:!0,text:w}),children:(0,c.jsx)(_,{onCopy:b,text:e,children:(0,c.jsx)(a.rU,{display:"inline",href:"",children:w})})})}):(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",paddingX:4*!m,children:[!m&&(0,c.jsx)(a.xu,{flex:"grow",marginEnd:2,children:(0,c.jsx)(a.nv,{id:"copylinkurl",onChange:()=>{},onFocus:t,size:"lg",type:"url",value:e})}),(0,c.jsx)(l.Z,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:(0,c.jsx)(s.Z,{fallback:(0,c.jsx)(a.zx,{disabled:!0,text:w}),children:(0,c.jsx)(_,{onCopy:b,text:e,children:(0,c.jsx)(a.zx,{size:h,text:w})})})})]})}},815861:function(e,t,n){n.d(t,{Z:()=>E});var i=n(980787),a=n(274320),l=n(15667),o=n(936371),r=n(326687),s=n(172045),d=n(551383),c=n(378888),_=n(603316);let u="http://play.google.com/store/apps/details?id=com.pinterest",p=["access_token","new_password","new_password_confirm","password","next"],m=(e,t)=>t?(0,c.ru)(e,{invite_code:t}):e,h=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){let t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?m(e,n):"ios"===t||"ipad"===t?m(e.iOS,n):"android"===t?m(e.android,n):null},y=({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:a,app_upsell_type:l})=>({deeplink_path:h(e,n,t),current_page_url:(0,c.Gw)("undefined"!=typeof window?window.location.href:"",p),install_id:a,utm_source:140,utm_medium:2152,app_upsell_type:l,...i?{af_r:i}:null}),v=({deeplinkUri:e,invite_code:t,platform:n,unauthId:i,app_upsell_type:a})=>{let l=JSON.stringify({deeplink_path:h(e,n,t),current_page_url:(0,c.Gw)("undefined"!=typeof window?window.location.href:"",p),install_id:i});return{referrer:(0,c.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:l,app_upsell_type:a})}},g=({unauthId:e,app_upsell_type:t})=>({referrer:encodeURI((0,c.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:t}))}),f=()=>{if("undefined"!=typeof window){let e=new URLSearchParams(window.location.search);return e.has("utm_source")&&e.get("utm_source").includes("google_search")}return!1},w=()=>encodeURIComponent("https://app.appsflyer.com/com.pinterest?pid=dtsingletap_int&"+(0,c.XP)({c:"single_tap_unauth",af_c_id:"98888",clickid:(0,s.Z)()})),b=({isAuthenticated:e,checkExperiment:t,deeplinkUri:n,fallbackUrl:i,invite_code:a,logContextEvent:l,platform:o,redirectToLite:r,unauthId:s,userAgent:p,app_upsell_type:m,locale:h,isBot:b})=>{if(l?.({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),n){let x=y({isAuthenticated:e,deeplinkUri:n,fallbackUrl:i,invite_code:a,platform:o,unauthId:s,userAgent:p,app_upsell_type:m});if((0,_.nP)("mweb.deeplink",{sampleRate:1,tags:{platform:o}}),a&&(0,_.nP)("mweb.deeplink.invite_code",{sampleRate:1}),(0,_.nP)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!s}}),r){(0,_.nP)("mweb.deeplink.lite_link",{sampleRate:1}),l?.({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});let e=g({unauthId:s,app_upsell_type:m});window.location.href=(0,c.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===o){let i=v({deeplinkUri:n,invite_code:a,platform:o,unauthId:s,app_upsell_type:m});!b&&!e&&h?.toLowerCase().includes("en-us")&&f()&&t&&"enabled"===t("single_tap_unauth_2").group?window.location.href="https://delivers.dtignite.com/v2/delivers/clickAd.jsp?siteId=16686&campaignId=49161&tsti=true&updateApp=false&enablePostInstallAutoLaunch=true&dvURL="+w():(0,d.v)()?(0,d.Z)().then(e=>{if(e.length>0){let e=window.location.href.endsWith("/login")?window.location.href.replace("/login","string"==typeof n?n:n.android):window.location.href,t=(0,c.ru)(e,x);l?.({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.open(t)||l?.({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}})}else l?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,c.ru)(u,i)}).catch(()=>{(0,_.nP)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(l?.({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,c.ru)(u,i))}else{if((0,_.nP)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===o&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,c.ru)("https://pinterest.com/pinterest-predicts",x);return}l?.({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,c.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",x)}}};var x=n(785893);function k({children:e,invite_code:t}){let{locale:n,isAuthenticated:o,isBot:s,unauthId:d,userAgent:{platform:c,raw:_}}=(0,l.B)(),{logContextEvent:u}=(0,i.v)(),{checkExperiment:p}=(0,a.F)();return e(async(e,i,a)=>{u({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:i}}),b({isAuthenticated:o,checkExperiment:p,deeplinkUri:e,fallbackUrl:a,invite_code:t,logContextEvent:u,platform:c,redirectToLite:(0,r.Rp)({isBot:s,platform:c,userAgent:_}),unauthId:d,userAgent:_,app_upsell_type:i,locale:n,isBot:s})})}let P=e=>(0,x.jsx)(o.ty,{children:t=>(0,x.jsx)(k,{...e,invite_code:t})});P.displayName="DeepLinkNavigator";let E=P},127696:function(e,t,n){n.d(t,{H:()=>r,Z:()=>o});var i=n(111330),a=n(753143),l=n(941404);async function o({filename:e,imgSrc:t,imageDownloadSuccessCallback:n,category:i,pinId:a,viewParameter:o,viewType:r,isUnauth:s=!1,platform:d="web",expName:c,expGroup:_},u){return"undefined"==typeof window?Promise.resolve():((0,l.My)("web.download.click",{category:i||"no_category",authType:s?"unauth":"auth",platform:d,viewType:r,expName:c,expGroup:_}),u({event_type:82,object_id_str:a,view_type:r||3,view_parameter:o||139}),t&&document)?fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(t=>{let a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.setAttribute("download",e&&e.replace(".","_")),a.style.display="none",document.body?.appendChild(a),a.click(),document.body?.removeChild(a),(0,l.My)("web.download.success",{category:i||"no_category",authType:s?"unauth":"auth",platform:d,viewType:r,expName:c,expGroup:_}),n?.()}).catch(()=>{throw(0,l.My)("web.download.failure",{category:i||"no_category",authType:s?"unauth":"auth",platform:d,viewType:r,expName:c,expGroup:_}),Error("Download image error")}):Promise.resolve()}let r=e=>{let t=(0,a.M0)(),n=e("unuath_download_paywalled").anyEnabled;if(!t.accessAllowed||n)return{limitReached:!0,oldCount:0,newCount:0};let l=t.getItem(i.rN)||0,o=l>=1,r=o?l:l+1;return l!==r&&(0,a.M0)().setItem(i.rN,r),{limitReached:o,oldCount:l,newCount:r}}},155328:function(e,t,n){n.d(t,{Z:()=>a});var i=n(506662);function a(e,t){return"/"===e.pathname?"/":(0,i.am)(e)&&t?`board/${e.pathname.substr(1)}`:e.pathname.substr(1)}},920120:function(e,t,n){n.d(t,{Z:()=>a});var i=n(980787);function a(){let{logContextEvent:e}=(0,i.v)();return{trackAppUpsellDismiss:({appUpsellType:t,viewType:n,viewParameter:i,component:a,element:l})=>{e({event_type:10220,view_type:n??202,view_parameter:i,component:a,element:l,aux_data:{app_upsell_type:t}})}}}},370677:function(e,t,n){n.d(t,{Z:()=>l});var i=n(274320),a=n(15667);function l(e,t){let{countryFromIp:n,country:l}=(0,a.B)(),{checkExperiment:o}=(0,i.F)();if(t||!e||!["US"].includes(n||l))return!1;let{anyEnabled:r}=o("mweb_closeup_unauth_asr_module");return r}},307178:function(e,t,n){n.d(t,{Z:()=>w});var i=n(581722),a=n(111330),l=n(121836),o=n(417162),r=n(110870),s=n(274320),d=n(15667),c=n(607001),_=n(753143),u=n(238589),p=n(966980),m=n(592900),h=n(647709),y=n(76774),v=n(867552),g=n(258644);let f=(e,t,n,i)=>{n&&e((0,g.Cp)()),t||i(!0),setTimeout(()=>{n||e((0,g.FK)()),t&&i(!1)},3e3)};function w({embedSrc:e,embedType:t,imagesUrls:n,pinId:w,nodeId:b,isFromUnauthContextMenu:x,attributionLabel:k}){let P=(0,v.a)(),{numUnauthSavedPins:E,setNumUnauthSavedPins:I}=(0,y.U)(),A=(0,i.I0)(),S=(0,h.ZP)(),L=(0,c.Z)(),C=!!(w&&P&&P.unauthSavedPinsStore.isSaved(w)),{forceShowNavFooter:T,setForceShowNavFooter:j}=(0,y.U)(),R=(0,i.v9)(({session:e})=>e.shouldHideNavBar)??!1,{isBot:O,isSocialBot:U,locale:D}=(0,d.B)(),{checkExperiment:N}=(0,s.F)(),Z=u.ZP.getItem(l.m5),H=(0,o.g)();if(P&&w)return{isSaved:C,onSave:()=>{let i="save",l=!0;if("desktop"!==S){let{unauthSavedPinsStore:o}=P,s=!!o.pins.length;!x&&o.canSaveMore()&&!Z?(o.save({id:w,nodeId:b,imageUrl:(0,r.Z)({imagesUrls:n,embedSrc:e,embedType:t,excludeOriginals:!O&&!U})}),l=!1,I(E+1),f(A,T,R,j)):("desktop"!==S?A((0,g.QZ)(w)):(0,_.M0)().setItem(a.M8,w),i=s&&!x?"extended_save_out_of_quota":"save")}else if((0,_.M0)().setItem(a.M8,w),N("dweb_upsell_manager_redux").anyEnabled)return void A((0,p.BF)(w,k||"click_save_button_on_closeup"));if(N("dweb_upsell_manager_mvp_2").anyEnabled)return void m.Z.emitEvent("pinSave",{pinId:w,modalHeadingType:i,attributionLabel:k,deviceType:S,showSignupModal:L});if(l){let e="desktop"===S&&D.startsWith("en")?N("dweb_signup_to_login_modal_q2_push").group:"";["enabled_all_improved","enabled_all","enabled_save"].includes(e)?H?.showDesktopSignupModal({signupFlow:{type:"login"},attributionLabel:"click_save_button_on_closeup",container:"save",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",source:"enabled_all_improved"===e?"saveButton":"defaultSource"}):L({attributionLabel:"extended_save_out_of_quota"===i?"click_save_button_with_max_unauth_saves":k||"click_save_button_on_closeup",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:i},desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save"}},pinId:w})}},onUnsave:()=>{E>=1&&I(E-1);let{unauthSavedPinsStore:e}=P;e.unsave(w),"desktop"===S&&(0,_.M0)().removeItem(a.M8)}}}},156618:function(e,t,n){n.d(t,{Bb:()=>h,Bx:()=>r,F4:()=>o,Qj:()=>s,_6:()=>m,gv:()=>l,hg:()=>d,is:()=>u,jP:()=>p,lt:()=>a,oM:()=>c,wI:()=>_});var i=n(378888);let a=e=>e.bt("Log in to continue", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),l=({firstName:e,i18n:t})=>e?(t.bt("{{ name }} invited you to join their board", "{{ name }} invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true)).replace("{{ name }}",e):t.bt("Your friends invited you to join their board", "Your friends invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true),o=e=>{let t=(0,i.mB)(e.search).board_url;if(t){let e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},r=e=>e.bt("Log in to save this Pin", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),s=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},d=e=>e.bt("Log in to send this Pin", "Log in to send this Pin", "limitedLogin.modalHeader.send", undefined, true),c=e=>e.bt("Log in to edit this Pin", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),_=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},u=e=>e.bt("Log in to create a Pin or board", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true),p=e=>e.bt("Log in to hide this Pin", "Log in to hide this Pin", "limitedLogin.modalHeader.hidePin", undefined, true),m=e=>e.bt("Log in to share the profile", "Log in to share the profile", "limitedLogin.modalHeader.shareProfile", undefined, true),h=e=>e.bt("Log in to create a board", "Log in to create a board", "limitedLogin.modalHeader.createBoard", undefined, true)},418830:function(e,t,n){n.d(t,{Z:()=>l});var i=n(15667),a=n(533076);function l(){let{countryFromIp:e}=(0,i.B)();return{isEUBasedIp:!!e&&!!a.a0?.dsa?.COUNTRY_CODES?.includes(e),isIndiaIp:!!e&&!!a.a0?.india?.COUNTRY_CODES?.includes(e)}}},258644:function(e,t,n){n.d(t,{Cp:()=>r,FK:()=>o,H5:()=>v,MI:()=>p,O0:()=>u,QZ:()=>l,W:()=>h,WF:()=>d,a5:()=>c,e0:()=>_,e2:()=>a,iW:()=>y,n1:()=>i,rm:()=>s,xu:()=>m});let i=()=>({type:"DISMISS_UNAUTH_SAVE"}),a=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),l=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),o=()=>({type:"HIDE_NAV_FOOTER"}),r=()=>({type:"SHOW_NAV_FOOTER"}),s=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),d=()=>({type:"SHOW_REPIN_ANIMATION"}),c=()=>({type:"HIDE_REPIN_ANIMATION"}),_=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),u=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),p=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),m=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),h=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),y=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},v=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e})},573993:function(e,t,n){n.d(t,{Z:()=>h});var i=n(581722),a=n(616550),l=n(521009),o=n(525839),r=n(425102),s=n(572227),d=n(307178),c=n(8512),_=n(747129),u=n(156618),p=n(352908),m=n(793698);function h({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataProducts:h,hasRichMetadataArticle:y,hasRichMetadataRecipe:v,imagesUrls:g,isFromUnauthContextMenu:f,pinId:w,nodeId:b,attributionLabel:x}){let k=(0,l.Z)(),P=(0,s.Z)(),{isAuthenticated:E,userId:I}=(0,i.v9)(({session:e})=>e),A=(0,p.Z)(),S=(0,o.ZP)(),L=(0,m.mN)()(I),C=(0,a.TH)();f=f??!1;let T=(0,d.Z)({embedSrc:e,embedType:t,imagesUrls:g,pinId:w,nodeId:b,isFromUnauthContextMenu:f,attributionLabel:x});return e=>{P({action:"click",item:"save-button"}),f||k({view_type:3,view_parameter:w?(0,c.CK)({hasRichMetadata:n,hasRichMetadataProducts:h,hasRichMetadataArticle:y,hasRichMetadataRecipe:v}):67,element:48,event_type:102,aux_data:{...E?{login_state:(0,_.xT)(L)?r.Z.LIMITED:r.Z.DEFAULT}:{}}}),!E&&(e.preventDefault(),T&&T.onSave()),A({fn:()=>{},modalHeader:(0,u.Bx)(S),nextLocation:(0,u.Qj)(C)})(e)}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/32776.en_GB-47ab4d5dfc5c28bc.mjs.map