(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["52747"],{516829:function(e,t,n){var i,s;n.r(t),n.d(t,{default:()=>l});let o={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[s={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};o.hash="d6f840c748407c7aa62123d5beac3239";let l=o},35794:function(e,t,n){n.d(t,{b:()=>r,t:()=>a});var i=n(667294),s=n(729434),o=n(785893);let{Provider:l,useHook:a}=(0,s.Z)("LensContext");function r({children:e}){let[t,n]=(0,i.useState)(),[s,a]=(0,i.useState)(),[r,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(),[h,p]=(0,i.useState)(),[_,g]=(0,i.useState)(!1);return(0,o.jsx)(l,{value:{heroImageUrl:s,historyData:r,image:t,imageData:h,isLensModalOpen:_,setHeroImageUrl:a,setHistoryData:c,setImage:n,setImageData:p,setIsLensModalOpen:g,setUpdatedCropArea:d,updatedCropArea:u},children:e})}},812540:function(e,t,n){n.d(t,{Z:()=>V});var i=n(883119),s=n(525839),o=n(302148),l=n(785893);let a=()=>{let e=(0,s.ZP)();return(0,l.jsx)(i.he,{iconAccessibilityLabel:e.bt("Info message", "Info message", "header.accountsOptionsMenu.info.icon", undefined, true),message:(0,l.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,o.nk)(e.bt("Business Access {{ isNow }} Business Manager {{ restOfMsg }}", "Business Access {{ isNow }} Business Manager {{ restOfMsg }}", "header.accountsOptionsMenu.newEntryPtBold", undefined, true),{isNow:(0,l.jsx)(i.xv,{inline:!0,children:e.bt("is now", "is now", "header.accountsOptionsMenu.newEntryPtIsNow", undefined, true)}),restOfMsg:(0,l.jsx)(i.xv,{inline:!0,children:e.bt("and can now be found in the Business drop-down menu.", "and can now be found in the Business drop-down menu.", "header.accountsOptionsMenu.newEntryPtRestOfMsg", undefined, true)})})}),type:"info"})};var r=n(980787),c=n(679422),u=n(734308),d=n(667294),h=n(111330),p=n(753143);let _=new Date("2025-01-15T00:00:00");function g({paddingY:e=0}){let t=(0,s.ZP)(),n=(0,p.M0)(),o=n.getItem(h.z),[a,c]=(0,d.useState)(o),{logContextEvent:u}=(0,r.v)(),g=(0,d.useCallback)(()=>{n.setItem(h.z,!0),u({event_type:16446}),c(!0)},[u,n]),f=new Date;return a?null:(0,l.jsx)(i.xu,{paddingY:e,children:(0,l.jsx)(i.he,{iconAccessibilityLabel:t.bt("Claim external accounts", "Claim external accounts", "header.accountsOptionsMenu.contentClaimingLink", undefined, true),message:t.bt("You can now link your Instagram and other external accounts to Pinterest.", "You can now link your Instagram and other external accounts to Pinterest.", "header.accountsOptionsMenu.accountClaimingBannerMessage", undefined, true),onDismiss:f>=_?g:void 0,type:"info"})})}var f=n(780134);function m(){let e=(0,s.ZP)();return{addAccount:{value:"add-account",label:e.bt("Add Pinterest account", "Add Pinterest account", "header.accountsOptionsMenu.addSecondaryAccountButton", undefined, true)},businessAccess:{value:"business-access",label:e.bt("Business Access", "Business Access", "Link to business Access Landing Page", undefined, true)},businessAccount:e=>({value:`business-account-${e.id}`,label:e.username}),accountClaiming:{value:"account-claiming",label:e.bt("Claimed external accounts", "Claimed external accounts", "header.accountsOptionsMenu.contentClaimingLink", undefined, true)},contentClaiming:{value:"content-claiming",label:e.bt("Content Claiming Portal", "Content claiming portal", "header.accountsOptionsMenu.contentManagementPortal", undefined, true)},convertToBusiness:{value:"convert-to-business",label:e.bt("Convert to business", "Convert to business", "header.accountsOptionsMenu.addAccountButton", undefined, true)},currentAccount:{value:"current-account",label:e.bt("Current account", "Current account", "SwitchAccountsList.CurrentlyInItem", undefined, true)},failedAccount:{value:"failed-account",label:e.bt("Failed to log in to this account", "Failed to log into this account", "header.accountsOptionsMenu.failedAccountItem", undefined, true)},getHelp:{value:"get-help",label:e.bt("Help Centre", "Help center", "header.accountsOptionsMenu.helpCenter.label", undefined, true)},homefeedTuner:{value:"homefeed-tuner",label:e.bt("Home feed tuner", "Home feed tuner", "header.accountsOptionsMenu.homefeedTuner.label", undefined, true)},installApp:e=>({value:"install-app",label:e}),lbaAccountSwitch:e=>({value:`lba-account-switch-${e.id}`,label:e.username}),logOut:{value:"log-out",label:e.bt("Log out", "Log out", "header.accountsOptionsMenu.logout", undefined, true)},parentAccount:e=>({value:`parent-account-${e.id}`,label:e.username}),termsOfService:{value:"tos-policy",label:e.bt("Terms of Service", "Terms of service", "header.accountsOptionsMenu.termsOfService.label", undefined, true)},privacyPolicy:{value:"privacy-policy",label:e.bt("Privacy Policy", "Privacy policy", "header.accountsOptionsMenu.privacyPolicy.label", undefined, true)},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e.bt("Reports and violations centre", "Reports and violations center", "header.accountsOptionsMenu.reportsAndViolationsCenter", undefined, true)},reportBug:{value:"report-bug",label:e.bt("Report a bug", "Report a bug", "header.accountsOptionsMenu.reportBug", undefined, true)},settings:{value:"settings",label:e.bt("Settings", "Settings", "header.accountsOptionsMenu.settings", undefined, true)},settingsPrivacy:{value:"settingsPrivacy",label:e.bt("Your privacy rights", "Your privacy rights", "header.accountsOptionsMenu.settingsPrivacy.label", undefined, true)},adsSupport:{value:"ads-support",label:e.bt("Ads support", "Ads support", "header.accountsOptionsMenu.adsSupport", undefined, true)},requestFeature:{value:"request-a-feature",label:e.bt("Request a feature", "Request a feature", "header.accountsOptionsMenu.requestAFeature", undefined, true)},pinterestTvStudio:{value:"pinterest-tv-studio",label:e.bt("Pinterest TV Studio", "Pinterest TV Studio", "Link to Pinterest Tv Creator Studio", undefined, true)},betaTester:{value:"be-a-beta-tester",label:e.bt("Be a beta tester", "Be a beta tester", "header.accountsOptionsMenu.beBetaTesterProgram", undefined, true)},teenSafetyResources:{value:"teen-safety-resources",label:e.bt("Teen safety resources", "Teen safety resources", "header.accountsOptionsMenu.teenSafetyResources", undefined, true)}}}var v=n(699666),b=n(646924),x=n(538281),C=n(738827),y=n(886981),w=n(694955),P=n(483180),A=n(535701),j=n(785873),L=n(521009),Z=n(993279),M=n(230117),T=n(473728),S=n(146621);let k=["chrome","windows"];var z=n(901971);function I({failedAccount:e,handleReauthAccount:t,handleRemoveUnauthAccount:n}){let o=(0,s.ZP)();return(0,l.jsxs)(d.Fragment,{children:[(0,l.jsx)(i.xu,{marginTop:4,children:(0,l.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:t,text:o.bt("Log in again", "Log in again", "header.accountsOptionsMenu.failedAccountLoginButton", undefined, true)})}),(0,l.jsx)(i.xu,{marginTop:3,children:(0,l.jsx)(i.zx,{fullWidth:!0,onClick:()=>n(e.id),text:o.bt("Remove account", "Remove account", "header.accountsOptionsMenu.failedAccountRemoveButton", undefined, true)})})]})}var H=n(817618),B=n(244529);let E=new i.Ry(1e3);function V({anchor:e,onDismiss:t,advertiser:n,showAccountSwitcher:o,showAdsSupportOption:h,showMoreOptions:p=!0,isWwwSite:_,idealDirection:V="down",dropdownId:O="HeaderAccountOptionsFlyout",zIndex:D=E}){let N=(0,s.ZP)(),{failedAccount:R,handleReauthAccount:F,handleRemoveUnauthAccount:$}=(0,b.Z)(t,_),X=m(),{enabled:U}=(0,B.Z)(),{currentlyIn:W,yourAccount:G,moreOptions:Y}=function({onDismiss:e,handleFocus:t,advertiser:n,showAdsSupportOption:o,isWwwSite:h,isVerticalNavEnabled:p}){let _=(0,A.Z)(),I=(0,s.ZP)(),{logContextEvent:H}=(0,r.v)(),{isLoaded:B,data:E}=(0,y.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),{isLoaded:V,data:O}=(0,y.Z)({name:"ApiResource",options:{url:"/v3/users/settings/"}}),{content_claiming_access:D=!1}=E||{},{handleShowReportBugModal:N}=(0,z.Z)(),R=(0,v.Z)(),F=function(){let e=(0,s.ZP)(),t=(0,d.useContext)(S.Z),n=(0,Z.kM)(window,t),i=(0,L.Z)(),o=e=>{i({component:247,element:e,event_type:101})},l=(0,T.Z)(e.bt("Install the {{appName}} app", "Install the {{appName}} app", "header.accountsOptionsMenu.installApp", undefined, true),{appName:(0,M.Z)(n)});return k.includes(n)?{onClick:()=>{if("windows"===n)o(11409),(0,j.Z)(`${w.TMP}&cid=flyout_cta`,!0);else if("chrome"===n&&t){let e=t();e&&(o(11410),e.prompt())}},text:l}:null}(),$=_.isAuth&&!!_.isEmployee,X=!!_.isAuth&&_.isPartner,U=_.isAuth&&!!_.teenSafetyOptionsUrl,W=!!_.isAuth&&!_.isLimitedLogin,G=_.isAuth?_.id:void 0,Y=(0,c.Z)(),{fetchedUserAccounts:q,handleAccountRepClick:K,handleAddSecondaryAccount:J,handleClick:Q,handleLinkedAccountSwitch:ee,handleUnlockBusinessTools:et,isLoading:en,showUnlockBusinessTools:ei}=(0,b.Z)(e,h),es=m(),eo=q.filter(e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness),el=q.find(e=>e.id===(_.isAuth&&_.id)),ea=_.isAuth&&_.partner?.is_linked_business;ea&&(eo=eo.sort(e=>el?.owners?.some(t=>t.id===e.id)?-1:1));let er=en&&(0,l.jsx)(x.Z,{}),ec=el?.businesses?.length?el.businesses.map(e=>G!==e.id&&(0,l.jsx)(i.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ee(e,el.id),option:es.lbaAccountSwitch(e),children:(0,l.jsx)(f.Z,{user:e},e.id)},e.id)):null,eu=eo.map(e=>e.id!==G?[(0,l.jsx)(i.Lt.Item,{onSelect:()=>K(e),option:es.parentAccount(e),children:(0,l.jsx)(f.Z,{isCurrentAccount:G===e.id,user:e})},e.id),...e?.businesses?.length?e.businesses.map(t=>G!==t.id&&(0,l.jsx)(i.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>ee(t,e.id),option:es.businessAccount(t),children:(0,l.jsx)(f.Z,{user:t},t.id)},t.id)):[]]:null),ed=h&&(0,l.jsx)(i.Lt.Link,{dataTestId:"header-menu-add-account",href:"/add-account",onClick:J,option:es.addAccount}),eh=(0,l.jsx)(i.Lt.Link,{dataTestId:"header-menu-add-account",href:"/add-account",onClick:J,option:es.addAccount}),ep=ei&&(0,l.jsx)(i.Lt.Link,{dataTestId:"header-menu-business-account",href:_.isAuth?"https://www.pinterest.com/convert-business":`${w.KDH}?utm_source=pinterest&utm_medium=settings&utm_campaign=convert_settings`,onClick:et,option:es.convertToBusiness}),e_=(0,l.jsx)(i.Lt.Link,{href:w.zXf,onClick:({event:e})=>{e.preventDefault(),Q(15983),t()},option:es.accountClaiming}),eg=B&&D&&(0,l.jsx)(i.Lt.Link,{href:"/content-claiming",onClick:()=>{Q(13606),t()},option:es.contentClaiming}),ef=$&&(0,l.jsx)(i.Lt.Item,{onSelect:()=>{N(),Q(13607),e()},option:es.reportBug}),em=(0,l.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-settings",href:W?`https://${(0,u.Z)()}/settings`:"",onClick:({event:e})=>{if(Y){e.stopPropagation(),Y();return}Q(247),t()},option:es.settings}),ev=X?(0,l.jsx)(a,{}):null,eb=(0,l.jsx)(i.Lt.Link,{href:W?"/edit":"",onClick:({event:e})=>{if(Y){e.stopPropagation(),Y();return}Q(11345),t()},option:es.homefeedTuner},"header-menu-options-homefeed-tuner"),ex=!X&&F?(0,l.jsx)(i.Lt.Item,{onSelect:()=>{F.onClick(),e()},option:es.installApp(F.text)}):null,eC=(0,l.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-privacy",href:W?`https://${(0,u.Z)()}/settings/privacy`:"",onClick:({event:e})=>{if(Y){e.stopPropagation(),Y();return}Q(13334),t()},option:es.settingsPrivacy}),ey=(0,l.jsx)(i.Lt.Link,{href:W?"/reports-and-violations":"",onClick:({event:e})=>{if(Y){e.stopPropagation(),Y();return}Q(14618),t()},option:es.reportsAndViolationsCenter}),ew=U?(0,l.jsx)(i.Lt.Link,{href:_.teenSafetyOptionsUrl??"",iconEnd:"visit",onClick:()=>{H({event_type:101,element:14321}),Q(14321),t()},option:es.teenSafetyResources}):null,eP=X&&o&&(!n||(0,C.Z)((n||{}).actions||[],7))&&(0,l.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-ads-support",href:w.JbB,iconEnd:"visit",onClick:()=>{Q(10106),t()},option:es.adsSupport}),eA=X?(0,l.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",href:w.W32+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",iconEnd:"visit",onClick:()=>{Q(11345),t()},option:es.requestFeature}):null,ej=(0,l.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-help",href:`${w.gOE}?source=gear_menu_web`,iconEnd:"visit",onClick:()=>{Q(8002),t()},option:es.getHelp}),eL=(0,l.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-tos",href:w.U5h,iconEnd:"visit",onClick:()=>{Q(61),t()},option:es.termsOfService}),eZ=(0,l.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-policy",href:w.R_9,iconEnd:"visit",onClick:()=>{Q(8004),t()},option:es.privacyPolicy}),eM=(0,l.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-beta-tester",href:"https://www.pinterest.com/public-beta/",iconEnd:"visit",onClick:()=>{Q(13613),t()},option:es.betaTester},"header-menu-options-beta-tester"),eT=(0,l.jsx)(i.Lt.Item,{dataTestId:"header-menu-options-logout",onSelect:R,option:es.logOut}),eS=(0,l.jsxs)(i.Lt.Section,{label:I.bt("Your accounts", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true),children:[er,ec,eu,V&&!O?.opt_in_private_account&&ed,eT]},"your-accounts"),ek=(0,l.jsxs)(i.Lt.Section,{label:I.bt("Your accounts", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true),children:[er,ec,eu,V&&!O?.opt_in_private_account&&eh,em,ev]},"your-accounts"),ez=(0,l.jsxs)(i.Lt.Section,{label:I.bt("Content", "Content", "header.accountsOptionsMenu.contentHeader", undefined, true),children:[eg,(0,l.jsx)(g,{paddingY:1}),e_,ey,ex]}),eI=(0,l.jsxs)(i.Lt.Section,{label:I.bt("Help", "Help", "header.accountsOptionsMenu.helpHeader", undefined, true),children:[ew,ej,eP,eA,ef]}),eH=(0,l.jsxs)(i.Lt.Section,{label:I.bt("Privacy", "Privacy", "header.accountsOptionsMenu.privacyHeader", undefined, true),children:[eZ,eC]}),eB=(0,l.jsxs)(i.Lt.Section,{label:"",children:[eL,eT]}),eE=(0,l.jsxs)(i.Lt.Section,{label:"",children:[(0,l.jsx)("style",{children:'#VerticalNav-MoreOptions-Flyout [role="presentation"] {display: none;}'}),(0,l.jsx)(g,{paddingY:1}),e_]},"section-account-claiming"),eV=p?[ef,em,ev,eb,eE,ex,eP,eA,ey,eg,eC,ew,ej,eL,eZ,eM]:(0,l.jsxs)(i.Lt.Section,{label:I.bt("More options", "More options", "header.accountsOptionsMenu.optionsHeader", undefined, true),children:[ef,em,ev,eb,(0,l.jsx)(g,{paddingY:1}),e_,ex,eP,eA,ey,eg,eC,ew,ej,eL,eZ,eM]});return{currentlyIn:(0,l.jsxs)(i.Lt.Section,{label:I.bt("Currently in", "Currently in", "SwitchAccountsList.CurrentlyInTitle", undefined, true),children:[!!el&&(0,l.jsx)(i.Lt.Item,{onSelect:()=>ea?ee(el,void 0):K(el),option:es.currentAccount,selected:es.currentAccount,children:(0,l.jsx)(i.rU,{href:h?`/${el.username}/`:`${P.C0}/${el.username}/`,underline:"none",children:(0,l.jsx)(f.Z,{isCurrentAccount:!0,user:el})})}),!O?.opt_in_private_account&&ep]},"currently-in"),yourAccount:X?ek:eS,moreOptions:X?[ez,eI,eH,eB]:eV}}({onDismiss:t,advertiser:n,showAdsSupportOption:h,isWwwSite:_,isVerticalNavEnabled:U,handleFocus:()=>{e?.focus()}});return(0,l.jsx)(H.Z,{children:(0,l.jsxs)(i.Lt,{anchor:e,disableMobileUI:!0,id:O,idealDirection:V,isWithinFixedContainer:!U,onDismiss:t,zIndex:D,children:[o&&(R?(0,l.jsxs)(i.Lt.Section,{label:N.bt("You're no longer logged in to", "Oh no! You're no longer logged into", "header.accountsOptionsMenu.failedAccount", undefined, true),children:[(0,l.jsx)(i.Lt.Item,{onSelect:()=>{},option:X.failedAccount,children:(0,l.jsx)(f.Z,{user:R})}),(0,l.jsx)(I,{failedAccount:R,handleReauthAccount:F,handleRemoveUnauthAccount:$})]}):[W,G]),p?Y:null]})})}},699666:function(e,t,n){n.d(t,{Z:()=>r});var i=n(521009),s=n(749872),o=n(593891),l=n(959989),a=n(535701);function r(){let e=(0,a.Z)(),t=(0,i.Z)(),n=(0,o.aU)();return function(){t({event_type:101,component:8,element:8005}),(0,l.lv)()>1?(e.isAuth&&((0,s.RD)(e.id),(0,s.CV)("utils.user_deleted",{deleted_user:e.id})),n({redirectUrl:"/",source:"user_header",localStorageItems:(0,l.Q)()})):((0,s.CV)("utils.group_deleted"),n({redirectUrl:"/",source:"user_header"}))}}},525958:function(e,t,n){n.d(t,{Dm:()=>o,Y3:()=>s,YG:()=>i});let i=e=>["MOBILE","DESKTOP"].includes(e),s=e=>"STERLING"===e,o=e=>"ANALYTICS"===e},738827:function(e,t,n){n.d(t,{Z:()=>i});function i(e,t){return e.includes(t)||e.includes(80)}},708898:function(e,t,n){n.d(t,{Z:()=>s});var i=n(15667);let s=function(){let{country:e,isBot:t,isAuthenticated:n,locale:s}=(0,i.B)(),o="en"===s.slice(0,2);return t||!n&&o&&"US"===e}},124320:function(e,t,n){n.d(t,{Z:()=>s});var i=n(667294);let s=function(e,t){let n=(0,i.useRef)(e),s=(0,i.useRef)(void 0),o=(0,i.useRef)(void 0);(0,i.useEffect)(()=>{n.current=e},[e]),(0,i.useEffect)(()=>()=>{s.current&&clearTimeout(s.current)},[t]);let l=(0,i.useCallback)((...e)=>{o.current=e,s.current&&clearTimeout(s.current),s.current=window.setTimeout(()=>{n.current(...e),o.current=void 0},t)},[t]);return l.flush=(0,i.useCallback)(()=>{if(s.current&&(clearTimeout(s.current),s.current=void 0),o.current){let e=o.current;return o.current=void 0,n.current(...e)}},[]),l.cancel=(0,i.useCallback)(()=>{s.current&&(clearTimeout(s.current),s.current=void 0),o.current=void 0},[]),l}},38787:function(e,t,n){n.d(t,{Kw:()=>a,RD:()=>r,dD:()=>u});var i=n(575108),s=n(686319),o=n(959989);let l=["partner.biz_ownership_email","partner.business_name","partner.contact_email","partner.contact_phone","partner.contact_phone_country()","partner.enable_profile_address","partner.enable_profile_message","partner.is_linked_business","partner.profile_place()","place.country","place.extra_street","place.locality","place.postal_code","place.region","place.street","user.businesses()","user.email","user.fast_advertiser_info_has_any_managed_advertisers","user.full_name","user.id","user.image_medium_url","user.owners()","user.partner()","user.username"],a=async()=>{let e=await i.Z.create("UserSessionResource",{session_accounts:!0}).callCreate();return e.resource_response.data?.session_accounts||{}},r=(e,t)=>{let n=Object.freeze({});try{n=(0,o.rl)()}catch{e(`${t}.removeAccountDataFromLocalStorage.jsonParseFailed`)}let i=Object.keys(n);if(e(`${t}.removeAccountDataFromLocalStorage.start`),0===i.length||n[i[0]].logged_in)return void e(`${t}.removeAccountDataFromLocalStorage.early_return`);let s=i.reduce((e,t)=>({...e,[t]:{logged_in:!0}}),{});(0,o.r8)(s),e(`${t}.removeAccountDataFromLocalStorage.updated`)},c=e=>({id:e.id,username:e.username,email:e.email,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageLargeUrl:e.image_large_url||"",owners:e.owners||null,partner:e.partner?{bizContactEmail:e.partner?.contact_email||"",bizOwnershipEmail:e.partner?.biz_ownership_email||e.email||"",businessName:e.partner?.business_name,isLinkedBusiness:e.partner?.is_linked_business}:null,businesses:(e?.businesses||[]).map(t=>({...c(t),partner:{bizContactEmail:t.partner?.contact_email||"",bizOwnershipEmail:t.partner?.biz_ownership_email||e.email||"",businessName:t.partner?.business_name??"",isLinkedBusiness:t.partner?.is_linked_business??!1}}))}),u=async e=>{let t=await a(),n=e.id;t[n]||(t[n]={logged_in:!0});let i=Object.keys(t||{}).map(e=>({uri:`v3/users/${e}/`,method:"GET",params:{fields:l.join(",")}})),o=(await (0,s.Z)({url:"/v3/batch/",method:"POST",data:{requests:JSON.stringify(i)}})).resource_response.data;if(o&&Object.keys(o).length>0){var r=Object.keys(o).filter(e=>"success"===o[e].status).map(e=>c(o[e].data));let e=r.every(e=>!!e.fullName)?"fullName":"username";return[...r].sort((t,n)=>t[e]>n[e]?1:n[e]>t[e]?-1:0)}return[]}},607001:function(e,t,n){n.d(t,{Z:()=>o});var i=n(417162),s=n(929915);let o=()=>{let e=(0,i.g)(),t=(0,s.l)();return n=>{let{mobileOptions:i,desktopOptions:s,reason:o,attributionLabel:l,pinId:a}=n;e?e.showDesktopSignupModal({signupFlow:s?.modalType==="login"?{type:"login"}:{type:"signup"},reason:o,attributionLabel:l,...s?.modalOptions}):t&&t.showMobileSignupModal({reason:o,attributionLabel:l,headingType:i?.headingType??"none",pinId:a})}}},230117:function(e,t,n){n.d(t,{Z:()=>i});let i=e=>Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")},734263:function(e,t,n){n.d(t,{Z:()=>o});var i=n(883119),s=n(785893);function o({ariaHidden:e=!1,color:t,size:n}){return(0,s.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,s.jsx)(i.xv,{color:t,inline:!0,size:n??"200",children:"\xb7"})})}},414096:function(e,t,n){n.d(t,{Z:()=>u});var i=n(667294),s=n(883119),o=n(525839),l=n(252564),a=n(785893);let r=new s.H3([l.Z]);class c extends i.Component{constructor(...e){var t,n,i;super(...e),t="handleConnectionChange",n=e=>{this.forceUpdate(),"offline"===e.type?window.addEventListener("online",this.handleConnectionChange):window.removeEventListener("online",this.handleConnectionChange)},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){window.addEventListener("offline",this.handleConnectionChange)}componentWillUnmount(){window.removeEventListener("offline",this.handleConnectionChange)}render(){return!navigator.onLine&&(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{bottom:"90px"}},position:"fixed",width:"100%",zIndex:r,children:(0,a.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,a.jsx)(s.FN,{text:this.props.i18n.bt("Hmm...you're not connected to the Internet", "Hmm...you're not connected to the internet", "Toast that displays when a user is offline", undefined, true),type:"error"})})})}}function u(e){let t=(0,o.ZP)();return(0,a.jsx)(c,{...e,i18n:t})}},133011:function(e,t,n){n.d(t,{Z:()=>r});var i=n(667294),s=n(883119),o=n(525839),l=n(785893);let a=new s.Ry(1e4);function r(){let[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(null),c=(0,o.ZP)(),u=(0,i.useCallback)(()=>{n?.removeAttribute("tabindex"),n?.removeEventListener("blur",u),n?.removeEventListener("focusout",u)},[n]);(0,i.useEffect)(()=>(n||r(document.querySelector('[role="main"]')),()=>{n?.removeEventListener("blur",u),n?.removeEventListener("focusout",u)}),[n,u]);let d=(0,l.jsx)(s.xu,{color:"primary",children:(0,l.jsx)(s.kC,{alignItems:"center",height:75,justifyContent:"center",width:"100%",children:(0,l.jsx)(s.xv,{align:"center",color:"inverse",underline:e,weight:"bold",children:c.bt("Skip to content", "Skip to content", "SkipToContent.Message", undefined, true)})})});return(0,l.jsx)(s.iP,{onBlur:()=>t(!1),onFocus:()=>t(!0),onTap:()=>{n?.setAttribute("tabindex","-1"),n?.focus({preventScroll:!0}),n?.addEventListener("blur",u),n?.addEventListener("focusout",u)},children:e?(0,l.jsx)(s.xu,{"data-test-id":"skipToContentContainer",position:"fixed",width:"100%",zIndex:a,children:d}):(0,l.jsx)(s.xu,{"data-test-id":"hiddenSkipToContentContainer",height:1,margin:-1,overflow:"hidden",position:"absolute",width:1,children:d})})}},599402:function(e,t,n){n.d(t,{Z:()=>o});var i=n(883119),s=n(785893);function o({count:e,iconSlot:t}){let n=e<100?`${e}`:"99+";return(0,s.jsxs)(i.xu,{position:"relative",children:[t,e>0&&(0,s.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{right:-6-2*n.length,top:-8,padding:`0 ${3===n.length?"2px":"3px"} 0 2px`}},display:"flex",justifyContent:"center",position:"absolute",children:(0,s.jsx)(i.z$,{accessibilityLabel:"",count:e})})]})}},817618:function(e,t,n){n.d(t,{Z:()=>o});var i=n(341742),s=n(104659);function o({children:e}){let{setAppFocusState:t}=(0,s.I)();return(0,i.Z)(()=>(t(!1),()=>{t(!0)})),e}},570032:function(e,t,n){n.d(t,{q:()=>h,y:()=>p});var i=n(667294),s=n(274320),o=n(15667),l=n(686319),a=n(817998);function r(e,t){(0,a.T)(t)&&(0,l.Z)({method:"PUT",url:`/ads/v4/preferences/${e}/`,data:{level:"ADVERTISER",key:"CAMPAIGN_TOOL_PREFERENCE",preferences:t}})}var c=n(766922),u=n(785893);let d=(0,i.createContext)({campaignToolPreference:null,updateCampaignToolPreference:r}),h=({children:e})=>{let[t,n]=(0,i.useState)(null),l=(0,s.F)(),{advertiser:a}=(0,o.B)(),h=async(e,t)=>{r(e,t),n(t)};(0,i.useEffect)(()=>{(async()=>{a&&n(await (0,c.f)(a.id))})()},[a,l]);let p=(0,i.useMemo)(()=>({campaignToolPreference:t,updateCampaignToolPreference:h}),[t]);return(0,u.jsx)(d,{value:p,children:e})},p=()=>(0,i.useContext)(d)},766922:function(e,t,n){n.d(t,{Z:()=>d,f:()=>u});var i=n(667294),s=n(686319),o=n(274320),l=n(15667),a=n(817998);let r="ADVERTISER",c=(e,t)=>e&&e[t]&&e[t][0]&&e[t][0].preferences,u=async e=>{let t;try{let n=(await (0,s.Z)({method:"GET",url:`/ads/v4/preferences/${e}/`,data:{level:r,key:"CAMPAIGN_TOOL_PREFERENCE"}})).resource_response.data;t=c(n,r)}catch{return null}return t&&(0,a.T)(t)?t:null},d=()=>{let[e,t]=(0,i.useState)(null),n=(0,o.F)(),{advertiser:s}=(0,l.B)();return(0,i.useEffect)(()=>{(async()=>{s&&t(await u(s.id))})()},[s,n]),e}},22700:function(e,t,n){n.d(t,{_:()=>s,k:()=>i});let{Provider:i,useHook:s}=(0,n(729434).Z)("flyoutContext")},226513:function(e,t,n){n.d(t,{Z:()=>c});var i=n(667294),s=n(883119),o=n(22700),l=n(785893);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let r=new s.Ry(752);class c extends i.Component{constructor(...e){super(...e),a(this,"state",{flyout:void 0,showOnTopOfModal:!1,tooltip:void 0}),a(this,"showFlyoutWithinMasonry",(e,t=!1)=>{let n={...e,onDismiss:()=>{e.onDismiss&&e.onDismiss(),this.removeFlyoutFromMasonry()},positionRelativeToAnchor:!1};this.setState({flyout:{props:n},showOnTopOfModal:t})}),a(this,"removeFlyoutFromMasonry",()=>{this.setState({flyout:void 0})}),a(this,"showTooltipWithinMasonry",(e,t=!1)=>{let n={...e,onDismiss:()=>{e.onDismiss&&e.onDismiss(),this.removeTooltipFromMasonry()}};this.setState({tooltip:{props:n},showOnTopOfModal:t})}),a(this,"removeTooltipFromMasonry",()=>{this.setState({tooltip:void 0})})}getContext(){return{showTooltipWithinMasonry:this.showTooltipWithinMasonry,removeTooltipFromMasonry:this.removeTooltipFromMasonry,showFlyoutWithinMasonry:this.showFlyoutWithinMasonry,removeFlyoutFromMasonry:this.removeFlyoutFromMasonry}}render(){let{flyout:e,tooltip:t,showOnTopOfModal:n}=this.state,{children:a}=this.props,c=(e||t)&&n;return(0,l.jsx)(o.k,{value:this.getContext(),children:(0,l.jsxs)(i.Fragment,{children:[a,(0,l.jsxs)(s.xu,{position:c?"fixed":void 0,top:!!c||void 0,zIndex:c?r:void 0,children:[e&&(0,l.jsx)(s.J2,{_deprecatedShowCaret:e.props.showCaret,anchor:e.props.anchor,color:e.props.color,idealDirection:e.props.idealDirection,onDismiss:e.props.onDismiss,positionRelativeToAnchor:e.props.positionRelativeToAnchor,shouldFocus:e.props.shouldFocus,size:e.props.size,children:e.props.children}),t&&(0,l.jsx)(s.J2,{_deprecatedShowCaret:t.props.showCaret,anchor:t.props.anchor,color:"darkGray",idealDirection:t.props.idealDirection,onDismiss:t.props.onDismiss,positionRelativeToAnchor:t.props.positionRelativeToAnchor,shouldFocus:!1,size:"md",children:(0,l.jsx)(s.xu,{column:12,padding:3,children:t.props.children})})]})]})})}}},146621:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(667294).createContext)(()=>null)},427141:function(e,t,n){n.d(t,{Z:()=>s});var i=n(199593);function s(){let{conversations:{data:e}}=(0,i.Z)();return Array.from(Object.keys(e).map(t=>e[t]).filter(e=>e.users&&e.last_message)).sort((e,t)=>new Date((t.last_message||t).created_at).getTime()-new Date((e.last_message||e).created_at).getTime())}},320923:function(e,t,n){n.d(t,{Z:()=>c});var i=n(667294),s=n(883119),o=n(980787),l=n(318215),a=n(785893);let r=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,a.jsx)(l._7,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,c=({accessibilityLabel:e,compactMode:t,icon:n,rightIcon:l,selected:c,text:u,type:d="link",url:h,contextData:p,onClick:_})=>{let{logContextEvent:g}=(0,o.v)(),[f,m]=(0,i.useState)("transparent"),v=(0,i.useRef)(null),b=()=>{m("secondary")},x=()=>{m("transparent")},C=()=>{m("transparent")},y=()=>{m("secondary")},w=e=>{if(p){let{event:e,component:t,element:n}=p;g({event_type:e,component:t,element:n})}_&&_(e)},P=(0,a.jsx)(s.iP,{accessibilityLabel:e,onBlur:C,onFocus:y,onMouseEnter:b,onMouseLeave:x,onTap:({event:e})=>w(e),rounding:"circle",children:(0,a.jsx)(s.xu,{alignItems:"center",color:f,display:"flex",height:48,justifyContent:"center",rounding:"circle",width:48,children:n})});if(l||"link"!==d||!h||t){if("link"===d&&(t&&n||l)){let i,o,r="pill";r=n||l?u&&!t?"pill":"circle":"pill",n&&(i=n),l&&(o=l);let d=u instanceof Object?u:(0,a.jsx)(s.xv,{color:c?"default":"subtle",overflow:"normal",size:"200",weight:"bold",children:u});P=(0,a.jsx)(s.Tg,{accessibilityLabel:e,href:h||"",onBlur:C,onFocus:y,onMouseEnter:b,onMouseLeave:x,onTap:({event:e})=>w(e),rounding:r,children:(0,a.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[i,!!u&&!t&&(0,a.jsx)(s.xu,{paddingX:2,children:d}),o]})})}}else P=(0,a.jsx)(r,{anchorElementRef:v,experienceAnchor:"/"===h?".HomeButton2":"",children:(0,a.jsx)(s.Tg,{ref:v,accessibilityLabel:e,href:h,onBlur:C,onFocus:y,onMouseEnter:b,onMouseLeave:x,onTap:({event:e})=>w(e),rounding:"pill",children:(0,a.jsx)(s.xu,{color:f,paddingX:4,paddingY:4,rounding:"pill",children:(0,a.jsx)(s.xv,{color:c?"default":"subtle",overflow:"normal",weight:"bold",children:u})})})});return(0,a.jsx)(s.xu,{position:"relative",children:P})}},30536:function(e,t,n){n.d(t,{F:()=>i,j:()=>s});let{Provider:i,useHook:s}=(0,n(729434).Z)("SiteParametersContextType")},966279:function(e,t,n){n.d(t,{nJ:()=>d,Jo:()=>u,mv:()=>h});var i=n(667294),s=n(729434);let o={hiddenNews:{}};function l(e,t){if(e=e||o,"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"!==t.type)return e;{let{payload:{id:n,isHidden:i}}=t;return{hiddenNews:{...e?.hiddenNews,[n]:i}}}}var a=n(785893);let{Provider:r,useHook:c}=(0,s.Z)("HiddenNews");function u({children:e}){let[t,n]=(0,i.useReducer)(l,o),s=(0,i.useMemo)(()=>({dispatch:n,hiddenNews:t}),[n,t]);return(0,a.jsx)(r,{value:s,children:e})}function d(){let{dispatch:e,hiddenNews:{hiddenNews:t}}=c();return(0,i.useMemo)(()=>({updateNewsIdToHiddenNews:(t,n)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:n}})},getShownNewsCount:e=>e.filter(e=>e&&e.id&&!(e.id in t&&t[e.id])).length}),[e,t])}function h(){let{hiddenNews:e}=c();return e}},901971:function(e,t,n){n.d(t,{Z:()=>p,j:()=>_});var i=n(667294),s=n(729434),o=n(355940),l=n(982166),a=n(525839),r=n(535701),c=n(78762),u=n(785893);let d=(0,c.Z)(()=>n.e("53732").then(n.bind(n,187948)),void 0,e=>187948,"app-www-ReportBug-ReportBug"),{Provider:h,useHook:p}=(0,s.Z)("reportBugModalContext");function _({children:e}){let t=(0,a.ZP)(),[n,s]=(0,i.useState)(!1),c=(0,r.Z)(),p=(0,i.useCallback)(()=>{s(!0)},[]),_=(0,i.useMemo)(()=>({handleShowReportBugModal:p}),[p]);return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(h,{value:_,children:e}),n&&c.isAuth&&(0,u.jsx)(l.ZP,{accessibilityModalLabel:t.bt("Report bug", "Report bug", "header.accountsOptionsMenu.logout", undefined, true),onDismiss:()=>{s(!1)},children:(0,u.jsx)(o.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,u.jsx)(d,{onDismiss:()=>{s(!1)},username:c.username})})})]})}},151594:function(e,t,n){n.d(t,{f:()=>a,w:()=>r});var i=n(667294),s=n(729434),o=n(785893);let{Provider:l,useHook:a}=(0,s.Z)("Session");function r({children:e}){let[t,n]=(0,i.useState)(void 0),s=(0,i.useCallback)(()=>n(void 0),[]),a=(0,i.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:s}),[t,s]);return(0,o.jsx)(l,{value:a,children:e})}},631395:function(e,t,n){n.d(t,{QV:()=>f,Td:()=>v,Qj:()=>b});var i=n(667294),s=n(883119),o=n(876594),l=n(521009),a=n(562915),r=n(525839),c=n(77836);let u={home:{default:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.3217 0.307444C11.7345 0.0407477 12.2654 0.0407477 12.6782 0.307444L22.3616 6.56277C22.7181 6.79303 22.9334 7.1884 22.9334 7.61275V23.25H1.06653V7.61275C1.06653 7.1884 1.28181 6.79303 1.63826 6.56277L11.3217 0.307444ZM3.56653 8.2934V20.75H20.4334V8.2934L11.9999 2.84555L3.56653 8.2934Z" fill="black"/><path fill-rule="evenodd" clip-rule="evenodd" d="M14.25 16.0469V20.5H14.2344V23H16.75V16.0469C16.75 13.4235 14.6234 11.2969 12 11.2969C9.37665 11.2969 7.25 13.4235 7.25 16.0469V23H9.75V20.5V20.1094V16.0469C9.75 14.8042 10.7574 13.7969 12 13.7969C13.2426 13.7969 14.25 14.8042 14.25 16.0469Z" fill="black"/></svg>')`,selected:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none"><path d="M21.6834 22H2.31659V7.61275L12 1.35742L21.6834 7.61275V22Z" fill="black"/><path d="M2.31659 22H1.31659V23H2.31659V22ZM21.6834 22V23H22.6834V22H21.6834ZM21.6834 7.61275H22.6834C22.6834 7.27327 22.5112 6.95697 22.226 6.77277L21.6834 7.61275ZM2.31659 7.61275L1.77398 6.77277C1.48882 6.95697 1.31659 7.27327 1.31659 7.61275H2.31659ZM12 1.35742L12.5426 0.51744C12.2123 0.304083 11.7877 0.304083 11.4574 0.51744L12 1.35742ZM2.31659 23H21.6834V21H2.31659V23ZM22.6834 22V7.61275H20.6834V22H22.6834ZM1.31659 7.61275V22H3.31659V7.61275H1.31659ZM22.226 6.77277L12.5426 0.51744L11.4574 2.1974L21.1408 8.45273L22.226 6.77277ZM11.4574 0.51744L1.77398 6.77277L2.8592 8.45273L12.5426 2.1974L11.4574 0.51744Z" fill="black"/><path d="M9.25 17.0469C9.25 15.5281 10.4812 14.2969 12 14.2969C13.5188 14.2969 14.75 15.5281 14.75 17.0469V23.5293H9.25V17.0469Z" fill="white"/></svg>')`},create:{default:`url('data:image/svg+xml,<svg width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M19 3.5H5C4.17157 3.5 3.5 4.17157 3.5 5V19C3.5 19.8284 4.17157 20.5 5 20.5H19C19.8284 20.5 20.5 19.8284 20.5 19V5C20.5 4.17157 19.8284 3.5 19 3.5ZM5 1C2.79086 1 1 2.79086 1 5V19C1 21.2091 2.79086 23 5 23H19C21.2091 23 23 21.2091 23 19V5C23 2.79086 21.2091 1 19 1H5Z" fill="%23111111"/><path d="M13.25 7C13.25 6.30964 12.6904 5.75 12 5.75C11.3096 5.75 10.75 6.30964 10.75 7V10.75H7C6.30964 10.75 5.75 11.3096 5.75 12C5.75 12.6904 6.30964 13.25 7 13.25H10.75V17C10.75 17.6904 11.3096 18.25 12 18.25C12.6904 18.25 13.25 17.6904 13.25 17V13.25H17C17.6904 13.25 18.25 12.6904 18.25 12C18.25 11.3096 17.6904 10.75 17 10.75H13.25V7Z" fill="%23111111"/></svg>')`,selected:`url('data:image/svg+xml,<svg width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 1C2.79086 1 1 2.79086 1 5V19C1 21.2091 2.79086 23 5 23H19C21.2091 23 23 21.2091 23 19V5C23 2.79086 21.2091 1 19 1H5ZM12 4.75C12.6904 4.75 13.25 5.30964 13.25 6V10.75H18C18.6904 10.75 19.25 11.3096 19.25 12C19.25 12.6904 18.6904 13.25 18 13.25H13.25V18C13.25 18.6904 12.6904 19.25 12 19.25C11.3096 19.25 10.75 18.6904 10.75 18V13.25H6C5.30964 13.25 4.75 12.6904 4.75 12C4.75 11.3096 5.30964 10.75 6 10.75H10.75V6C10.75 5.30964 11.3096 4.75 12 4.75Z" fill="%23111111"/></svg>')`},today:{default:`url('data:image/svg+xml,<svg width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32453)"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 21.5C17.2467 21.5 21.5 17.2467 21.5 12C21.5 6.75329 17.2467 2.5 12 2.5C6.75329 2.5 2.5 6.75329 2.5 12C2.5 17.2467 6.75329 21.5 12 21.5ZM12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24Z" fill="%23111111"/><path fill-rule="evenodd" clip-rule="evenodd" d="M18.3839 5.61609C18.7375 5.96967 18.8463 6.49995 18.6606 6.96423L15.7439 14.2561C15.7415 14.2624 15.739 14.2687 15.7365 14.275C15.4315 15.0368 14.8232 15.6361 14.0591 15.9306L6.94891 18.6666C6.48783 18.844 5.9655 18.7332 5.61615 18.3839C5.2668 18.0346 5.15597 17.5123 5.33336 17.0512L8.06803 9.94284C8.36219 9.17808 8.96156 8.56859 9.72491 8.26414L17.0357 5.33943C17.5 5.15369 18.0303 5.26252 18.3839 5.61609ZM13.4115 13.3556C13.4126 13.3531 13.4136 13.3505 13.4146 13.3479L15.2561 8.74398L10.6512 10.5862C10.5376 10.6315 10.4466 10.7228 10.4014 10.8402L8.67684 15.323L13.1601 13.5978C13.2734 13.5541 13.364 13.4666 13.4115 13.3556Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32453"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>')`,selected:`url('data:image/svg+xml,<svg width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32464)"><path d="M12.8672 12.9015C12.9835 12.7854 13.0757 12.6476 13.1386 12.4958C13.2016 12.3441 13.234 12.1815 13.2341 12.0172C13.2342 11.8529 13.202 11.6903 13.1392 11.5385C13.0764 11.3867 12.9843 11.2487 12.8682 11.1325C12.7522 11.0163 12.6143 10.9241 12.4626 10.8611C12.3109 10.7982 12.1482 10.7657 11.984 10.7656C11.8197 10.7655 11.657 10.7978 11.5052 10.8606C11.3534 10.9234 11.2155 11.0154 11.0992 11.1315C10.9832 11.2477 10.8911 11.3857 10.8283 11.5375C10.7655 11.6893 10.7333 11.8519 10.7334 12.0162C10.7336 12.348 10.8655 12.666 11.1002 12.9005C11.335 13.135 11.6532 13.2666 11.985 13.2664C12.3167 13.2662 12.6348 13.1342 12.8692 12.8995L12.8672 12.9015ZM15.1372 14.0335C14.9302 14.5505 14.5172 14.9575 13.9982 15.1575L5.61925 18.3815L8.84225 10.0045C9.04225 9.4845 9.44925 9.0715 9.96625 8.8655L18.5833 5.4185L15.1362 14.0355L15.1372 14.0335ZM20.4853 3.5145C15.7993 -1.1715 8.20125 -1.1715 3.51525 3.5145C-1.17175 8.2015 -1.17175 15.7995 3.51525 20.4855C8.20125 25.1715 15.7993 25.1715 20.4853 20.4855C25.1713 15.7995 25.1713 8.2005 20.4853 3.5145Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32464"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>')`},notifications:{default:`url('data:image/svg+xml,<svg width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M16.5 14.227V7C16.5 4.51471 14.4853 2.5 12 2.5C9.51471 2.5 7.5 4.51471 7.5 7V14.227L6.73561 14.9643C6.26116 15.422 5.84638 15.9379 5.5032 16.5H18.4968C18.1536 15.9379 17.7388 15.422 17.2644 14.9643L16.5 14.227ZM21.3013 16.5C21.6365 17.2867 21.8745 18.1248 22 19H2C2.12546 18.1248 2.36354 17.2867 2.69865 16.5C3.23694 15.2362 4.0256 14.1049 5 13.165V7C5 3.134 8.134 0 12 0C15.866 0 19 3.134 19 7V13.165C19.9744 14.1049 20.7631 15.2362 21.3013 16.5ZM15 20.9998H9C9 21.1702 9.01421 21.3373 9.0415 21.5C9.18134 22.3334 9.66468 23.0501 10.341 23.4998C10.8161 23.8157 11.3866 23.9998 12 23.9998C12.6134 23.9998 13.1839 23.8157 13.659 23.4998C14.3353 23.0501 14.8187 22.3334 14.9585 21.5C14.9858 21.3373 15 21.1702 15 20.9998Z" fill="%23111111"/></svg>')`,selected:`url('data:image/svg+xml,<svg width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32470)"><path d="M19 7V13.165C20.581 14.69 21.673 16.719 22 19H2C2.327 16.719 3.419 14.69 5 13.165V7C5 3.134 8.134 0 12 0C15.866 0 19 3.134 19 7Z" fill="%23111111"/><path d="M15 20.9998C15 22.6568 13.657 23.9998 12 23.9998C10.343 23.9998 9 22.6568 9 20.9998H15Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32470"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>')`},messages:{default:`url('data:image/svg+xml,<svg width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_800_18532)"><rect width="24" height="24" fill="none"/><path d="M4.6831 18.2737L4.84947 17.6551L4.44456 17.1588C3.07314 15.4778 2.25 13.3365 2.25 11C2.25 5.61536 6.61536 1.25 12 1.25C17.3846 1.25 21.75 5.61536 21.75 11C21.75 16.3846 17.3846 20.75 12 20.75C10.6917 20.75 9.44625 20.4881 8.30368 20.0202L7.75509 19.7956L7.23401 20.0782L3.67907 22.0065L4.6831 18.2737Z" stroke="%23111111" stroke-width="2.5"/><circle cx="6.99219" cy="11.0078" r="1.5" fill="%23111111"/><path d="M13.4961 11.0078C13.4961 11.8362 12.8245 12.5078 11.9961 12.5078C11.1677 12.5078 10.4961 11.8362 10.4961 11.0078C10.4961 10.1794 11.1677 9.50781 11.9961 9.50781C12.8245 9.50781 13.4961 10.1794 13.4961 11.0078Z" fill="%23111111"/><circle cx="17" cy="11.0078" r="1.5" fill="%23111111"/></g><defs><clipPath id="clip0_800_18532"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>')`,selected:`url('data:image/svg+xml,<svg width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32468)"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 12.5C17.172 12.5 16.5 11.829 16.5 11C16.5 10.171 17.172 9.5 18 9.5C18.828 9.5 19.5 10.171 19.5 11C19.5 11.829 18.828 12.5 18 12.5ZM12 12.5C11.172 12.5 10.5 11.829 10.5 11C10.5 10.171 11.172 9.5 12 9.5C12.828 9.5 13.5 10.171 13.5 11C13.5 11.829 12.828 12.5 12 12.5ZM6 9.5C6.828 9.5 7.5 10.171 7.5 11C7.5 11.829 6.828 12.5 6 12.5C5.172 12.5 4.5 11.829 4.5 11C4.5 10.171 5.172 9.5 6 9.5ZM12 0C5.925 0 1 4.925 1 11C1 13.636 1.93 16.054 3.476 17.949L2.016 23.377C1.909 23.805 2.366 24.151 2.749 23.933L7.83 21.177C9.117 21.704 10.523 22 12 22C18.075 22 23 17.075 23 11C23 4.925 18.075 0 12 0Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32468"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>')`},moreOptions:{default:`url('data:image/svg+xml,<svg width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32461)"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 7.45081V16.5492L12 21.1206L20 16.5492V7.45081L12 2.87938L4 7.45081ZM12 0L1.5 6V18L12 24L22.5 18V6L12 0Z" fill="%23111111"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9ZM6.5 12C6.5 8.96243 8.96243 6.5 12 6.5C15.0376 6.5 17.5 8.96243 17.5 12C17.5 15.0376 15.0376 17.5 12 17.5C8.96243 17.5 6.5 15.0376 6.5 12Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32461"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>')`,selected:`url('data:image/svg+xml,<svg width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_449_32472)"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 16.25C9.653 16.25 7.75 14.347 7.75 12C7.75 9.653 9.653 7.75 12 7.75C14.347 7.75 16.25 9.653 16.25 12C16.25 14.347 14.347 16.25 12 16.25ZM12 0L1.5 6V18L12 24L22.5 18V6L12 0Z" fill="%23111111"/></g><defs><clipPath id="clip0_449_32472"><rect width="24" height="24" fill="white"/></clipPath></defs></svg>')`},shopping:{default:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M22.9889 17.127L21.4996 7H18.2496V6.25C18.2496 2.93629 15.5633 0.25 12.2496 0.25C8.93591 0.25 6.24962 2.93629 6.24962 6.25V7H2.49962L1.01035 17.127C0.477656 20.7493 3.28525 24 6.9465 24H17.0527C20.714 24 23.5216 20.7493 22.9889 17.127ZM3.97842 17.5635L5.0907 10H18.9085L20.0208 17.5635C20.2872 19.3747 18.8834 21 17.0527 21H6.9465C5.11588 21 3.71208 19.3747 3.97842 17.5635ZM9.74962 6.25C9.74962 5.26045 10.3245 4.40518 11.1586 4C11.4883 3.83984 11.8585 3.75 12.2496 3.75C12.6408 3.75 13.011 3.83984 13.3406 4C14.1747 4.40518 14.7496 5.26045 14.7496 6.25V7H9.74962V6.25Z" fill="%23111111"/></svg>')`,selected:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.2501 0.25C8.9364 0.25 6.25011 2.93629 6.25011 6.25V7H2.5001L1.01083 17.127C0.478144 20.7493 3.28574 24 6.94699 24H17.0532C20.7145 24 23.5221 20.7493 22.9894 17.127L21.5001 7H18.2501V6.25C18.2501 2.93629 15.5638 0.25 12.2501 0.25ZM14.7501 7V6.25C14.7501 4.86929 13.6308 3.75 12.2501 3.75C10.8694 3.75 9.75011 4.86929 9.75011 6.25V7H14.7501Z" fill="%23111111"/></svg>')`},categories:{default:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M24 10.5V0H13.5V10.5H24ZM15.5 2H22V8.5H15.5V2Z" fill="%23111111"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 10.5H0V0H10.5V10.5ZM8.5 8.5H2V2H8.5V8.5Z" fill="%23111111"/><path fill-rule="evenodd" clip-rule="evenodd" d="M24 24H13.5V13.5H24V24ZM22 22H15.5V15.5H22V22Z" fill="%23111111"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 24H0V13.5H10.5V24ZM8.5 22H2V15.5H8.5V22Z" fill="%23111111"/></svg>')`,selected:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="${c.Xd}" height="${c.Xd}" viewBox="0 0 24 24" fill="none"><path d="M10.5 10.5H0V0H10.5V10.5Z" fill="%23111111"/><path d="M24 24H13.5V13.5H24V24Z" fill="%23111111"/><path d="M13.5 10.5H24V0H13.5V10.5Z" fill="%23111111"/><path d="M10.5 24H0V13.5H10.5V24Z" fill="%23111111"/></svg>')`}},d={home:{default:"home",selected:"home-fill"},create:{default:"square-plus",selected:"square-plus-fill"},today:{default:"compass",selected:"compass-fill"},notifications:{default:"bell",selected:"bell-fill"},messages:{default:"speech-ellipsis",selected:"speech-ellipsis-fill"},moreOptions:{default:"cog",selected:"cog-fill"},shopping:{default:"shopping-bag",selected:"shopping-bag-fill"},categories:{default:"view-type-default",selected:"view-type-default-fill"}};var h=n(616550),p=n(921825),_=n(785893);function g(e){let{preload:t}=(0,p.G)(),{onClick:n,_onMouseEnter:i,preloadExtent:o="Both",route:l,...a}=e;return(0,_.jsx)(s.rU,{_onMouseEnter:e=>{try{i?.(e)}catch{}"None"!==o&&t(l,o)},href:(0,h.Gn)(l.kind,l.routeParams),onClick:e=>{try{n?.(e)}catch{}t(l,"Both")},...a})}let f=({iconName:e,selected:t,inline:n,verticalAlign:i})=>(0,a.Z)()?(0,_.jsx)(s.JO,{accessibilityLabel:"",color:"default",icon:t?d[e].selected:d[e].default,size:c.nQ}):(0,_.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundImage:t?u[e].selected:u[e].default,verticalAlign:i}},display:n?"inlineBlock":"block",height:c.Xd,width:c.Xd}),m=({count:e})=>{if(!e||e<=0)return null;let t=e<100?`${e}`:"99+";return(0,_.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",top:6,left:`calc(50% + ${4-t.length}px)`}},display:"flex",justifyContent:"center",position:"absolute",children:(0,_.jsx)(s.z$,{accessibilityLabel:"",count:e})})},v=(0,i.forwardRef)(({accessibilityLabel:e,accessibilityPopupRole:t,accessibilityControls:n,badgeCount:l,tooltipText:r,href:u,iconName:h,selected:p,onClick:g,onMouseDown:v,onMouseEnter:b,dataTestId:x},C)=>{let y=(0,a.Z)(),[w,P]=(0,i.useState)("transparent"),A=r||e,j=!!t,L=j?p:void 0;if(y){let i=p?d[h].selected:d[h].default,o={text:A,idealDirection:c.Mh,zIndex:c.BO},a=c.yg,r=u?(0,_.jsx)(s.I_,{accessibilityLabel:e,dataTestId:x,href:u,icon:i,onClick:g,size:a,tooltip:o}):(0,_.jsx)(s.hU,{accessibilityControls:n,accessibilityExpanded:L,accessibilityHaspopup:j,accessibilityLabel:e,accessibilityPopupRole:t,dataTestId:x,icon:i,onClick:g,size:a,tooltip:o});return(0,_.jsxs)(s.xu,{ref:C,onMouseDown:v,onMouseEnter:b,position:"relative",children:[r,(0,_.jsx)(m,{count:l})]})}let Z=()=>{P(o.Kuk)},M=()=>{P("transparent")},T=(0,_.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:w}},display:"flex",height:48,justifyContent:"center",onMouseDown:v,onMouseEnter:b,rounding:c.dv,width:48,children:(0,_.jsx)(f,{iconName:h,selected:p})});return(0,_.jsx)(s.u,{idealDirection:c.Mh,text:A,zIndex:c.BO,children:(0,_.jsxs)(s.xu,{position:"relative",children:[u?(0,_.jsx)(s.Tg,{ref:C,accessibilityLabel:e,dataTestId:x,href:u,onMouseEnter:Z,onMouseLeave:M,onTap:g,rounding:c.dv,tapStyle:c.xp,children:T}):(0,_.jsx)(s.iP,{ref:C,accessibilityControls:n,accessibilityExpanded:L,accessibilityHaspopup:j,accessibilityLabel:e,accessibilityPopupRole:t,dataTestId:x,onMouseEnter:Z,onMouseLeave:M,onTap:g,rounding:c.dv,tapStyle:c.xp,children:T}),(0,_.jsx)(m,{count:l})]})})}),b=(0,i.forwardRef)(({accessibilityLabel:e,accessibilityControls:t,iconName:n,selected:a,onClick:u,onMouseDown:d,onMouseEnter:h,route:p,preloadExtent:m,dataTestId:v,variant:b="short"},x)=>{let C=(0,l.Z)(),y=(0,r.ZP)(),[w,P]=(0,i.useState)("transparent"),[A,j]=(0,i.useState)(!1),L=()=>{h?.(),P(o.Kuk),j(!0)},Z=(0,i.useRef)(null),M=(0,c.vg)(y,b);return(0,_.jsx)(s.xu,{onMouseEnter:L,onMouseLeave:()=>{P("transparent"),j(!1)},position:"relative",children:(0,_.jsx)(s.iP,{ref:x,accessibilityControls:t,accessibilityExpanded:A,accessibilityHaspopup:!0,accessibilityLabel:e,dataTestId:v,onTap:L,rounding:c.dv,tapStyle:c.xp,children:(0,_.jsxs)(s.xu,{ref:Z,alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:w}},display:"flex",height:48,id:t,justifyContent:"center",onMouseDown:d,rounding:c.dv,width:48,children:[A&&(0,_.jsx)(s.Lt,{anchor:Z.current,disableMobileUI:!0,id:"ideas-dropdown",idealDirection:"right",isWithinFixedContainer:!1,onDismiss:()=>j(!1),zIndex:c.m6,children:M.map(e=>(0,_.jsx)(s.Lt.Link,{href:`/ideas/${e.slug}/${e.value}/`,onClick:()=>{C({object_id_str:e.value,component:8,event_type:101,element:216,aux_data:{interest_id:e.value,interest:e.label}})},option:e},`cat-${e.value}`))}),(0,_.jsx)(g,{onClick:u,preloadExtent:m,route:p,children:(0,_.jsx)(f,{iconName:n,selected:a})})]})})})})},712511:function(e,t,n){n.d(t,{Z:()=>o});var i=n(244529),s=n(403252);function o(){let{enabled:e}=(0,i.Z)(),{enabled:t}=(0,s.Z)();return{enabled:e||t}}},403252:function(e,t,n){n.d(t,{Z:()=>u});var i=n(616550),s=n(506662),o=n(274320),l=n(15667),a=n(708898),r=n(647709),c=n(535701);let u=function(){let e=(0,c.Z)(),{isRTL:t}=(0,l.B)(),n=(0,i.TH)(),u=(0,r.ZP)(),{checkExperiment:d}=(0,o.F)(),h=(0,a.Z)()&&"desktop"===u&&!(0,s.nU)(n)&&!(0,s.Xn)(n)&&!(0,s.C$)(n)&&!(0,s.Ni)(n)&&!(0,s.XQ)(n)&&!t&&!e.isAuth;return{enabled:h&&d("web_unauth_vertical_nav").anyEnabled,experimentGroup:h?d("web_unauth_vertical_nav").group:void 0}}},509120:function(e,t,n){n.d(t,{Z:()=>u});var i=n(667294),s=n(883119),o=n(785893);function l(e){return`${Math.min(100*e,100)}%`}function a({customCover:e,imgPos:t,imgUrl:n,isBoardCoverLoadEnabled:s}){let[o,a]=(0,i.useState)({height:0,loaded:!s,width:0}),{height:r,loaded:c,width:u}=o;if((0,i.useEffect)(()=>{let e=new Image;e.onload=()=>{a({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=n},[n]),!e||!t||!r||!u)return{loaded:c,position:"center center"};let d=u-t.width,h=r-t.height,p=d>0?l(t.x/d):"center",_=h>0?l(t.y/h):"center";return{loaded:c,position:`${p} ${_}`}}function r(e){let{loaded:t,position:n}=a(e),{imgUrl:i}=e,l={backgroundImage:`url(${i})`,backgroundPosition:n,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,o.jsx)(s.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,o.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:l},"data-test-id":"cover-image",children:(0,o.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function c(e){let{loaded:t,position:n}=a(e),{alt:i,color:l,imgUrl:r}=e;return(0,o.jsx)(s.zd,{height:"100%",width:"100%",children:t&&(0,o.jsx)("img",{alt:i||"",src:r,style:{backgroundColor:l||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:n,width:"100%"}})})}function u(e){let{isBoardCoverLoadEnabled:t,renderAsImage:n}=e;return n?(0,o.jsx)(c,{...e,isBoardCoverLoadEnabled:t}):(0,o.jsx)(r,{...e,isBoardCoverLoadEnabled:t})}},271597:function(e,t,n){n.d(t,{AC:()=>l,FC:()=>u,FP:()=>r,M0:()=>a,SA:()=>h,Xq:()=>d,Y_:()=>o,o2:()=>s,s0:()=>i,z9:()=>c});let i=44,s=40,o=49,l=69,a=236,r=157,c=320,u=213,d=7,h=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"]},741331:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(667294).createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}})},278964:function(e,t,n){n.d(t,{Z:()=>l});var i=n(667294),s=n(741331),o=n(785893);function l({children:e}){let[t,n]=(0,i.useState)(null),[l,a]=(0,i.useState)(null),[r,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(null),h=(0,i.useMemo)(()=>({inboxButton:t,setInboxButton:n,profileInboxButton:l,groupBoardMessageButton:u,setProfileInboxButton:a,isUnblockToast:r,setIsUnblockToast:c,setGroupBoardMessageButton:d}),[t,l,r,u]);return(0,o.jsx)(s.Z,{value:h,children:e})}},966269:function(e,t,n){n.d(t,{Z:()=>o});var i=n(667294),s=n(741331);function o(){let e=(0,i.useContext)(s.Z);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},314708:function(e,t,n){n.d(t,{Z:()=>P});var i=n(667294),s=n(616550),o=n(883119),l=n(355940),a=n(525839),r=n(506662),c=n(821806),u=n(378888),d=n(199593),h=n(543188),p=n(879922),_=n(833036),g=n(536488),f=n(25837),m=n(966279),v=n(244529),b=n(785893);let x=()=>n.e("94057").then(n.bind(n,806413)),C=(0,i.lazy)(x);function y({onClearBadges:e,onClick:t,onPanelChange:n,tooltipText:y}){let w=(0,a.ZP)(),P=(0,s.TH)(),A=(0,i.useRef)(null),[j,L]=(0,i.useState)(!1),[Z,M]=(0,i.useState)(!1),[T,S]=(0,i.useState)(!1),[k,z]=(0,i.useState)(!1),{tab:I,news_hub_id:H}=(0,u.mB)(P.search),{conversations:{conversationsUnseenCount:B,newsHubCount:E}}=(0,d.Z)(),V=e=>{if((0,r.L6)(P))return;let t=Math.max(e,0),n=w.bt("Pinterest", "Pinterest", " - ", undefined, true);window.document.title=t?`(${t}) ${n}`:n};(0,i.useEffect)(()=>{V(B+E),P.pathname.startsWith("/notifications")&&"inbox"!==I&&L(!0)},[B,E]);let O=()=>{t?.(),L(!j),e(h.S.NEWS_HUB),V(0)};(0,i.useEffect)(()=>{let e=setTimeout(()=>{M(j),S(j),n?.(j)},100);return()=>clearTimeout(e)},[j]),(0,i.useEffect)(()=>{j&&n?.(j)},[j]);let{enabled:D}=(0,v.Z)(),N={verticalNav:E?w.bt("Updates. You have unread updates.", "Updates. You have unread updates.", "updates.button.badge.updates", undefined, true):w.bt("Updates", "Updates", "updates.button", undefined, true),nonVerticalNav:E?w.bt("Notifications. You have unread notifications.", "Notifications. You have unread notifications.", "notifications.button.badge.notifications", undefined, true):w.bt("Notifications", "Notifications", "notifications.button", undefined, true)},R=y||w.bt("Notifications", "Notifications", "navbar.newsButton.tooltip", undefined, true);return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(o.xu,{ref:A,"data-test-id":"bell-icon",onMouseEnter:x,position:"relative",children:D?(0,b.jsx)(_.Z,{accessibilityControls:g.o9,accessibilityLabel:N.verticalNav,badgeCount:E,onClick:O,selected:j,tooltipText:R,verticalNavIconName:"notifications"}):(0,b.jsx)(o.u,{accessibilityLabel:"",text:R,zIndex:new o.H3([new o.Ry(f.fe)]),children:(0,b.jsx)(p.Z,{accessibilityLabel:N.nonVerticalNav,badgeCount:E,icon:"bell",onClick:O,selected:j})})}),(0,b.jsx)(m.Jo,{children:(0,b.jsx)("div",{className:"newsHubSidebarWrapper",style:j?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:Z&&(0,b.jsx)(l.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,b.jsx)(c.Z,{children:(0,b.jsx)(C,{handleDismissPanel:()=>{L(!1),z(!1)},highlightScrollSidebar:k,newsButton:A.current,show:T,utmNewsHubId:H||null})})})})})]})}var w=n(650088);function P({onClick:e,onPanelChange:t,tooltipText:n}){return(0,b.jsx)(w.Z,{icon:"bell",children:({onClearBadges:i})=>(0,b.jsx)(y,{onClearBadges:i,onClick:e,onPanelChange:t,tooltipText:n})})}},879922:function(e,t,n){n.d(t,{Z:()=>a});var i=n(883119),s=n(599402),o=n(320923),l=n(785893);function a({accessibilityLabel:e,badgeCount:t=0,icon:n="speech-ellipsis",onClick:a,selected:r=!1}){return(0,l.jsx)(o.Z,{accessibilityLabel:e,contextData:{event:101,component:8,element:1187},icon:(0,l.jsx)(s.Z,{count:t,iconSlot:(0,l.jsx)(i.JO,{accessibilityLabel:"",color:r?"default":"subtle",icon:n,size:24})}),onClick:a,text:e,type:"button"},"NotificationsButton")}},833036:function(e,t,n){n.d(t,{Z:()=>l});var i=n(521009),s=n(631395),o=n(785893);function l({dataTestId:e,accessibilityLabel:t,accessibilityControls:n,tooltipText:l,badgeCount:a,onClick:r,selected:c,verticalNavIconName:u}){let d=(0,i.Z)();return(0,o.jsx)(s.Td,{accessibilityControls:n,accessibilityLabel:t,accessibilityPopupRole:"dialog",badgeCount:a,dataTestId:e,iconName:u,onClick:({event:e})=>{d({event_type:101,component:8,element:1187}),r&&r(e)},selected:c,tooltipText:l})}},536488:function(e,t,n){n.d(t,{AI:()=>V,AM:()=>x,AY:()=>q,Ay:()=>a,C:()=>Q,Cc:()=>u,DX:()=>T,GO:()=>B,HJ:()=>r,I2:()=>N,IO:()=>es,IV:()=>s,J0:()=>f,LL:()=>J,Ng:()=>i,P:()=>P,P3:()=>g,QE:()=>en,QX:()=>ee,Rd:()=>w,So:()=>v,V$:()=>h,Vp:()=>X,WC:()=>L,ZH:()=>z,aE:()=>_,c4:()=>A,cU:()=>j,ci:()=>Z,di:()=>D,gb:()=>K,gs:()=>H,hD:()=>F,hf:()=>O,hp:()=>E,hy:()=>l,ie:()=>m,kJ:()=>Y,kc:()=>y,mD:()=>$,mM:()=>M,o9:()=>o,pv:()=>d,qZ:()=>C,qb:()=>b,uW:()=>I,uZ:()=>c,uy:()=>U,vG:()=>W,wA:()=>p,wl:()=>R,yS:()=>et,yc:()=>k,yf:()=>eo,ys:()=>G,zM:()=>S});let i={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},s=3,o="news-feed-sidebar",l=360,a=15,r=375,c=64,u=36,d=44,h=344,p=164,_=328,g=164,f=108.7,m=3,v=82,b=82,x=164,C=164,y=4,w=164,P=164,A=2,j=82,L=164,Z=2,M=2,T=4,S=328,k="290x",z="170x",I={backgroundColor:"rgba(0, 0, 0, 0.4)"},H=4,B="1px",E=48,V=32,O=36,D="136x136",N=2,R=24,F=20,$=72,X=48,U=54,W=54,G=4,Y=118,q=236,K={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18,HIGHLIGHT_NOTIFICATION:23},J="recommendation",Q="dropdown_item_settings_id",ee=10,et=20,en=5e3,ei="#E9E4FF",es={backgroundColor:ei,borderColor:ei,paddingLeft:"16px",paddingTop:"16px",paddingBottom:"16px",paddingRight:"12px"},eo={...es,paddingRight:"10px"}},543188:function(e,t,n){n.d(t,{S:()=>i});let i={NEWS_HUB:1,INBOX:2}},375363:function(e,t,n){n.d(t,{Z:()=>I});var i=n(667294),s=n(616550),o=n(883119),l=n(575108),a=n(111330),r=n(679422),c=n(525839),u=n(506662),d=n(274320),h=n(753143),p=n(341742),_=n(535701),g=n(199593),f=n(427141),m=n(543188),v=n(864289),b=n(966269),x=n(879922),C=n(833036),y=n(25837),w=n(980787),P=n(744862),A=n(15667),j=n(502588),L=n(244529),Z=n(785893);function M({conversation:e,anchor:t}){let[n,s]=(0,i.useState)(!1),{dropdownOpen:l,conversationOpen:r}=(0,g.Z)(),u=(0,c.ZP)(),{isRTL:d}=(0,A.B)(),{logContextEvent:_}=(0,w.v)(),{enabled:f}=(0,L.Z)();if((0,p.Z)(()=>{let t=e.last_message,n=h.ZP.getItem(a.Td);t&&t.id!==n&&setTimeout(()=>{s(!0),_({event_type:13,component:14993}),h.ZP.setItem(a.Td,t.id),h.ZP.setItem(a.eQ,Date.now()),window.addEventListener("click",e=>{document.getElementById("message-notif-toast")?.contains(e.target)||s(!1)}),setTimeout(()=>{s(!1)},5e3)},j.XZ)}),!e.last_message||!n)return null;let{sender:m}=e.last_message,v=m.first_name||m.username||"",b=e.last_message.pin?u.bt("sent you a Pin", "sent you a Pin", "navbar.messageNotifications.text", undefined, true):u.bt("sent you a message", "sent you a message", "navbar.messageNotifications.text", undefined, true),x=(0,Z.jsxs)(o.xv,{color:"light",inline:!0,children:[(0,Z.jsxs)(o.xv,{color:"light",inline:!0,weight:"bold",children:[v," "]}),b]}),C=(0,Z.jsxs)(o.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"start",paddingX:4,paddingY:2,children:[(0,Z.jsx)(o.xu,{marginEnd:3,children:(0,Z.jsx)(P.qE,{name:v,size:"sm",src:m.image_large_url??void 0})}),x]}),M="down";return f&&(M=d?"left":"right"),(0,Z.jsx)(o.mh,{zIndex:new o.H3([new o.Ry(y.fe)]),children:(0,Z.jsx)(o.iP,{onTap:()=>{l(),r(e.id),s(!1),_({event_type:101,component:14993})},children:(0,Z.jsx)(o.xu,{id:"message-notif-toast",children:(0,Z.jsx)(o.pl,{anchor:t,idealDirection:M,onDismiss:()=>{},role:"dialog",size:"flexible",type:"notification",children:C})})})})}function T(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),T(this,"setButtonRef",e=>{let{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))}),T(this,"clearBadges",()=>{let{onClearBadges:e}=this.props;e(m.S.INBOX),this.updateBrowserTabTitleCount(0)}),T(this,"handleButtonClick",e=>{let{requireAuth:t,showPanel:n,closeConversationsDropdown:i,openConversationsDropdown:s,onClick:o}=this.props;if(o?.(),t){e&&e.stopPropagation(),t();return}n?i():s(),this.clearBadges()})}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(){this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){let{conversationsUnseenCount:e,newsHubCount:t}=this.props;this.updateBrowserTabTitleCount(e+t)}updateBrowserTabTitleCount(e){if((0,u.L6)(this.props.location))return;let{i18n:t}=this.props,n=Math.max(e,0),i=t.bt("Pinterest", "Pinterest", " - ", undefined, true);window.document.title=n?`(${n}) ${i}`:i}render(){let{conversationsUnseenCount:e,i18n:t,showPanel:n,conversationWithUnreadMesage:i,isVerticalNavEnabled:s}=this.props,l=e?t.bt("Messages. You have unread messages.", "Messages. You have unread messages.", "messages.button.badge.messages", undefined, true):t.bt("Messages", "Messages", "messages.button", undefined, true),a=t.bt("Messages", "Messages", "navbar.conversationsButton.tooltip", undefined, true),r="notifications-button";return(0,Z.jsxs)(o.xu,{ref:this.setButtonRef,position:"relative",children:[s?(0,Z.jsx)(C.Z,{accessibilityControls:v.rC,accessibilityLabel:l,badgeCount:e,dataTestId:r,onClick:this.handleButtonClick,selected:n,tooltipText:a,verticalNavIconName:"messages"}):(0,Z.jsx)(o.u,{accessibilityLabel:"",text:a,zIndex:new o.H3([new o.Ry(y.fe)]),children:(0,Z.jsx)(o.xu,{"data-test-id":r,children:(0,Z.jsx)(x.Z,{accessibilityLabel:l,badgeCount:e,icon:"speech-ellipsis",onClick:this.handleButtonClick,selected:n})})}),i&&(0,Z.jsx)(M,{anchor:this.anchor,conversation:i})]})}}function k(e){let t=(0,c.ZP)(),n=(0,r.Z)(),o=(0,s.TH)(),{isAuth:m,isLimitedLogin:v}=(0,_.Z)(),{enabled:x}=(0,L.Z)();(0,p.Z)(()=>{m&&!v&&l.Z.create("ConversationsResource",{field_set_key:"default"}).callGet()});let{conversations:{conversationsUnseenCount:C,newsHubCount:y,showConversationsDropdown:w},dropdownClose:P,dropdownOpen:A}=(0,g.Z)(),{checkExperiment:M}=(0,d.F)(),{setInboxButton:T}=(0,b.Z)(),k=(0,f.Z)().find(e=>e.unread>0),z=(0,s.k6)(),I=(0,u.C$)(z.location),H=h.ZP.getItem(a.eQ),B=H&&Date.now()-Number(H)<j.VC,E=I&&!w&&!B&&k&&M("sg_dweb_app_start_msg_notif").anyEnabled,V=(0,i.useRef)(!0);return(0,i.useEffect)(()=>{V.current||e.onPanelChange?.(w),V.current=!1},[w]),(0,Z.jsx)(S,{...e,closeConversationsDropdown:P,conversationsUnseenCount:C,conversationWithUnreadMesage:E?k:null,i18n:t,isVerticalNavEnabled:x,location:o,newsHubCount:y,openConversationsDropdown:A,requireAuth:n,setInboxButton:T,showPanel:w})}var z=n(650088);function I({onClick:e,onPanelChange:t}){return(0,Z.jsx)(z.Z,{icon:"speech-ellipsis",children:({onClearBadges:n})=>(0,Z.jsx)(k,{onClearBadges:n,onClick:e,onPanelChange:t})})}},650088:function(e,t,n){n.d(t,{Z:()=>C});var i,s=n(667294),o=n(883119),l=n(167912),a=n(575108),r=n(949044),c=n(886981),u=n(974705),d=n(199593),h=n(543188),p=n(785893);let _=(0,r.Z)(u.Z);class g extends s.Component{constructor(...e){var t,n,i;super(...e),t="handleClearBadges",n=e=>{e===h.S.NEWS_HUB?(a.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateNewsHubCount(0)):(this.props.conversationBadgeCall(),this.props.updateUnreadCount(0))},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;let t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map(e=>t[e]!==n[e]).filter(Boolean).length:!t&&!!n}componentDidUpdate(){let{badgeResource:e,updateNewsHubCount:t,updateUnreadCount:n}=this.props;if(!(e&&e.data))return;let i=_(e.data);n(i.conversationsUnseenCount),t(i.newsHubCount)}render(){let{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}function f({conversationBadgeCall:e,children:t}){let n=(0,c.Z)({name:"NewsHubBadgeResource",noCache:!0}),{updateNewsHubCount:i,updateUnreadCount:s}=(0,d.Z)();return(0,p.jsx)(g,{badgeResource:n,conversationBadgeCall:e,updateNewsHubCount:i,updateUnreadCount:s,children:t})}let m=()=>{let e=void 0!==i?i:i=n(516829),[t]=(0,l.useMutation)(e);return async()=>await new Promise((e,n)=>{t({variables:{},onCompleted:(t,i)=>{i&&n(i[0]),e(t)},onError:e=>n(e)})})};function v({children:e}){return(0,p.jsx)(f,{conversationBadgeCall:m(),children:e})}var b=n(244529),x=n(631395);function C({icon:e,children:t}){let[n,i]=(0,s.useState)(!1),{enabled:l}=(0,b.Z)();return((0,s.useEffect)(()=>{i(!0)},[]),n)?(0,p.jsx)(v,{children:t}):(0,p.jsx)(o.xu,{paddingX:1,children:(0,p.jsx)(o.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:l?(0,p.jsx)(x.QV,{iconName:"speech-ellipsis"===e?"messages":"notifications",selected:!1}):(0,p.jsx)(o.JO,{accessibilityLabel:"",color:"subtle",icon:e,size:24})})})}},502588:function(e,t,n){n.d(t,{VC:()=>v,XZ:()=>m,ZP:()=>b});var i=n(616550),s=n(883119),o=n(575108),l=n(111330),a=n(744862),r=n(475498),c=n(525839),u=n(506662),d=n(753143),h=n(87853),p=n(647709),_=n(341742),g=n(535701),f=n(785893);let m=2e3,v=864e5;function b(){let e=(0,c.ZP)(),t=(0,g.Z)(),{isAuth:n,isLimitedLogin:b}=t,x=t.isAuth?t?.avatar_color_index:void 0,{showToast:C}=(0,h.F9)(),y=(0,i.k6)(),w=(0,u.C$)(y.location),P=(0,p.HG)();return(0,_.Z)(()=>{let t=async()=>{let t=o.Z.create("ConversationsResource",{field_set_key:"default"}),n=(await t.callGet()).resource_response.data.find(e=>e.unread>0),i=d.ZP.getItem(l.eQ),c=i&&Date.now()-Number(i)<v,u=n&&w&&!c&&n.last_message,h=d.ZP.getItem(l.Td);if(u&&u.id!==h){d.ZP.setItem(l.Td,u.id),d.ZP.setItem(l.eQ,Date.now());let{sender:t}=u,i=t.first_name||t.username||"",o=u.pin?e.bt("sent you a Pin", "sent you a Pin", "navbar.messageNotifications.text", undefined, true):e.bt("sent you a message", "sent you a message", "navbar.messageNotifications.text", undefined, true),c=(0,f.jsxs)(s.xv,{inline:!0,children:[(0,f.jsxs)(s.xv,{inline:!0,weight:"bold",children:[i," "]}),o]});setTimeout(()=>{C(({hideToast:s})=>(0,f.jsx)(r.Z,{duration:5e3,onHide:s,primaryAction:{accessibilityLabel:e.bt("Reply to the message", "Reply to the message", "NotificationToast.replyButton.accessibilityLabel", undefined, true),label:e.bt("Reply", "Reply", "NotificationToast.replyButton.buttonText", undefined, true),onClick:()=>{y.push(`/conversation/${n.id}`),s()}},text:c,thumbnail:{avatar:(0,f.jsx)(a.qE,{color:x,name:i,size:"sm",src:t.image_large_url||""})}}))},m)}};!n||b||P||t()}),null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/52747.en_GB-3067ff1f177ef03c.mjs.map