(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["13040"],{957661:function(e,a,l){var n,i,t;l.r(a),l.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CardSourceDescriptionText_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[i,{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="f888770275b549d56226cc6df8d28156";let s=r},799379:function(e,a,l){var n,i,t;l.r(a),l.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupAttributionAndDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},n,i,{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},t],storageKey:null},{args:null,kind:"FragmentSpread",name:"Description_pin"}],type:"Pin",abstractKey:null};r.hash="7142df6a7a3c1aee54267c5441d3d50b";let s=r},934191:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImpression_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};n.hash="9fe338bb0275ffff2818b274fce014af";let i=n},718611:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModule_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupRelatedModuleOneTapConfiguration_pin"}],type:"Pin",abstractKey:null};n.hash="535b0dce979f4e368b354c1d7db63f73";let i=n},824065:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedModulesContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"CloseupRelatedModule_pin"},{args:null,kind:"FragmentSpread",name:"useIsInCloseupShoppingRefinementsExp_pin"}],type:"Pin",abstractKey:null};n.hash="0122ac469895f29aa7d039970fa36eb0";let i=n},327060:function(e,a,l){var n;l.r(a),l.d(a,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};i.hash="3fa8620068a79dc4a73dbbcde3f352f9";let t=i},119031:function(e,a,l){var n,i,t;l.r(a),l.d(a,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CreatorCard_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},n,i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i,t],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:[{alias:"creatorId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[{alias:"sponsorId",args:null,kind:"ScalarField",name:"id",storageKey:null},i,t],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCreatorRecsPrevStateCloseup_pin"}],type:"Pin",abstractKey:null};r.hash="e0f013c76e98f3f285ba25a7d2f0f3af";let s=r},265532:function(e,a,l){var n,i,t,r;l.r(a),l.d(a,{default:()=>o});let s=(n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},t=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],r=[n],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultMetadata_pin",selections:[n,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayableCommunityContentType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"originPin",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:t,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"useHandleTitleClick_pin"},{args:null,kind:"FragmentSpread",name:"useCloseupBodyUtils_pin"},{args:null,kind:"FragmentSpread",name:"UnifiedCommentModule_pin"},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"},{args:null,kind:"FragmentSpread",name:"TitleDesktop_pin"},{args:null,kind:"FragmentSpread",name:"PartnerModule_pin"},{args:null,kind:"FragmentSpread",name:"CreatorCard_pin"},{args:null,kind:"FragmentSpread",name:"VisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupAttributionAndDescription_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"}],type:"Pin",abstractKey:null});s.hash="cb79f19e899fbac77f4675c04610dc4b";let o=s},354418:function(e,a,l){var n,i,t;l.r(a),l.d(a,{default:()=>s});let r=(n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],t=[i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Description_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:n,storageKey:null},i,{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:t,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CardSourceDescriptionText_pin"}],type:"Pin",abstractKey:null});r.hash="28ab0b1e7aa7707dbaca4eab96280169";let s=r},326342:function(e,a,l){var n,i,t,r,s,o,d;l.r(a),l.d(a,{default:()=>c});let u={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LinkModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[i={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},i,r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},t,{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:s=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[r],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:s,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},o],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};u.hash="2be523d18cdb97a01003da320f0cb7d3";let c=u},823604:function(e,a,l){var n;l.r(a),l.d(a,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MaybeClickthroughLink_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},n,{args:null,kind:"FragmentSpread",name:"LinkModule_pin"}],type:"Pin",abstractKey:null};i.hash="39a7882a66a91ae06ef6da7137136e67";let t=i},149627:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};n.hash="cce8a8d5ad05c8e6c1137bf7c8845c2a";let i=n},937046:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedModules_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedPins_pin"},{args:null,kind:"FragmentSpread",name:"ProductDetailPageRelatedModule_pin"},{args:null,kind:"FragmentSpread",name:"useIsInCloseupShoppingRefinementsExp_pin"}],type:"Pin",abstractKey:null};n.hash="ab1d44e9e9493de6e62e369100d61e23";let i=n},502396:function(e,a,l){var n;l.r(a),l.d(a,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetailPageRelatedPins_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"}],type:"Pin",abstractKey:null};i.hash="86cb4963f4714e2184c01e13236c3616";let t=i},650719:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n=(t={defaultValue:null,kind:"LocalArgument",name:"isAuth"},r={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},s={defaultValue:null,kind:"LocalArgument",name:"pinId"},o=[{kind:"Variable",name:"pin",variableName:"pinId"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},u={alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},p=[c={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],g={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},h=[{kind:"Literal",name:"spec",value:"236x"}],f={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},F=[y={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],w={alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},L={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[j={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},z=[k,x,g,d],B={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},U=[k,g,x],N=[{kind:"Literal",name:"spec",value:"474x"}],H=[{kind:"Literal",name:"spec",value:"564x"}],W=[{kind:"Literal",name:"spec",value:"736x"}],$={alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},q={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:G=[d],storageKey:null}],storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},Q=[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],J={alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},ea={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},el={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},ei={alias:"image236x",args:h,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:en=[d,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:U,storageKey:null},K],storageKey:'additionalImagesPerSpec(spec:"236x")'},et={alias:"image474x",args:N,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:en,storageKey:'additionalImagesPerSpec(spec:"474x")'},er={alias:"image564x",args:H,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:en,storageKey:'additionalImagesPerSpec(spec:"564x")'},es={alias:"image736x",args:W,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:en,storageKey:'additionalImagesPerSpec(spec:"736x")'},eo={alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},ed={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},eu=[k,g,x,f],ec={alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAd",storageKey:null},ep=[f,k,g,x],eg=[{kind:"Literal",name:"spec",value:"170x"}],em=[g],e_={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},ey=[Z,S],eh=[y,S,Z,M,R,D],ek={kind:"InlineFragment",selections:ef=[Y,m],type:"ParagraphBlock",abstractKey:null},ex={kind:"InlineFragment",selections:ef,type:"HeadingBlock",abstractKey:null},ev={kind:"InlineFragment",selections:ef,type:"TextBlock",abstractKey:null},eP=[B,g,x,k,O],eS={alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},ew={alias:null,args:null,concreteType:"PinAnalyticsStats",kind:"LinkedField",name:"creatorAnalytics",plural:!1,selections:[{alias:null,args:null,concreteType:"CreatorAnalytics",kind:"LinkedField",name:"_30dRealtime",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinClick",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"save",storageKey:null}],storageKey:null}],storageKey:null},eT=[eb={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},E,eF={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null}],eI={alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},eK={alias:null,args:null,kind:"ScalarField",name:"showFewerWeightLossAds",storageKey:null},eC={alias:null,args:null,kind:"ScalarField",name:"showAdReasons",storageKey:null},eR={alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},eD=[ej={alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},eL={alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},eA={alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},eZ={alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},_,e_,g],eM={alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},eE={alias:null,args:null,concreteType:"ActionOptions",kind:"LinkedField",name:"actionOptions",plural:!1,selections:[ej,{alias:null,args:null,kind:"ScalarField",name:"interestId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interestList",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"complaintReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedbackType",storageKey:null},X,{alias:null,args:null,kind:"ScalarField",name:"pinType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recommendationReasonId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"undo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"query",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newsId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"throughId",storageKey:null},{alias:null,args:null,concreteType:"ThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[el,ea],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"clientTrackingParams",storageKey:null},ec],storageKey:null},{fragment:{argumentDefinitions:[t,r,s],kind:"Fragment",metadata:null,name:"ShoppingModuleQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ShoppingModule_v3GetStelaShoppingCarousel"}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,r,t],kind:"Operation",name:"ShoppingModuleQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetStelaShoppingCarouselQuery",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:p,storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselScrollingMode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemWidthHeightRatio",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,concreteType:"StoryThumbnailDisplayOptions",kind:"LinkedField",name:"thumbnail",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thumbnailUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWidthHeightRatio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailWash",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDynamicContentSpan",kind:"LinkedField",name:"dynamicHeaderContentSpan",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"narrowView",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wideView",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerWidth",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[d,c],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[d,{kind:"InlineFragment",selections:[_,y,{alias:"imageSpec_236x",args:h,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[g,f,k,x],storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[v,P,g,S,b,{alias:null,args:null,kind:"ScalarField",name:"featuredIn",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:F,storageKey:null},w,y,T,{alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[v,P,g,S,y,d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},I,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"dpaCreativeType",storageKey:null},K,{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},C,{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[d,S,L,A,y,Z,R,D,M],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},S,D,Z,y,R,A,L,M,E,d],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[d,S,y,Z,D,M,R],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[y,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:z,storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:[k,x,g,d,B],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:z,storageKey:null},d],storageKey:null},S,d,O],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[P,g],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingKlpUrls",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[y,{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[_,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},C,V,{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},K,{alias:"imagesSpec_236x",args:h,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:U,storageKey:'images(spec:"236x")'},d,{alias:"image236x",args:h,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:U,storageKey:'images(spec:"236x")'},{alias:"image474x",args:N,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:U,storageKey:'images(spec:"474x")'},{alias:"image564x",args:H,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:U,storageKey:'images(spec:"564x")'},{alias:"image736x",args:W,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:U,storageKey:'images(spec:"736x")'},$],storageKey:null},S,d,{alias:"carouselDataId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinTagChipImagesPerSpec",kind:"LinkedField",name:"pinTagsChips",plural:!0,selections:[d,$,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!1,selections:U,storageKey:null},C],storageKey:null},S,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null},q],storageKey:null},{alias:null,args:null,concreteType:"CollectionPin",kind:"LinkedField",name:"collectionPin",plural:!1,selections:[{alias:null,args:null,concreteType:"CollectionPinItem",kind:"LinkedField",name:"itemData",plural:!0,selections:[d,X,{alias:null,args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[g,x,k],storageKey:'images(spec:"750x")'},C],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},S,{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[d,{kind:"InlineFragment",selections:[Y,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:null,args:Q,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockId",storageKey:null},k,B,x,g],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},d],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null}],storageKey:null},J,{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[d,S,P,g,y],storageKey:null},ee,{alias:null,args:null,concreteType:"PinThroughProperties",kind:"LinkedField",name:"throughProperties",plural:!0,selections:[ea,el],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collectionGridClickType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ceAltImageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isWeightLossAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:G,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[d,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[P,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:G,storageKey:null}],storageKey:null},ei,et,er,es,eo,P,ed,{alias:"additionalImageSpec_236x",args:h,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:G,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:N,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:G,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:H,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:G,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:W,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:G,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},I,_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},ei,et,er,es,eo,d,ed,{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[P],storageKey:null},P,{alias:null,args:null,concreteType:"LabelInfo",kind:"LinkedField",name:"labelInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"labels",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},g],storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null},S],storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[d,k,g,x,f],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:"image236x",args:h,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:U,storageKey:'images(spec:"236x")'},{alias:"image474x",args:N,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:U,storageKey:'images(spec:"474x")'},{alias:"image564x",args:H,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:U,storageKey:'images(spec:"564x")'},{alias:"image736x",args:W,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:U,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:"imageSpec_474x",args:N,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:eu,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:W,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:eu,storageKey:'images(spec:"736x")'},ec,{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ep,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:eg,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:ep,storageKey:'images(spec:"170x")'},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:"imageSpec_564x",args:H,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:em,storageKey:'images(spec:"564x")'},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadFormId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[e_],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[e_,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[P,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null},S,y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"videoStatus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRepin",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[Z,S,y,M,R,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},D,A,L],storageKey:null},S,d],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:ey,storageKey:null},S],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[Z,S,y],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"viaPinner",plural:!1,selections:ey,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,concreteType:"AdTargetingAttribution",kind:"LinkedField",name:"adTargetingAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"geoPostalCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"geoRegion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCustomerListMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingRetargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isActalikeMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEngagementMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isExpandTargetingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFromGpsLocation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVisitorMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isShoppingProspectingMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPlPersonaMatched",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedAgeBucket",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedDevice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedGender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedInterest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedKeyword",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"matchedLocale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isFirstPartyAdPersonalizationEnabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isThirdPartyAdPersonalizationEnabled",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAdvertiserName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedPartnershipAttributionName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPromotedPartnership",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:eh,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:eh,storageKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},q,{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isQuickPromotable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVideo",storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:em,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:em,storageKey:'images(spec:"600x315")'},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[Y,{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[d,ek,ex,ev,{kind:"InlineFragment",selections:[Y],type:"IngredientBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},y,{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[v,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[ek,ex,ev,{kind:"InlineFragment",selections:[m,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:"videoListMobile",args:Q,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:eP,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:eP,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:eP,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:eP,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:eP,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:eP,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:eP,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},eS],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPreLovedGoodsLabel",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[eb,eF],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[ew],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoriteUserCount",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:eT,storageKey:null}],storageKey:null},ew,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:eT,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFoodIndicator",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unifiedUserNote",storageKey:null},{alias:null,args:null,concreteType:"GenAIInterestData",kind:"LinkedField",name:"genAiTopics",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"interestIdStr",storageKey:null},P],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seeMoreUserFeedback",storageKey:null},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{kind:"ClientExtension",selections:[eI,eK,eC]}]},{kind:"ClientExtension",selections:[eI,eC,eK]}]},{kind:"ClientExtension",selections:[eI,{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:[ej,eL,d,g,eA,eZ,_,e_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},eR,{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"saved",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:eD,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:eD,storageKey:null},eC,eK,{alias:null,args:null,kind:"ScalarField",name:"showFeedbackOverlay",storageKey:null},{alias:null,args:null,concreteType:"FeedbackText",kind:"LinkedField",name:"feedbackText",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},_,{alias:null,args:null,concreteType:"Unfollow",kind:"LinkedField",name:"unfollow",plural:!1,selections:[eM,eE],storageKey:null},{alias:null,args:null,concreteType:"UndoCallbackProps",kind:"LinkedField",name:"undoCallbackProps",plural:!1,selections:[eM,eE,{alias:null,args:null,kind:"ScalarField",name:"viewType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewParameter",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showFeedback",storageKey:null}]}],type:"Pin",abstractKey:null},{kind:"InlineFragment",selections:[u,{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:p,storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[y,P,{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:F,storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},eR],storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:eg,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:em,storageKey:'images(spec:"170x")'},{alias:"images236x",args:h,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:em,storageKey:'images(spec:"236x")'},w,{alias:null,args:null,kind:"ScalarField",name:"isTemporarilyDisabled",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[y,S,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},Z,A,D,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[P,j],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},T,{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[ee,{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},e_,g,{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:em,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:em,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:em,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},eS],type:"Board",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"boardMoreIdeasFeedUpsellId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"boardMoreIdeasFeedUpsellName",args:null,kind:"ScalarField",name:"boardName",storageKey:null}],type:"BoardMoreIdeasFeedUpsell",abstractKey:null},{kind:"InlineFragment",selections:[y,D],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[y,{alias:"exploreArticleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:p,storageKey:null}],type:"ExploreArticle",abstractKey:null},{kind:"InlineFragment",selections:[P,{alias:"imageSpec236x",args:h,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:em,storageKey:'image(spec:"236x")'},{alias:"imageSpec474x",args:N,concreteType:"Thumbnails",kind:"LinkedField",name:"image",plural:!0,selections:em,storageKey:'image(spec:"474x")'},{alias:"klpUrl",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"SeoRelatedInterestsData",abstractKey:null},{kind:"InlineFragment",selections:[S],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[Z,A,L,D,M,S],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:p,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:p,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},J],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null}],storageKey:null}]},params:{id:"9532ee05e5c31729895d07b040f64d41d7a8e76347d70898a6b21c4acef66934",metadata:{},name:"ShoppingModuleQuery",operationKind:"query",text:null}});n.hash="9b72b1fb8ac15ff6e966eb2e7fedbb74";let i=n;var t,r,s,o,d,u,c,p,g,m,_,y,h,f,k,x,v,P,S,b,F,w,T,I,K,C,j,L,A,Z,R,D,M,E,z,B,O,V,U,N,H,W,$,G,q,X,Y,Q,J,ee,ea,el,en,ei,et,er,es,eo,ed,eu,ec,ep,eg,em,e_,ey,eh,ef,ek,ex,ev,eP,eS,eb,eF,ew,eT,eI,eK,eC,ej,eL,eA,eZ,eR,eD,eM,eE,ez=n.default||n;if("query"===ez.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(ez);else{let e=[ez.params.name,ez.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=ez}},263032:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="42fa6c6e36795a2e5d6c1ada1914690a";let i=n},336209:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_story",selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"slot",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="ff2dcbb61e467f3f2801d7438e326776";let i=n},220149:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ShoppingModule_v3GetStelaShoppingCarousel",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"ShoppingModule_story"}],storageKey:null}],type:"V3GetStelaShoppingCarousel",abstractKey:null};n.hash="8553d7552861e0783a7a41a6afc4e8c2";let i=n},176376:function(e,a,l){var n,i,t,r,s,o,d;l.r(a),l.d(a,{default:()=>c});let u=(n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},r=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TitleDesktop_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:s,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:d=[o={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:d,storageKey:null},i,{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinFormattedLink_pin"},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null});u.hash="e0961d958eda59cad942eda9890b0f5f";let c=u},165148:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useClientTrackingParams_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};n.hash="0b3399497cd8be4c18c48ac63ca8d2ba";let i=n},543996:function(e,a,l){var n,i,t,r,s,o,d;l.r(a),l.d(a,{default:()=>c});let u=(n={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},t=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],o={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCloseupBodyUtils_pin",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:s=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:s,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[o,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:d=[r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null});u.hash="eef39e6b0f08e7de611560c4c4b20a19";let c=u},522386:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCreatorRecsPrevStateCloseup_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"showSuggestedCreatorRecs",storageKey:null}]}],type:"Pin",abstractKey:null};n.hash="a1f87ab2b8198cdc7fd8fc3cdaa872f0";let i=n},673588:function(e,a,l){var n;l.r(a),l.d(a,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetMainPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};i.hash="3ecf70d7e25decf88c7b8bafd5993b03";let t=i},208540:function(e,a,l){var n;l.r(a),l.d(a,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleBackButtonClick_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,concreteType:"PromotedLeadForm",kind:"LinkedField",name:"promotedLeadForm",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"leadId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};i.hash="efee9cd30f69b524ed9920746ed65ceb";let t=i},394292:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHandleTitleClick_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null}],type:"Pin",abstractKey:null};n.hash="d38a7b9f18791089cd1df852e3863570";let i=n},881010:function(e,a,l){var n;l.r(a),l.d(a,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsBoardOwnerOrCollaborator_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null}],type:"Pin",abstractKey:null};i.hash="120c47eff2cf4911de716b514608718f";let t=i},351090:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsInCloseupShoppingRefinementsExp_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForCloseupOneBarRefinements",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null}],type:"Pin",abstractKey:null};n.hash="25d061dfff6d75937841f5a3a23e65e0";let i=n},391372:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useIsShortImage_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateImageContainerDimension_pin"}],type:"Pin",abstractKey:null};n.hash="eb2d45c46c7bd76cf5d4d1f36ec7a044";let i=n},498876:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinFormattedLink_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinHasProducts_pin"}],type:"Pin",abstractKey:null};n.hash="b694b913cbcf66451260d78ec78bcccd";let i=n},445662:function(e,a,l){l.r(a),l.d(a,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinHasProducts_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="e1f413e0ba2f9031ea605d85baa14a4b";let i=n},873707:function(e,a,l){l.d(a,{CA:()=>i,Gv:()=>n,k5:()=>t});let n=({orbacSubjectId:e,pinIsRepin:a,pinPinnerId:l,viewerId:n,viewerIsPartner:i})=>!a&&!!i&&[n,e].includes(l),i=e=>!!(e&&!e.insufficient_data_response&&e.results&&e.results.length>0),t=(e,a)=>{if(!e)return e;let l=[...e].filter(e=>!!e.mom_change?.roundedPercentChange&&e.mom_change.roundedPercentChange>0);return l.length<=a?l:Array(a).fill(1).map(()=>{let e=Math.floor(Math.random()*l.length);return l.splice(e,1)[0]})}},314021:function(e,a,l){l.r(a),l.d(a,{default:()=>E});var n,i,t=l(667294),r=l(581722);l(167912);var s=l(883119),o=l(980787),d=l(422578),u=l(221020);let c=function(e,a,l){switch((0,u.o)(e)){case"SingularLegacy":case"PluralLegacy":case"PaginationLegacyData":return a;case"GraphQL":{let e=(0,d.useRelayEnvironment)();return a=>(0,d.commitLocalUpdate)(e,e=>l(e,a))}default:throw Error("Unexpected case")}};var p=l(779548),g=l(525839),m=l(628708),_=l(535701),y=l(886981),h=l(302148),f=l(341742),k=l(744862),x=l(709311),v=l(281239),P=l(149728),S=l(785893);let b=({creatorData:e,onTap:a,onUserFollow:l})=>{let n=(0,g.ZP)(),i=(0,_.Z)(),{explicitly_followed_by_me:t,follower_count:r=0,full_name:o,id:d,image_medium_url:u,username:c,verified_identity:p,avatar_color_index:m,is_verified_merchant:y}=e||{},f=`/${c}/`;return(0,S.jsx)(s.sg,{span:4,children:(0,S.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"0px 2px"}},direction:"column",display:"flex",marginBottom:1,children:[(0,S.jsx)(s.Tg,{href:f,onTap:()=>a(d),children:(0,S.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,S.jsx)(s.xu,{height:60,width:60,children:(0,S.jsx)(k.qE,{color:m,name:o??"",size:"fit",src:u??"",verified:!1})}),(0,S.jsxs)(s.xu,{marginBottom:1,paddingY:2,children:[(0,S.jsx)(s.xu,{marginBottom:1,children:(0,S.jsx)(s.xv,{align:"center",lineClamp:1,size:"100",weight:"bold",children:p||y?(0,S.jsx)(P.Z,{badgeSize:"xs",badgeSpacing:2,fullName:o??"",isVerifiedIdentity:p?.verified,isVerifiedMerchant:y}):o})}),(0,S.jsx)(s.xv,{align:"center",size:"100",children:(0,h.nk)(n.nbt(["{{ followerCount }} follower", "{{ followerCount }} followers"], r, "suggestedCreatorRep.creator.followerCount", true),{followerCount:(0,S.jsx)(x.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:r},r)})})]})]})}),(0,S.jsx)(v.Z,{fullName:o,id:d,imageUrl:u,isOwnProfile:i.isAuth&&i.id===d,isSecondaryButton:!0,onUserFollow:e=>l({userIsNowFollowing:e,creatorId:d}),profileUrl:`/${c}/`,shouldStopEventPropagation:!0,size:"sm",userFollowed:t,viewParameter:156,viewType:3})]})})},F=({creatorRecs:e,fullName:a,pinId:l,viewParameter:n,viewType:i})=>{let{logContextEvent:t}=(0,o.v)(),r=(0,g.ZP)();(0,f.Z)(()=>{t({event_type:13,component:13891,view_parameter:n,view_type:i,aux_data:{...l?{pin_id:l}:{}}})});let d=e=>{t({event_type:101,component:13891,view_parameter:n,view_type:i,object_id_str:e,aux_data:{...l?{pin_id:l}:{}}})},u=({userIsNowFollowing:e,creatorId:a})=>{e?t({event_type:45,component:13891,object_id_str:a,view_parameter:n,view_type:i,aux_data:{...l?{pin_id:l}:{}}}):t({event_type:46,component:13891,object_id_str:a,view_parameter:n,view_type:i,aux_data:{...l?{pin_id:l}:{}}})};return(0,S.jsx)(s.xu,{minWidth:432,paddingY:4,children:(0,S.jsxs)(s.xu,{borderStyle:"shadow",paddingX:5,paddingY:4,rounding:4,children:[a&&(0,S.jsx)(s.X6,{align:"center",size:"300",children:(0,h.nk)(r.bt("More like {{creatorName}}", "More like {{creatorName}}", "suggestedCreatorRecs.title", undefined, true),{creatorName:a})}),(0,S.jsx)(s.xu,{display:"flex",justifyContent:"between",marginTop:4,width:"100%",children:e.map(e=>(0,S.jsx)(b,{creatorData:e.user,onTap:d,onUserFollow:u},e.user_id))})]})})},w=3,T=["creatorrecommendationitem.user_id","creatorrecommendationitem.user()","user.explicitly_followed_by_me","user.id","user.follower_count","user.full_name","user.image_medium_url","user.username","user.verified_identity","user.is_verified_merchant"],I=({fullName:e,id:a,numCreatorsToShow:l=w,pinId:n,viewParameter:i,viewType:t})=>{let r=(0,y.Z)({name:"ApiResource",options:{url:"/v3/orientation/nux_creator_recommendations/",data:{fields:T.join(","),page_size:l,referrer:4,target_user:a}}});if(!r.isLoaded||!(r.data&&r.data.length===l))return null;let s=r.data||[];return(0,S.jsx)(F,{creatorRecs:s,fullName:e,pinId:n,viewParameter:i,viewType:t})};var K=l(390843);let C=void 0!==n?n:n=l(522386),j=e=>e.includes("/:username"),L=function(e){let a=function(){let{forward:e}=(0,K.Hv)(),a=e&&e.length>0&&e[0].match&&e[0].match.path?e[0].match.path:null;return!!(a&&j(a))}(),l=(0,p.Z)(C,e);if(!a||!l)return{creatorRecsPrevState:!1};{let e=!!l.promotedIsLeadAd,a=l.richSummary?.typeName==="product";return{creatorRecsPrevState:!!l&&!e&&!a&&!!l.showSuggestedCreatorRecs}}};var A=l(285491),Z=l(206459);function R(e,a,l){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var n=l.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}let D=void 0!==i?i:i=l(119031);class M extends t.PureComponent{constructor(...e){super(...e),R(this,"state",{shouldShowCreatorRecs:this.props.suggestedCreatorRecsPrevState,user:this.props.officialUser}),R(this,"handleNavigateAndLog",(e,a)=>{let{pin:l}=this.props,n=!!l.storyPinDataId;e===a?this.props.logContextEvent({event_type:101,element:13382,view_type:this.viewType,view_parameter:this.viewParameter,...n?{component:230}:Object.freeze({}),object_id_str:l.entityId,aux_data:{pin_id:l.entityId,creator_id:l.sponsorship?.creator?.creatorId,aop_origin:"CreatorCard",...n?{story_pin_template_type:l.storyPinData?.metadata?.templateType}:{}}}):this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...n?{component:230}:Object.freeze({}),object_id_str:l.entityId,aux_data:{pin_id:l.entityId,creator_id:l.sponsorship?.creator?.creatorId,...n?{story_pin_template_type:l.storyPinData?.metadata?.templateType}:{}}})}),R(this,"handleNavigateAndLogSponsorClick",()=>{let{pin:e}=this.props,a=e.entityId,l=e.sponsorship?.creator?.creatorId,n=e.sponsorship?.sponsor?.sponsorId,i=!!e.storyPinDataId;l&&n&&this.props.logContextEvent({event_type:101,view_type:this.viewType,view_parameter:this.viewParameter,element:11619,...i?{component:230}:Object.freeze({}),object_id_str:a,aux_data:{pin_id:a,creator_id:l,sponsor_id:n}})})}static getDerivedStateFromProps(e,a){let l=e.officialUser;if(l&&l!==a.user)return{...a,user:l};let n=e.suggestedCreatorRecsPrevState;return n&&!a.shouldShowCreatorRecs?{...a,shouldShowCreatorRecs:n}:null}get viewType(){return this.props.viewType||3}get viewParameter(){return this.props.viewParameter||156}render(){let{user:e}=this.state;if(!e)return(0,S.jsx)(s.xu,{});let{pin:a}=this.props,{full_name:l,id:n,image_medium_url:i,is_verified_merchant:t,username:r,verified_identity:o}=e,d=!!o?.verified,u=!!a.promotedIsLeadAd,c=a.richSummary?.typeName==="product",p=!!(!u&&!c&&this.state.shouldShowCreatorRecs),g=a.pinner?.isAdsOnlyProfile&&a.pinner.adsOnlyProfileSite?a.pinner?.adsOnlyProfileSite:`/${r}/`;return(0,S.jsx)(s.xu,{position:"relative",children:(0,S.jsxs)(s.xu,{children:[(0,S.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,S.jsx)(s.xu,{flex:"grow",children:(0,S.jsx)(A.Z,{fullName:l,imageUrl:i,isPromoted:!!(a.promoter&&a.isPromoted),isVerifiedIdentity:d,isVerifiedMerchant:t,onNavigateClick:()=>this.handleNavigateAndLog(g,a.pinner?.adsOnlyProfileSite),onNavigateSponsorClick:this.handleNavigateAndLogSponsorClick,openNewTab:g===a.pinner?.adsOnlyProfileSite,profileUrl:g,sponsorName:a.sponsorship?.sponsor?.fullName??"",sponsorshipStatus:a.sponsorship?.status,sponsorUsername:a.sponsorship?.sponsor?.username??""})})}),p&&(0,S.jsx)(s.xu,{marginEnd:1,marginStart:1,children:(0,S.jsx)(I,{fullName:l,id:n,pinId:a.entityId,viewParameter:this.viewParameter,viewType:this.viewType})})]})})}}let E=(0,m.Z)(function(e){let{logContextEvent:a}=(0,o.v)(),l=(0,g.ZP)(),n=(0,p.Z)(D,e.input),i=(0,r.I0)(),t=c(e.input,()=>{i((0,Z.Vw)(n.entityId))},e=>{let a=e.get(n.entityId);a&&a.setValue(!0,"showSuggestedCreatorRecs")}),s=(0,_.Z)(),{creatorRecsPrevState:d}=L(n);return(0,S.jsx)(M,{...e,i18n:l,logContextEvent:a,pin:n,setShowSuggestedCreatorRecs:t,suggestedCreatorRecsPrevState:d,viewerUserId:s.isAuth?s.id:null})})},850899:function(e,a,l){l.d(a,{Z:()=>c});var n=l(667294),i=l(581722),t=l(883119),r=l(525839),s=l(747859),o=l(785893);function d({isCloseupButton:e,isDisabled:a,isFavorited:l,onTap:n,size:i}){let d=(0,r.ZP)(),{closeupWithinMasonryEnabled:u}=(0,s.x4)();return e?(0,o.jsx)(t.hU,{accessibilityLabel:d.bt("Favourite icon", "Favorite icon", "pinRep.footer.favoriteIcon", undefined, true),bgColor:u?"white":void 0,dataTestId:"favorite-button-star",disabled:a,icon:l?"star":"star-outline",iconColor:"darkGray",onClick:n,size:"sm"}):(0,o.jsx)(t.iP,{dataTestId:"favorite-button-star",disabled:a,onTap:n,children:(0,o.jsx)(t.JO,{accessibilityLabel:d.bt("Favourite icon", "Favorite icon", "pinRep.footer.favoriteIcon", undefined, true),color:"default",icon:l?"star":"star-outline",size:i})})}var u=l(686319);function c({favorited:e,favoriteCount:a,isCloseupButton:l,onFavorite:s,onUnfavorite:c,pinId:p,size:g}){let m=(0,r.ZP)(),_=(0,i.I0)(),[y,h]=(0,n.useState)(!1),[f,k]=(0,n.useState)(e??!1),[x,v]=(0,n.useState)(a??0),P=async()=>{(k(!f),h(!0),f)?(v(x-1),await _(async e=>{await (0,u.Z)({url:`/v3/pins/${p}/favorite/`,method:"DELETE"}),e({type:"PIN_FAVORITE",payload:{id:p,increment:-1,value:!1}})}),c()):(v(x+1),await _(async e=>{await (0,u.Z)({url:`/v3/pins/${p}/favorite/`,method:"POST"}),e({type:"PIN_FAVORITE",payload:{id:p,increment:1,value:!0}})}),s()),h(!1)},S=x<10?x:m.bt("9+", "9+", "favoriteButton.favoriteCountText", undefined, true);return(0,o.jsxs)(t.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==a&&x>0&&(0,o.jsx)(t.xv,{size:"200",weight:"bold",children:S}),(0,o.jsx)(d,{isCloseupButton:l,isDisabled:y,isFavorited:f,onTap:()=>{P()},size:g})]})}},22906:function(e,a,l){l.d(a,{Z:()=>aL});var n,i,t,r=l(581722),s=l(616550),o=l(741078),d=l(399656),u=l(667294),c=l(883119),p=l(873707),g=l(133626),m=l(77969),_=l(139707),y=l(735411),h=l(446320),f=l(503543);let k={storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}};var x=l(254572),v=l(21818),P=l(888682),S=l(502447),b=l(969964),F=l(56702),w=l(435672),T=l(629178),I=l(348255),K=l(734871),C=l(785893);function j(e){let{disabled:a,height:l,top:n=0,zIndex:i}=e,t=(0,u.useRef)(null),r=(0,K.Z)();if(a)return e.children;let s=t.current?.getBoundingClientRect().top||0;return(0,C.jsx)(c.xu,{ref:t,"data-test-id":"product-sticky-container",id:"product-sticky-container ",children:(0,C.jsx)(c.Le,{height:l,top:r+n+s,zIndex:i,children:e.children})})}var L=l(274320),A=l(886981),Z=l(535701),R=l(448505),D=l(7872),M=l(611499),E=l(747859),z=l(790427);function B({disableRelatedResource:e=!1,relatedResourceOptions:a,hasXYcoordinates:l,isEligibleForStlFlyout:n,isStoryPin:i,isWideVideo:t,pin:r,taggedProducts:s,trafficSource:o,viewParameterType:d,onClickThrough:c,showStructuredDescription:p,data:g,didShortClickThrough:m,goBack:_,isInStream:y=!1,isDeletedStoryPin:h,isRelatedPins10PercentVisible:f,onSaveButtonClick:k,onUpdate:K,outerBodyStyle:B,routePush:O,showPartnerModule:V,showPinStats:U,showTrendsOnPinCloseup:N,showRepinOnInitialRender:H,trendsData:W,viewType:$}){let G=(0,A.Z)(e?null:a),q=(0,u.useRef)(null),X=(0,u.useRef)(null),Y=(0,Z.Z)(),{closeupWithinMasonryEnabled:Q,clientTrackingParams:J}=(0,E.x4)(),{checkExperiment:ee}=(0,L.F)(),ea=(0,R.Z)(),el=(0,D.lJ)(Y,ea),en=(0,P.Z)(90),ei=(0,F.Z)(),et=(0,b.Z)({metadataContainerRef:q,pinKey:{type:"deprecated",data:r}}),{isCloseupMediaViewerEnabled:er}=(0,T.Z)({isShufflePin:!!r?.shuffle}),[es,eo]=(0,u.useState)(!1),ed=!!r.is_eligible_for_aggregated_comments,eu=Q&&ed&&"enabled_popover"===ee("ce_dweb_new_closeup_comment_module").group,{setClickthroughComponentForSurvey:ec,imageContainerRef:ep}=ei,{getViewParameter:eg}=(0,v.ZP)({type:"deprecated",data:r}),em=eg(d),e_=M.ER,ey=(0,C.jsx)(w.Z,{hasXYcoordinates:l,isEligibleForStlFlyout:n,isStoryPin:i,isWideVideo:t,pin:r,taggedProducts:s,trafficSource:o,viewParameterType:d,visualContentContainerRef:ed?en.visualContentContainerRef:void 0,imageContainerRef:ep,handleImageClickThrough:()=>c({wasImageClicked:!0}),setClickthroughComponentForSurvey:ec,isShortImage:et,onSaveButtonClick:k,viewParameter:em}),eh=(0,C.jsx)(j,{disabled:!1,top:-16,zIndex:z.mS,children:ey}),ef=p&&!er?eh:ey,ek=(0,S.Z)({pinKey:{type:"deprecated",data:r},orbacActingAs:ea,viewer:Y}),ex=(0,C.jsx)(u.Fragment,{children:(0,C.jsx)(I.Z,{clientTrackingParams:J,detailsScrollContainerRef:q.current,hasXYcoordinates:l,inCommentsPopoverExp:eu,isBoardOwnerOrCollaborator:ek,isLoadingNewlyCreatedComment:es,onClickThrough:c,outerPaddingSize:e_,pinKey:{type:"deprecated",data:r},showPartnerModule:V,showPDPComments:ed,showPinStats:U,showStructuredDescription:p,showTrendsOnPinCloseup:N,trendsData:W,viewParameter:em})});return(0,C.jsx)(x.R,{descriptionContentMaxHeight:ed?en.descriptionContentMaxHeight:void 0,inCommentsPopoverExp:eu,isEligibleForPinReactions:!r.is_promoted&&!r.is_downstream_promotion&&!h,isWideVideo:t,didShortClickThrough:m,webLinkSurveyState:ei,pin:r,outerBodyStyle:B,isStoryPin:i,trafficSource:o,visualContentContainer:ef,isCloseupMaximized:!1,data:g,outerPaddingSize:e_,isInStream:y,metadataContainerRef:q,onClickThrough:()=>{c&&c({componentType:129}),ei.setClickthroughComponentForSurvey("legoMaybeLink")},isLoadingNewlyCreatedComment:es,setIsLoadingNewlyCreatedComment:eo,viewParameter:em,viewType:$,metadata:ex,viewer:Y,orbacSubjectId:el,relatedModulesResource:G,marginBottom:8*!Q,disableLeadPin:!0,isDeletedStoryPin:h,onSaveButtonClick:k,showRepinOnInitialRender:H,goBack:_,onUpdate:K,showPDPComments:ed,routePush:O,closeupActionBarMaxWidth:Q?void 0:M.CI,visualContentContainerRef:ed?en.visualContentContainerRef:void 0,actionBarContainerRef:X,isRelatedPins10PercentVisible:f})}var O=l(668175),V=l(86295),U=l(355940),N=l(753261),H=l(222555),W=l(176465),$=l(821806),G=l(462585),q=l(78762);let X=(0,q.Z)(()=>l.e("96615").then(l.bind(l,174753)),{ssr:!1},e=>174753,"CloseupPartnerModule"),Y=(0,q.Z)(()=>l.e("54347").then(l.bind(l,15863)),{ssr:!1},e=>15863,"SponsorshipApprovalModule"),Q={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},J={boxShadow:void 0,borderRadius:16},ee=({closeupWithinMasonryEnabled:e,didShortClickThrough:a,executeClickthrough:l,handleBackButtonClick:n,handleSaveButtonClick:i,isEligibleForStlFlyout:t,isLimitedLogin:r,isRelatedPins10PercentVisible:s,maxWidth:o,orbacActingAs:d,pin:g,pinResource:m,routePush:_,showRepinOnInitialRender:y,showStructuredDescription:h,trendsData:f,userBusinessRoleResource:x,relatedResourceOptions:v,storyPinTaggedProducts:P,trafficSource:S,viewer:b,viewportSize:F})=>{let{checkExperiment:w}=(0,L.F)(),{id:T,sponsorship:I,story_pin_data_id:K,story_pin_data:j}=g,A=!!K,Z=!!j?.is_deleted,{creator:R,sponsor:M,status:E}=I||{},{username:z}=R||{},{username:q}=M||{},{refresh:ee}=m,ea=(0,D.lJ)(b,d),{data:el}=x||{},en=!g.is_repin&&!!q,ei=q===b.username?[V.V3.OWNER]:el?.permissions,et=q===b.username||!!ei?.find(e=>O.Z.includes(e)),er=q===b.username||!!ei?.find(e=>O.Z.includes(e)),{isWideVideo:es}=(0,H.Z)((0,W.Z)({pin:g}))||{},eo=(0,N.rh)(g&&{aggregatedPinData:g.aggregated_pin_data&&{creatorAnalytics:g.aggregated_pin_data.creator_analytics&&{_30dRealtime:g.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:g.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:g.board&&{privacy:g.board.privacy},creatorAnalytics:g.creator_analytics&&{_30dRealtime:g.creator_analytics["30d_realtime"]&&{carId:g.creator_analytics["30d_realtime"].id}},isRepin:g.is_repin,pinner:g.pinner&&{entityId:g.pinner.id},storyPinDataId:g.story_pin_data_id,videos:g.videos&&{videoList:g.videos.video_list&&{__typename:"VideoList"}}},b,ea),ed=(0,p.CA)(f?.data),eu=en&&b.isAuth&&w("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(et&&0===E||er&&1===E),ec=A&&(j?.pages?.length??0)>0,ep=(0,N.WE)(b,F,eo,ed,f,eu),eg=e?J:Q;return(0,C.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:A?{...k.storyPinGradientStyle,width:"100%"}:{}},"data-test-id":"gradient",display:"flex",id:"gradient",justifyContent:"center",children:(0,C.jsx)(u.Fragment,{children:(0,C.jsx)(G.Z,{isStoryPin:A,isWideVideo:es,children:(0,C.jsx)(U.Z,{name:"CloseupBody",children:(0,C.jsxs)(c.xu,{children:[(0,C.jsxs)(c.xu,{alignItems:es?"center":void 0,direction:es?"column":void 0,display:es?"flex":void 0,children:[eu&&"number"==typeof E&&(0,C.jsx)(c.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,C.jsx)(U.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,C.jsx)($.Z,{children:(0,C.jsx)(Y,{business_role:ei,creatorUsername:z??"",pinId:T,sponsorshipStatus:E})})})}),ep&&!e&&(0,C.jsx)(c.xu,{"data-test-id":"PartnerModule",width:"lg"===F&&es?o:"100%",children:(0,C.jsx)(U.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,C.jsx)($.Z,{children:(0,C.jsx)(X,{borderStyle:eg,isStoryPin:A,pinKey:{type:"deprecated",data:g},showPinStats:eo,trendsData:ed?f?.data?.results:null,viewportSize:F})})})})]}),(0,C.jsx)(B,{data:m.data,didShortClickThrough:a,goBack:n,isDeletedStoryPin:!!Z,isEligibleForStlFlyout:t,isRelatedPins10PercentVisible:s,isStoryPin:A,isWideVideo:es,onClickThrough:l,onSaveButtonClick:i,onUpdate:ee,outerBodyStyle:A?null:eg,pin:g,relatedResourceOptions:v,routePush:_,showPartnerModule:ep,showPinStats:eo,showRepinOnInitialRender:!r&&y,showStructuredDescription:h,showTrendsOnPinCloseup:ed,storyPinTaggedProducts:P,trafficSource:S,trendsData:f,viewParameterType:ec?157:void 0,viewType:3})]})})})})})};l(167912);var ea=l(39599),el=l(623113),en=l(589183),ei=l(592821),et=l(339055),er=l(449930),es=l(142689),eo=l(780879),ed=l(779548),eu=l(127753),ec=l(955421);let ep=(0,q.Z)(()=>l.e("75139").then(l.bind(l,687400)),void 0,e=>687400,"StructuredFeedStoryModule"),eg=(0,q.Z)(()=>l.e("65346").then(l.bind(l,667980)),void 0,e=>667980,"app-common-react-components-closeup-CloseupRelatedModules-DomainModule"),em=(0,q.Z)(()=>Promise.resolve().then(l.bind(l,589183)),void 0,e=>589183,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters"),e_=(0,q.Z)(()=>l.e("99743").then(l.bind(l,412098)),void 0,e=>412098,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader"),ey=void 0!==n?n:n=l(149627),eh=(0,u.forwardRef)(({clientTrackingParams:e,isRelatedPins10PercentVisible:a,pinKey:l,setRelatedPinsHeaderRef:n,slotIndex:i,story:t,topLevelTrafficSource:r,viewParameter:s,viewportSize:o},d)=>{let u=(0,ed.Z)(ey,l),{closeupWithinMasonryEnabled:p}=(0,E.x4)();if(!t)return null;let{container_type:g,story_type:m}=t;if((0,ec.Z)(g)){let e=88===g,a=90===g;return(0,C.jsx)(c.xu,{marginBottom:e||a?0:12,paddingX:12*!!a,children:(0,C.jsx)(ep,{componentFallback:13176,initialSlotIndex:i,story:t,storyKey:{type:"deprecated",data:t},surface:"ShoppingDynamicHeightGrid",view:3,viewParameter:s})})}return(0,eu.HM)(m)?!p&&(0,C.jsx)(c.xu,{alignSelf:"center",children:(0,C.jsx)(em,{filter:(0,eu.oV)(m),story:t,viewParameter:s})}):["related_products_feed_header","related_modules_header"].includes(m)?(0,C.jsx)(c.xu,{ref:n,"data-test-id":"related-modules-header",children:(0,C.jsx)(e_,{ref:d,clientTrackingParams:e,isRelatedPins10PercentVisible:a,slotIndex:i,storyId:t.id,storyType:m,title:t.title?.format,viewParameter:s})}):"related_domain_carousel"===m?(0,C.jsx)(c.xu,{display:"flex",justifyContent:"center",marginBottom:12,children:(0,C.jsx)(eg,{closeupImageSignature:u.imageSignature||"",data:t,slotIndex:i,storyId:t.id,storyType:m,topLevelTrafficSource:r,viewParameter:s,viewportSize:o})}):null});var ef=l(267886),ek=l(974446),ex=l(713705),ev=l(619256),eP=l(957378),eS=l(469167),eb=l(525839),eF=l(806438),ew=l(776250),eT=l(123998),eI=l(458963),eK=l(725191),eC=l(845421),ej=l(756334);let eL=()=>(0,C.jsx)(u.Fragment,{children:Array(12).fill(void 0).map((e,a)=>(0,C.jsx)(c.xu,{marginEnd:4,width:ex.j},`empty-pin-${a}`))}),eA=void 0!==i?i:i=l(502396);function eZ(e){return 154===e.container_type?2:e.columnSpan??1}function eR({surface:e="PdpRelatedPinGrid",closeupBody:a,closeupInclusiveFilters:l,initialSlotIndex:n,isFetching:i=!1,pinKey:t,relatedPins:r,showResponsiveInclusiveFilters:s,topLevelTrafficSource:o}){let d=(0,eb.ZP)(),{closeupWithinMasonryEnabled:p}=(0,E.x4)(),g=(0,ed.Z)(eA,t),m=(0,eI.Z)(),_=(0,u.useRef)(null),y=(0,ew.Z)({hasPin:!!g,hasPinRichMetadata:!!g.richMetadata,hasPinRichMetadataProducts:!!g.richMetadata?.products,hasPinRichMetadataArticle:!!g.richMetadata?.article,hasPinRichMetadataRecipe:!!g.richMetadata?.recipe,hasPinStoryPinData:!!g.storyPinData}),h=({data:i,itemIdx:t})=>{let r=(0,eF.Z)(m),s=n+t,d=null;switch(i.type){case"closeup_module":d=a;break;case"shopping_module":d=(0,C.jsx)(ek.Z,{moduleWidth:"100%",pinKey:g,trafficSource:o,viewParameter:y});break;case"inclusive_filters_module":d=l;break;case"story":switch(154===i.container_type&&(d=(0,C.jsx)(ev.Z,{slotIndex:s,story:i,viewParameter:y,viewType:3})),i.story_type){case"BUBBLE_ONE_COL":d=(0,C.jsx)(eK.default,{bubbles:i.objects,id:i.id,referringSource:i.referring_source,slotIndex:s,storyType:i.story_type,title:i.title,viewParameter:y,viewType:3});break;case"related_query_shop_upsell_closeup":d=(0,C.jsx)(eP.default,{itemIdx:s,story:i,viewParameter:y,viewType:3})}break;default:d=(0,C.jsx)(eC.ZP,{componentType:13176,duploQueryRef:null,imageOnlyOption:r?"image-only":"default",pinId:i.id,slotIndex:s,surface:e,trackingParams:i.tracking_params,viewData:{pin_id:g.entityId},viewParameter:y,viewType:3})}return(0,C.jsx)(ef.Z,{children:d})},f={isLoadedAccessibilityLabel:r.length>0?d.bt("Loaded more related product results", "Loaded more related product results", "closeup.relatedProducts.results", undefined, true):d.bt("Loaded related products result", "Loaded related products result", "closeup.relatedProducts.results", undefined, true),isLoadingAccessibilityLabel:r.length>0?d.bt("Loading more related products results", "Loading more related products results", "closeup.relatedProducts.loading", undefined, true):d.bt("Loading related products results", "Loading related products results", "closeup.relatedProducts.loading", undefined, true)},k=p?(0,C.jsx)(eS.default,{_dynamicHeights:!0,_getColumnSpanConfig:eZ,_getResponsiveModuleConfigForSecondItem:(0,er.fz)(!!s),align:"center",isFetching:i,isLoadingStateEnabled:!0,items:r,layout:"basic",masonryRef:_,minCols:2,renderItem:h,serverRender:!0,virtualize:er.o1,...f}):(0,C.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"5px"}},children:[(0,C.jsx)(eS.default,{_getColumnSpanConfig:eZ,isFetching:i,isLoadingStateEnabled:!0,items:r,renderItem:h,...f}),(0,C.jsx)(eL,{})]});return(0,C.jsx)(ej.Z,{metricName:"RelatedModulesFeed",children:(0,C.jsx)(eT.Z,{component:86,viewParameter:y,children:k})})}var eD=l(626328),eM=l(184857),eE=l(239988),ez=l(96471),eB=l(849233),eO=l(598579),eV=l(730647),eU=l(378888);let eN=(0,q.Z)(()=>l.e("80949").then(l.bind(l,610977)),void 0,e=>610977,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesOneBar"),eH=void 0!==t?t:t=l(937046),eW=(0,u.forwardRef)(({clientTrackingParams:e,closeupBody:a,excludeStories:l,initialSlotIndex:n=0,isFilteredFeed:i,isRelatedPins10PercentVisible:t,pinKey:r,relatedModulesFeedResource:o,setHasRelatedPins:d,setRelatedPinsHeaderRef:p,topLevelTrafficSource:g,viewParameter:m,viewportSize:_},y)=>{let h=(0,ed.Z)(eH,r),{search:f}=(0,s.TH)(),{closeupWithinMasonryEnabled:k}=(0,E.x4)(),x=new URLSearchParams(f).get("f")??"",v=(0,et.Z)(x),P=(0,u.useMemo)(()=>(o.data||[]).filter(e=>["SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"].includes(e?.story_type??"")).find(e=>(0,eu.HM)(e?.story_type??"")),[o]),{closeupMasonryModules:S,inclusiveFilters:b}=(0,er.ZP)(h.entityId,P),F=b?(0,eu.oV)(b.story_type??""):"",{inInclusiveEfficientRefinements:w}=(0,es.Z)(F),T=k&&w&&v,I=(0,A.Z)(T?{name:"ApiResource",options:{url:`/v3/pins/${h.entityId}/related/pins/filter/`,data:{fields:eM.Z,related_pins_tabs_selections:v}}}:null),{data:K,isAtEnd:j,isFetching:L,fetchMore:Z,nextBookmark:R}=T?I:o,D=(0,u.useMemo)(()=>(K||[]).filter(e=>!(l&&"story"===e.type&&e.story_type&&l.includes(e.story_type))),[K,l]),M=i&&R===eB.qx,z=K?K.length:0,B=(0,u.useMemo)(()=>(0,eV.Z)(D),[D]),O=(0,u.useCallback)(e=>!!("pin"===e.type||"story"===e.type&&(eO.v8.has(e.story_type)||154===e.container_type)),[]),V=(0,s.k6)(),U=(0,u.useRef)(n),N=(0,eU.mB)(f).rs,H=V?.action==="POP";(0,u.useEffect)(()=>{(0,eD.Z)({isFromBackButton:H,referringSource:N,relatedModulesRef:y})},[H,f,N,y]),(0,u.useEffect)(()=>{d(0!==z)},[z,d]);let W=(0,u.useMemo)(()=>b?(0,C.jsx)(en.default,{filter:F,story:b,viewParameter:m}):null,[b,F,m]),{storyModules:$,allPins:G}=(0,u.useMemo)(()=>{let a=[],l=[...S],n=0;return B.length>0&&B.forEach((i,r)=>{0===r&&(U.current=0,n=0);let s=0;Array.isArray(i)?(s+=i.length,l.push(...i.filter(O))):"story"===i.type&&(s+="objects"in i&&Array.isArray(i.objects)?i.objects.length:1,a.push((0,C.jsx)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:(0,C.jsx)(eh,{ref:y,clientTrackingParams:e,isRelatedPins10PercentVisible:t,pinKey:h,setRelatedPinsHeaderRef:p,slotIndex:n,story:i,topLevelTrafficSource:g,viewParameter:m,viewportSize:_})},Array.isArray(i)?i[0]?.id:i.id))),U.current=n+=s}),{storyModules:a,allPins:l}},[S,B,O,e,t,h,p,g,m,_,y]);return(0,C.jsxs)(u.Fragment,{children:[$,(0,C.jsx)(eR,{closeupBody:a,closeupInclusiveFilters:W,initialSlotIndex:U.current,isFetching:L,pinKey:h,relatedPins:G,showResponsiveInclusiveFilters:w,surface:i?"ShoppingDynamicHeightGrid":void 0,topLevelTrafficSource:g}),(0,C.jsx)(c.gr,{fetchMore:Z,isAtEnd:j,isFetching:L}),M&&z>0&&(0,C.jsx)(ea.Z,{}),M&&0===z&&(0,C.jsx)(el.Z,{})]})});function e$(e){let{relatedResourceOptions:a,clientTrackingParams:l,isRelatedPins10PercentVisible:n,setRelatedPinsHeaderRef:i,pinKey:t,relatedPinsContainerRef:r,topLevelTrafficSource:s,viewParameter:o,viewportSize:d}=e,p=(0,A.Z)(a),g=(0,ez.Z)(),[m,_]=(0,u.useState)(null),y=(0,eE.Z)(),{cacheOneBarModules:f,cachedProductFilterOneBarModules:k}=(0,eo.X)(),{closeupWithinMasonryEnabled:x}=(0,E.x4)(),v=(0,ed.Z)(eH,t),{isInCloseupShoppingRefinementsExp:P,shouldFetchSLURPFields:S}=(0,h.Z)({pinKey:v}),[b,F]=(0,u.useState)(!0),w=(0,A.Z)(P&&y&&v.entityId?{name:"ApiResource",options:{url:`/v3/pins/${v.entityId}/related/pins/filter/`,field_sets:["pin.domain","pin.dominant_color","pin.grid_title","pin.id","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_oos_product","pin.is_stale_product","pin.link_domain()","pin.link","pin.rich_summary()","pin.tracking_params","pin.type",...S?["pin.is_eligible_for_closeup_one_bar_refinements"]:[]],data:{applied_unified_filters:y}}}:null),T=w?.data?w:p,I=T?.data?.find(e=>"story"===e.type&&e.story_type&&e.story_type===ei.vs),K=I?.objects;(0,u.useEffect)(()=>{P&&K&&f({baseCacheKey:v.entityId,oneBarModules:K})},[p,p.data,v.entityId,f,P,w,K]),(0,u.useEffect)(()=>{!m&&P&&_(p?.data?.find(e=>"story"===e.type&&e.story_type&&ei.aW.has(e.story_type)))},[p,P,_,m]);let j=!P||P&&!g;return(0,C.jsxs)(c.xu,{ref:r,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[P&&m&&b&&(0,C.jsx)(eh,{ref:r,clientTrackingParams:l,isRelatedPins10PercentVisible:n,pinKey:v,setRelatedPinsHeaderRef:i,slotIndex:0,story:m,topLevelTrafficSource:s,viewParameter:o,viewportSize:d}),K&&K.length>0&&k&&k.length>0&&!x&&(0,C.jsx)(eN,{oneBarModules:K,viewParameter:o,viewType:3}),(g||j)&&(0,C.jsx)(eW,{...e,ref:r,excludeStories:P?[...ei.aW,ei.vs]:[],initialSlotIndex:+!!g,isFilteredFeed:g,relatedModulesFeedResource:g?w:p,setHasRelatedPins:F})]})}var eG=l(374114),eq=l(525655),eX=l(111330),eY=l(518285),eQ=l(782881),eJ=l(364732),e0=l(974297),e1=l(980787),e3=l(686319),e7=l(278533),e2=l(761256),e6=l(50651),e8=l(817309),e4=l(453179),e5=l(607652),e9=l(887946),ae=l(300540),aa=l(67831),al=l(735002),an=l(956077),ai=l(15667),at=l(753143),ar=l(159527),as=l(572227),ao=l(91479),ad=l(87853),au=l(341742),ac=l(431338),ap=l(322888),ag=l(294868),am=l(711313),a_=l(97781),ay=l(199593),ah=l(25837),af=l(314011),ak=l(966838),ax=l(74459);let av={sm:80},aP=({verticalNavWidth:e})=>({BREAKPOINT:1056+e,WIDE_VIDEO_BREAKPOINT:998+e,WIDE_PDP_BREAKPOINT:1300+e,SM_BREAKPOINT:680+e,EXP_SM_BREAKPOINT:860+e,SM_WITH_CAROUSEL_BREAKPOINT:960+e,BACK_BUTTON_WIDE_BREAKPOINT:1135+e,BACK_BUTTON_WIDE_CAROUSEL_BREAKPOINT:1465+e,BACK_BUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+e,BACK_BUTTON_WITH_LABEL_WIDE_CAROUSEL_BREAKPOINT:1640+e,BACK_BUTTON_NARROW_CAROUSEL_BREAKPOINT:780+e,BACK_BUTTON_NARROW_BREAKPOINT:630+e});function aS({conversation_id:e,senderId:a,pinId:l}){(0,e3.Z)({url:`/v3/conversations/${e}/message/mark_seen/`,method:"POST",data:{sender:a,pin:l}})}let ab=({isWideVideo:e,viewportSize:a,peekCloseupEnabled:l})=>!["md","sm"].includes(a)&&!e||l&&"sm"!==a;function aF(e){let{clientTrackingParams:a,closeupWithinMasonryEnabled:l,conversation_id:n,conversationOpen:i,didRepin:t,dispatch:r,goToCampaignCreation:s,i18n:o,initialState:d,isLandingPage:p,isLimitedLogin:_,logContextEvent:y,mainImage:h,onHandleBackButtonClick:f,openInbox:k,orbacActingAs:x,peekCloseupEnabled:v,pin:P,pinFormattedLink:S,pinId:b,pinResource:F,pwtSurfaceContext:w,requestContext:T,routePush:I,senderId:K,setAbortNoActionPlacementTimeout:L,setMostRecentPinId:A,setMostRecentPinImage:Z,setPlacementExtraContext:R,shouldShowInbox:E,showRepinOnInitialRender:z,showStructuredDescription:B,toastManager:O,trackInteraction:V,trafficSource:U,trendsData:N,userBusinessRoleResource:$,verticalNavWidth:G,viewer:q}=e,{visualState:X,didShortClickThrough:Y=!1,isOverRelatedPins:Q=!1,viewportSize:J="lg",firstLoadComplete:ea=!1,campaignCreationTriggered:el=!1,intervalId:en}=d||{},ei=d?.didPinClickThrough||!1,[et,er]=(0,u.useState)(X),[es,eo]=(0,u.useState)(Y),[ed,eu]=(0,u.useState)(J),[ec,ep]=(0,u.useState)(Q),[eg,em]=(0,u.useState)(ea),[e_,ey]=(0,u.useState)(el),[eh,ef]=(0,u.useState)(en),[ek,ex]=(0,u.useState)(ei),ev=(0,u.useCallback)(()=>{er(e=>{let a=(0,eJ.Z)({carouselData:P.carousel_data,images:P.images,product:(P.rich_metadata||P.rich_summary)?.products?.[0]});return{...e,carouselData:a}})},[P]);(0,au.Z)(()=>{let e=function({richPinData:e={}}){return e?.products?.[0]}({richPinData:P.rich_summary});!et.carouselData&&(e?.has_multi_images||e?.videos?.length)&&ev()});let[eP,eS]=(0,u.useState)(!1),eb=(0,u.useRef)(!1),eF=(0,u.useRef)(null),eT=(0,u.useRef)(0),eI=(0,u.useMemo)(()=>{let e=(P||{}).board||{},a=e.is_collaborative&&(0,eQ.Z)(e.collaborated_by_me,e.owner?.id,q);return!!(q.isAuth&&P.pinner?.id===q.id||a)},[P,q]),eK=(0,u.useCallback)(()=>{let{isWideVideo:e}=(0,H.Z)((0,W.Z)({pin:P}))||{};eb.current&&eu(function({isWideVideo:e,hasCarouselData:a,closeupWithinMasonryEnabled:l,verticalNavWidth:n}){let{BREAKPOINT:i,WIDE_VIDEO_BREAKPOINT:t,WIDE_PDP_BREAKPOINT:r,SM_BREAKPOINT:s,EXP_SM_BREAKPOINT:o,SM_WITH_CAROUSEL_BREAKPOINT:d}=aP({verticalNavWidth:n}),u=i,c=l?o:s;return(e&&(u=t),a&&(u=r,c=l?d:c),window?.innerWidth<c)?"sm":window?.innerWidth<u?"md":"lg"}({isWideVideo:!!e,hasCarouselData:!!et?.carouselData,closeupWithinMasonryEnabled:l,verticalNavWidth:G}))},[l,P,G,et?.carouselData]),eC=(0,u.useCallback)(()=>{eT.current>0&&(eo(Date.now()-eT.current<5e3),eT.current=0)},[]);(0,au.Z)(()=>{eb.current=!0,n&&K&&b&&aS({conversation_id:n,senderId:K,pinId:b}),n&&(i(n),E&&k()),P.image_signature&&Z(P.image_signature),b&&A(b),R&&R({is_own_or_group_pin:eI});let e=(0,at.M0)().getItem(eX.M8)||"";return e&&e===b&&((0,at.M0)().removeItem(eX.M8),V({action:"trigger",item:"unauth-save-button-quicksave"}),(0,eG.Z)({description:P.description,entityId:P.id,link:P.link,promotedIsRemovable:P.promoted_is_removable,title:P.title},o).then(e=>{let{id:a,url:l,name:n}=e;r((0,ak.d)({boardId:a,url:l,title:n||"",pinId:b,nodeId:P.node_id})),O.showToast(({hideToast:a})=>(0,C.jsx)(a_.Z,{boardName:e.name,boardUrl:e.url,onHide:a,pinImageUrl:P.images?.["236x"]?.url??""}))})),eK(),window.addEventListener("resize",eK),window.addEventListener("focus",eC),window?.location?.search?.includes("invite_code=")&&(0,e7.Z)(),()=>{window.removeEventListener("resize",eK),window.removeEventListener("focus",eC),eb.current=!1}});let ej=(0,u.useCallback)(()=>{let{advertiser:e}=T,a=(0,ap.xN)(e,b);ey(!0),window.location.assign(a)},[b,T]),eL=(0,u.useCallback)((e,a)=>{let l={visualState:et,didShortClickThrough:es,didPinClickThrough:ek,isOverRelatedPins:ec,firstLoadComplete:eg,campaignCreationTriggered:e_,intervalId:eh,viewportSize:ed,backButtonLabelFitInScreen:!1,closeupBodyContainerHeight:0,closeupContainerHeight:0},n=function(e,a){switch(a.type){case"gallerySelect":return{shopping:a.select};case"pinLoaded":{let l=e.myTry?{}:{myTry:{isDoneByMe:a.pin.done_by_me}};return{pin:a.pin,...l,firstLoadComplete:!0}}case"tryChange":return{myTry:{isDoneByMe:a.isDoneByMe}};default:throw"impossible"}}(l,e);n.visualState!==l.visualState&&n.visualState&&er(n.visualState),n.didShortClickThrough!==l.didShortClickThrough&&n.didShortClickThrough&&eo(n.didShortClickThrough),n.didPinClickThrough!==l.didPinClickThrough&&n.didPinClickThrough&&ex(n.didPinClickThrough),n.isOverRelatedPins!==l.isOverRelatedPins&&n.isOverRelatedPins&&ep(n.isOverRelatedPins),n.firstLoadComplete!==l.firstLoadComplete&&n.firstLoadComplete&&em(n.firstLoadComplete),n.campaignCreationTriggered!==l.campaignCreationTriggered&&n.campaignCreationTriggered&&ey(n.campaignCreationTriggered),n.intervalId!==l.intervalId&&ef(n.intervalId),n.viewportSize!==l.viewportSize&&n.viewportSize&&eu(n.viewportSize),a&&a()},[et,es,ek,ec,eg,e_,eh,ed]),eA=(0,u.useCallback)(()=>{let e;if(!eg)return;let a=(0,eJ.Z)({carouselData:P.carousel_data,images:P.images,product:(P.rich_metadata||P.rich_summary)?.products?.[0]}),l=(a?.carousel_slots||[])[0]||{},n=(0,e0.Z)(l.images),i=et.carouselData,t=et.mainImage||{url:""},r=i?.index||0;e=a&&(a.carousel_slots?.length||0)>1?{mainImage:h,carouselData:{...a,index:r},previewImage:(0,ag.Yf)(P.images?.["236x"])}:n?.url?{mainImage:{url:n.url,height:n.height||1,width:n.width||1}}:{mainImage:h,previewImage:(0,ag.Yf)(P.images?.["236x"])},(i?.id!==e.carouselData?.id||JSON.stringify(i?.carousel_slots)!==JSON.stringify(e.carouselData?.carousel_slots)||t.url!==e.mainImage.url)&&(er(e),eK())},[eg,P.carousel_data,P.images,P.rich_metadata,P.rich_summary,et.carouselData,et.mainImage,h,eK]),eZ=(0,u.useCallback)(()=>{let{carouselData:e}=et;return function({viewportSize:e,hasCarouselData:a}){return a&&["lg","md"].includes(e)}({viewportSize:ed,hasCarouselData:!!e})},[ed,et]);(0,u.useEffect)(()=>{eA(),!eg||eZ()||eP||(w?.removeConstraint("thumbnailsLoaded"),(0,an.l7)("thumbnailsLoaded"),eS(!0));let{data:e}=F;e&&!eg&&(e.carousel_data&&(e.carousel_data.index=et.carouselData?.index||0),eL({type:"pinLoaded",pin:e})),n&&K&&b&&aS({conversation_id:n,senderId:K,pinId:b}),F.data&&!e_&&s&&ej();let a={};((0,at.M0)().getItem(eX.W3)||"").includes(`/pin/${b}`)&&p&&(a.loginPageType="pin"),t&&(a.didRepin=!0),P.image_signature&&(a.pin_image_signature=P.image_signature),a.is_own_or_group_pin=eI,!(0,e2.Z)(a)&&R&&R({...a})},[eg,e_,F.data,b,et.carouselData,P.image_signature,n,K,t,p,eP,s,eA,eZ,F,eI,R,w,eL,ej]);let eR=(0,u.useCallback)(e=>{eF.current=e||null},[]),eD=(0,u.useCallback)(()=>{clearInterval(eh),R&&R({didLongClickThrough:!0})},[eh,R]),eM=(0,ac.Z)({type:"deprecated",data:P}),eE=(0,u.useCallback)(e=>{let l=!!P.story_pin_data,{wasImageClicked:n,auxData:i,componentType:t=l?228:4,elementType:r=n?35:l?11157:361,viewType:s=3}=e||{},o=(0,ew.Z)({hasPin:!0,hasPinRichMetadata:!!P.rich_metadata,hasPinRichMetadataProducts:!!P.rich_metadata?.products,hasPinRichMetadataArticle:!!P.rich_metadata?.article,hasPinRichMetadataRecipe:!!P.rich_metadata?.recipe,hasPinStoryPinData:!!P.story_pin_data}),d={...eM(),...i||{}};q&&q.isAuth&&!ek&&R&&(R({didPinClickThrough:!0}),ex(!0)),l&&y({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:P.id,url:S}}),y({event_type:101,object_id_str:b,component:t,element:r,aux_data:d,clientTrackingParams:a}),y({event_type:12,object_id_str:b,view_type:s,view_parameter:o,component:t,element:r,aux_data:d,clientTrackingParams:a}),y({event_type:8948,view_type:s,view_parameter:o,component:t,element:r,object_id_str:b,aux_data:{click_type:"clickthrough",closeup_navigation_type:U&&(0,e4.sV)(U)?"deeplink":"click",...d}}),y({event_type:12,object_id_str:b,view_type:s,view_parameter:o,component:t,element:r,aux_data:{...d,...(0,e8.Z)(P.link_utm_applicable_and_replaced)},clientTrackingParams:a}),n&&ef(window.setInterval(eD,12e4)),eT.current=Date.now(),es&&eo(!1),L(!0)},[P.story_pin_data,P.rich_metadata,P.id,eM,q,ek,R,y,b,a,U,es,L,S,eD,P.link_utm_applicable_and_replaced]),ez=(0,u.useCallback)(()=>{clearInterval(eh),R&&R({didLongClickThrough:!1})},[eh,R]),eB=(0,u.useCallback)(()=>{y({event_type:101,object_id_str:P.id,component:4,element:13306,clientTrackingParams:a,aux_data:{...eM()}}),L(!0)},[P.id,y,a,eM,L]),eO=(0,u.useCallback)(()=>{f()},[f]),eV=(0,u.useCallback)(e=>{eg&&er(a=>({...a,carouselData:{...a.carouselData||{},index:e}}))},[eg]),eU=(0,u.useCallback)(()=>(0,ar.Z)(()=>{if(eF.current){let e=ah.hu,a=eF.current.getBoundingClientRect().top<=e;ec!==a&&ep(a)}},10)(),[ec]),eN=(0,u.useCallback)(e=>{e.stopPropagation(),eO()},[eO]),{abortNoActionPlacementTimeout:eH,contextPinIds:eW,getAdditionalFields:eY,pinDerivedData:e1,topLevelTrafficSource:e3,topLevelTrafficSourceDepth:e6,searchQuery:e5,storyPinTaggedProductsResource:e9,isCommentAttachmentSelectorOpen:aa,isCommentComposerFocused:al,isCommentOverflowPopoverOpen:ai,isCommentThreadExpanded:as,isProductDetailsExpanded:ad,setIsCommentAttachmentSelectorOpen:am,setIsCommentComposerFocused:ay,setIsCommentOverflowPopoverOpen:af,setIsCommentThreadExpanded:ax,setIsProductDetailsExpanded:aF,isCloseupMediaViewerOpen:aw,setIsCloseupMediaViewerOpen:aT,landingContext:aI,isRelatedPins10PercentVisible:aK,relatedPinsContainerRef:aC}=e,aj=eM(),{isWideVideo:aL}=(0,H.Z)((0,W.Z)({pin:P}))||{},aA=!l&&ab({isWideVideo:!!aL,viewportSize:ed,peekCloseupEnabled:v}),{recommendation_reason:aZ}=P,aR=(0,u.useMemo)(()=>({name:"RelatedModulesResource",options:{additional_fields:eY(),pin_id:P.id,context_pin_ids:eW,homefeed_source_sig:aZ&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(aZ.reason??"")&&aZ.reason_id,page_size:12,search_query:e5,source:U,top_level_source:e3,top_level_source_depth:e6,is_pdp:P.is_eligible_for_pdp,landing_context:aI}}),[eY,P.id,eW,aZ,e5,U,e3,e6,P.is_eligible_for_pdp,aI]),aD=(0,D.q6)(q,P.pinner?.id,x),aM=!!P.id&&!aD||l,{data:aE}=e9||{},az=l?M.Gg:M.CI,aB=eZ()&&aA?M.Ch:az,aO=eZ()?M.Gb:M.Kn,aV=l||"lg"!==ed?aB:aO-aB,aU=eg&&(eZ()||l),aN=aU&&(0,C.jsx)(j,{disabled:!B||l,children:(0,C.jsx)(ae.Z,{containerId:"InnerScrollContainer",children:(0,C.jsx)(eq.Z,{carouselSlots:et?.carouselData?.carousel_slots??[],commerceData:aj,onImageSelect:eV,pinId:P.id,selectedIndex:et?.carouselData?.index||0,size:"sm",surfaceType:"closeup",viewParameter:(0,ew.Z)({hasPin:!!P,hasPinRichMetadata:!!P.rich_metadata,hasPinRichMetadataProducts:!!P.rich_metadata?.products,hasPinRichMetadataArticle:!!P.rich_metadata?.article,hasPinRichMetadataRecipe:!!P.rich_metadata?.recipe,hasPinStoryPinData:!!P.story_pin_data})})})}),aH=aU&&(0,C.jsx)(c.xu,{width:av.sm}),aW=(0,u.useMemo)(()=>(0,C.jsx)(ee,{closeupWithinMasonryEnabled:l,didShortClickThrough:es,executeClickthrough:eE,handleBackButtonClick:eO,handleSaveButtonClick:eB,isEligibleForStlFlyout:!0,isLimitedLogin:_,isRelatedPins10PercentVisible:aK,maxWidth:aO,orbacActingAs:x,pin:P,pinResource:F,relatedResourceOptions:aR,routePush:I,showRepinOnInitialRender:z,showStructuredDescription:B,storyPinTaggedProducts:aE,trafficSource:U,trendsData:N,userBusinessRoleResource:$,viewer:q,viewportSize:ed}),[l,es,eE,eO,eB,_,aK,aO,x,P,F,aR,I,z,B,aE,U,N,$,q,ed]),a$=(0,C.jsx)(g.Z,{isVideoPin:e1.isVideoPin,pin:P,pinResource:F,topLevelTrafficSource:e3,didShortClickThrough:es,firstLoadComplete:eg,viewportSize:ed,relatedModulesContent:aM?(0,C.jsx)(e$,{closeupBody:aW,isRelatedPins10PercentVisible:aK,pinKey:{type:"deprecated",data:P},relatedPinsContainerRef:aC,relatedResourceOptions:aR,setRelatedPinsHeaderRef:eR,topLevelTrafficSource:e3,viewParameter:(0,ew.Z)({hasPin:!!P,hasPinRichMetadata:!!P.rich_metadata,hasPinRichMetadataProducts:!!P.rich_metadata?.products,hasPinRichMetadataArticle:!!P.rich_metadata?.article,hasPinRichMetadataRecipe:!!P.rich_metadata?.recipe,hasPinStoryPinData:!!P.story_pin_data}),viewportSize:ed}):(0,C.jsx)(u.Fragment,{}),afterBodyContent:aH,beforeBodyContent:aN,bodyContent:aW,onWrapperClick:eN,backButton:(0,C.jsx)(ao.Z,{onClick:eO}),isProductDetailsExpanded:ad,peekCloseupEnabled:v,setIsCommentAttachmentSelectorOpen:am,setIsCommentComposerFocused:ay,setIsCommentOverflowPopoverOpen:af,setIsCommentThreadExpanded:ax,setIsCloseupMediaViewerOpen:aT,setIsProductDetailsExpanded:aF,closeupWithinMasonryEnabled:l,setAbortNoActionPlacementTimeout:L});return(0,C.jsx)(m.Z,{abortNoActionPlacementTimeout:eH,beforeBodyContent:aN,classProps:{...e,location:{pathname:"",search:"",hash:""}},classState:{...e.initialState,pin:P,visualState:et,didShortClickThrough:es,didPinClickThrough:ek,firstLoadComplete:eg,intervalId:eh,viewportSize:ed,isOverRelatedPins:ec},clientTrackingParams:a,commerceData:aj,showCloseupContentRight:aA,showProductDetailPage:!0,paneWidth:aB,maxWidth:aO,descriptionPaneWidth:aV,handleCarouselSwipe:eV,handleFocus:ez,handleScroll:eU,handleBackButtonClick:eO,closeupContent:a$,isCloseupMediaViewerOpen:aw,isCommentAttachmentSelectorOpen:aa,isCommentComposerFocused:al,isCommentOverflowPopoverOpen:ai,isCommentThreadExpanded:as,isProductDetailsExpanded:ad,peekCloseupEnabled:v,setIsCommentAttachmentSelectorOpen:am,setIsCommentComposerFocused:ay,setIsCommentOverflowPopoverOpen:af,setIsCommentThreadExpanded:ax,setIsCloseupMediaViewerOpen:aT,setIsProductDetailsExpanded:aF,closeupWithinMasonryEnabled:l,setAbortNoActionPlacementTimeout:L})}let aw=(0,f.Z)(function(e){let{clientTrackingParams:a,pin:l,pinResource:n,pinId:i,viewer:t,deepLinkBackGoesToBoard:s,goBack:o,routePush:d,trafficSource:c}=e,{logContextEvent:g}=(0,e1.v)(),m=(0,as.Z)(),f=(0,eb.ZP)(),k=(0,ai.B)(),x=(0,L.F)(),{checkExperiment:v}=x,P=!!(l.is_eligible_for_pdp&&!l.story_pin_data&&l.formatted_description?.components),[S,b]=(0,u.useState)(!1),[F,w]=(0,u.useState)(!1),[T,I]=(0,u.useState)(!1),[K,j]=(0,u.useState)(!1),[Z,M]=(0,u.useState)(!1),[E,z]=(0,u.useState)(!1),[B,O]=(0,u.useState)(!1),V=(0,u.useRef)(null),[U,N]=(0,u.useState)(!1);(0,u.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{N(!!e&&e.isIntersecting)},{root:null,rootMargin:"-100px 0px 0px 0px",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1]}),a=V?.current;return V?.current&&e.observe(V?.current),()=>{a&&e.unobserve(a)}},[V]);let{setMostRecentPinId:H,setMostRecentPinImage:W}=(0,af.f)(),$=(0,ac.Z)({type:"deprecated",data:l}),G=(0,e9.Z)({type:"deprecated",data:l}),q=(0,e4.sY)(l.embed?.type)&&"gif"||!!l.is_eligible_for_pdp&&"productPin"||l.rich_summary?.type_name==="recipe"&&"recipePin"||l.story_pin_data_id&&"storyPin"||!!l.videos?.video_list&&"video"||"image",X="pin_closeup_lcp",Y=(0,al.PY)(X),{conversationOpen:Q}=(0,ay.Z)(),J=(0,ax.Z)(),{shouldFetchSLURPFields:ee}=(0,h.Z)({pinKey:{type:"deprecated",data:l}}),{landingContext:ea}=(0,e6.Z)(),el=(0,R.Z)(),en=(0,D.lJ)(t,el);(0,u.useEffect)(()=>{Y&&(0,al.ku)({stopwatchName:X,binaryAnnotationName:"pinType",value:q,annotationType:"STRING"})},[Y,q]);let ei=l.sponsorship?.sponsor?.id,et=!l.is_repin&&!!ei,er=(0,A.Z)(ei&&et&&t.isAuth&&"storyPin"===q?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${ei}/me/ad_accounts_permissions/`}}:null),{onHandleBackButtonClick:es}=(0,am.Z)({logCommerceAuxData:!0,deepLinkBackGoesToBoard:s,element:13310,goBack:o,routePush:d,trafficSource:c,viewer:t,requestContext:k,pinKey:{type:"deprecated",data:l}},g),eo=t.isAuth&&(0,p.Gv)({orbacSubjectId:en,pinIsRepin:l.is_repin,pinPinnerId:l.pinner?.id,viewerId:t.id,viewerIsPartner:t.isPartner}),{data:ed,isLoaded:eu}=(0,A.Z)(eo?{name:"ApiResource",options:{url:`/v3/trends/partner/${t.id||""}/trends_for_pin/${l.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:ec}=(0,_.Z)(),ep=(0,y.Z)({pin:l,pinId:i,pinResource:n}),{getMainPinImage:eg}=(0,e5.Z)({pinKey:{type:"deprecated",data:l}}),em=(0,u.useCallback)(()=>{let e=ee?["pin.is_eligible_for_closeup_one_bar_refinements"]:[],a=v("hfp_gen_ai_topics_opt_out_dweb",{dangerouslySkipActivation:!0}).group;return a&&(["control_pwt","enabled_pwt"].includes(a)&&v("hfp_gen_ai_topics_opt_out_dweb"),"control_pwt"!==a&&e&&!e.includes("pin.gen_ai_topics")&&(e=[...e,"pin.gen_ai_topics"])),e},[ee,v]);return(0,C.jsx)(aF,{...e,abortNoActionPlacementTimeout:S,clientTrackingParams:a,closeupWithinMasonryEnabled:ec,conversationOpen:Q,dispatch:(0,r.I0)(),experimentsClient:x,getAdditionalFields:em,getSterlingURL:(0,eY.Z)(),getStringifiedCommerceAuxData:$,i18n:f,initialState:ep,isCloseupMediaViewerOpen:B,isCommentAttachmentSelectorOpen:F,isCommentComposerFocused:T,isCommentOverflowPopoverOpen:K,isCommentThreadExpanded:Z,isProductDetailsExpanded:E,isRelatedPins10PercentVisible:U,landingContext:ea,logContextEvent:g,mainImage:eg(),onHandleBackButtonClick:es,orbacActingAs:el,peekCloseupEnabled:!ec,pinFormattedLink:G,pwtSurfaceContext:(0,aa.E)(),relatedPinsContainerRef:V,requestContext:k,setAbortNoActionPlacementTimeout:b,setIsCloseupMediaViewerOpen:O,setIsCommentAttachmentSelectorOpen:w,setIsCommentComposerFocused:I,setIsCommentOverflowPopoverOpen:j,setIsCommentThreadExpanded:M,setIsProductDetailsExpanded:z,setMostRecentPinId:H,setMostRecentPinImage:W,showStructuredDescription:P,toastManager:(0,ad.F9)(),trackInteraction:m,trendsData:{data:ed,isLoaded:!eo||eu},userBusinessRoleResource:er,verticalNavWidth:J})});var aT=l(390843),aI=l(620427),aK=l(990103),aC=l(169053);function aj(e){return(0,C.jsx)(o.l6,{...e,CloseupComponent:aw})}function aL(e){let a=(0,r.I0)(),l=(0,Z.Z)(),n=(0,s.UO)(),i=(0,aT.aX)(),t=(0,s.TH)(),o=(0,aC.S6)()(n.id||""),c=(0,aI.Z)((t?.state||{}).trackingParams,o?.tracking_params),p={...e,history:(0,s.k6)(),location:(0,s.TH)(),clientTrackingParams:c,params:n,requestContext:(0,ai.B)(),searchPinCloseupViewed:(e,l)=>a((0,aK.Y4)(e,l)),viewer:l},{checkExperiment:g}=(0,L.F)();return(0,C.jsx)(d.Z,{orbacSubjectId:(0,D.lJ)(l,(0,R.Z)()),pinId:n.id||"",children:({pinResource:e})=>(0,u.createElement)(aj,{...p,key:n.id,checkExperiment:g,clientTrackingParams:c,currentHistoryStack:i,pinResource:e})})}},626328:function(e,a,l){l.d(a,{Z:()=>i});var n=l(940280);function i({isFromBackButton:e,referringSource:a,relatedModulesRef:l}){!e&&l?.current&&a===n.i.SHOPPING_FILTER&&setTimeout(()=>{l.current?.scrollIntoView(),window.scrollBy(0,-100)},10)}},668175:function(e,a,l){l.d(a,{Z:()=>i});var n=l(86295);let i=[n.gO.ADMIN,n.gO.CAMPAIGN_MANAGER]},228121:function(e,a,l){l.d(a,{Z:()=>g});var n=l(667294),i=l(883119),t=l(149739),r=l(525839),s=l(302148),o=l(473728),d=l(785893);function u({minutes:e}){let a=(0,r.ZP)(),l=e%60,n=Math.floor(e/60),o=l>0?(0,s.nk)(a.bt("{{ mins }} min", "{{ mins }}min", "closeup.storyPin.basicsLayout.cookTimeUnit", undefined, true),{mins:l}).join(""):"",u=n>0?(0,s.nk)(a.bt("{{ hours }} hr", "{{ hours }}hr", "closeup.storyPin.basicsLayout.cookTimeUnit", undefined, true),{hours:n}).join(""):"";return(0,d.jsx)(i.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(i.xv,{inline:!0,size:t.n,children:(0,s.nk)(a.bt("{{ hoursText }} {{ minsText }}", "{{ hoursText }} {{ minsText }}", "closeup.storyPin.basicsLayout.cookTime", undefined, true),{hoursText:u,minsText:o})})})}function c({servingSize:e}){let a=(0,r.ZP)(),l=(0,o.Z)(a.nbt(["{{servingSize}} serving", "{{servingSize}} servings"], e, "number of servings for a recipe", true),{servingSize:e});return(0,d.jsx)(i.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(i.xv,{inline:!0,size:t.n,children:(0,s.nk)(a.bt("{{ servingText }}", "{{ servingText }}", "closeup.storyPin.basicsLayout.servings", undefined, true),{servingText:l})})})}function p({difficulty:e}){let a=(0,r.ZP)(),l={1:a.bt("Easy", "Easy", "closeup.storyPin.basicsLayout.difficulty", undefined, true),2:a.bt("Intermediate", "Intermediate", "closeup.storyPin.basicsLayout.difficulty", undefined, true),3:a.bt("Expert", "Expert", "closeup.storyPin.basicsLayout.difficulty", undefined, true)},n=e?l[e]:null;if(!n)return null;let o=a.bt("Difficulty:", "Difficulty:", "closeup.storyPin.basicsLayout.difficultyLevelLabel", undefined, true);return(0,d.jsx)(i.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(i.xv,{inline:!0,size:t.n,children:(0,s.nk)(a.bt("{{ label }} {{ difficultyLevel }}", "{{ label }} {{ difficultyLevel }}", "closeup.storyPin.basicsLayout.difficulty", undefined, true),{label:o,difficultyLevel:n})})})}function g({keyValueBlocks:e,hasMetadataTemplateType:a}){if(!a)return null;let l=e||[];return(0,d.jsx)(i.xu,{"data-test-id":"categories-metadata",children:(l||[]).map((e,a)=>{let r=`kv-${a}`,s=function(e){let a=e.category_type??e.categoryType,{value:l}=e;if(2===a)return(0,d.jsx)(p,{difficulty:l});let n=parseInt(l,10);return 1===a?(0,d.jsx)(c,{servingSize:n}):0===a&&n?(0,d.jsx)(u,{minutes:n}):null}(e);return s?a<l.length-1?(0,d.jsxs)(n.Fragment,{children:[s,(0,d.jsx)(i.xu,{display:"inlineBlock",marginEnd:1,children:(0,d.jsx)(i.xv,{inline:!0,size:t.n,children:" \xb7 "})})]},r):(0,d.jsx)(n.Fragment,{children:s},r):null}).filter(e=>null!=e)})}},254572:function(e,a,l){l.d(a,{R:()=>e5,Z:()=>e9});var n,i,t,r,s,o=l(667294),d=l(581722),u=l(616550),c=l(883119);l(167912);var p=l(779548),g=l(351607),m=l(431338),_=l(785893);let y=void 0!==n?n:n=l(934191),h=({children:e,clientTrackingParams:a,pinKey:l,pinImageUrl:n,closeupNavigationType:i})=>{let t=(0,p.Z)(y,l),r=(0,m.Z)(t),{entityId:s}=t,o=t.isEligibleForPdp?r():{};return(0,_.jsx)(g.F,{clientTrackingParams:a,closeupImpressionType:13,closeupNavigationType:i,componentType:85,contextLogData:o,impressionAuxFields:{imageURL:n,clientTrackingParams:a},impressionType:"Pin",loggingId:s,slotIndex:-1,viewData:{pin_id:s},viewType:3,children:({impressionTrackerRef:a})=>(0,_.jsx)(c.xu,{ref:a,"data-test-id":"closeup-visual-container",children:e})})};var f=l(228121),k=l(65177),x=l(728371),v=l(878709),P=l(149739),S=l(759097),b=l(525839),F=l(302148);let w=e=>{if(!e)return null;let{categorizedIngredients:a}=e.recipe;return a&&a.length>0?{...e,categorizedIngredients:a}:null};var T=l(643875),I=l(665827),K=l(176465),C=l(594414),j=l(706563),L=l(63749),A=l(324307),Z=l(747859),R=l(785195),D=l(846051),M=l(213967),E=l(872353);let z=e=>e.replace(/\s+/g," "),B=void 0!==i?i:i=l(957661);class O extends o.Component{componentDidMount(){let{onUpdate:e}=this.props;e?.()}componentDidUpdate(e){if(e.showMore!==this.props.showMore){let{onUpdate:e}=this.props;e?.()}}render(){let{carouselInfo:e,isArticle:a,pin:l,tutorialDescription:n,showMore:i,onToggle:t,i18n:r,closeupWithinMasonryEnabled:s,peekCloseupEnabled:o,showSponsorshipAttribution:d,hasAffiliateLink:u,hasAffiliateProducts:p,instagramPostLink:g}=this.props,{closeupUnifiedDescription:m,userMentionTags:y,storyPinData:h}=l,f=(m||"").trim(),v=e?.carouselData;if(v){let e=v.carousel_slots??[],a=v.index??0;e[a]&&e[a].details&&(f=e[a].details)}let b=f&&n&&n.trim()===f,Z=f?z(f):"";(Z=!i&&Z&&Z.length?(0,A.ZP)(Z,a?195:200):Z)&&y&&(Z=(0,_.jsx)(S.Z,{description:Z,mentionLinkColor:"shopping",shouldAdjustOffset:!0,userMentionTags:y.map(e=>({length:e.length,objectId:e.objectId,offset:e.offset,tagType:e.tagType}))}));let B=f&&f.length>(a?195:200),O=null,V=w((0,T.Z)((0,I.Z)((0,K.Z)(this.props)))),U=h?.metadata?.basics;if(U){let e,{keyValueBlocks:a,listBlocks:n}=U;l&&l.domain&&l.link&&(e={domain:l.domain,url:l.link});let i=[];e?.domain&&(i=[...i,e.domain]);let t=(a||[]).map(e=>(0,D.Z)(e.categoryType,e.value,r)).filter(e=>""!==e);t.length>0&&(i=[...i,...t]),(n??[]).forEach(({heading:e,blocks:a})=>{e&&(i=[...i,e]),(a??[]).forEach(({blocks:e})=>{(e??[]).forEach(({text:e})=>{e&&(i=[...i,e])})})}),O=(0,M.Z)(i)}else if(V){let{pin:e}=this.props,{prepTime:a,cookTime:l,totalTime:n,servingSummary:i,serves:t}=V.recipe,r=n||l||a;if(l&&a){let e=l.h||0,n=l.m||0;r={h:e+(a.h||0),m:n+(a.m||0)}}let s=r?(0,L.Z)((0,j.X)(r),this.props.i18n):null,o=e.richMetadata?.recipe?.aggregateRating?.reviewCount;i&&(O=t?(0,_.jsxs)(c.xv,{inline:!0,size:P.n,children:[t," ",this.props.i18n.bt("servings", "servings", "closeup.CardSourceDescriptionText.servesLabel", undefined, true)]},"recipe"):(0,_.jsx)(c.xv,{inline:!0,size:"200",children:i},"recipe")),s&&(O=O?(0,F.nk)("{{ timeLabel }} \xb7 {{ description }}",{timeLabel:s,description:O}):s),"number"==typeof o&&o>0&&(O=O?(0,F.nk)(this.props.i18n.bt("{{ reviewCount }} reviews · {{ description }}", "{{ reviewCount }} reviews · {{ description }}", "number of reviews on a recipe and the description", undefined, true),{reviewCount:o,description:O}):o);let d=e.richMetadata?.recipe?.aggregateRating?.ratingValue,u=Number(d);Number.isNaN(u)&&(u=0),u>=.25&&(O=O?(0,F.nk)("{{ ratings }} {{ description }}",{ratings:(0,_.jsx)(C.Z,{max_rating:e.richMetadata?.recipe?.aggregateRating?.bestRating,rating:d},d),description:O}):(0,_.jsx)(C.Z,{max_rating:e.richMetadata?.recipe?.aggregateRating?.bestRating,rating:d},d))}if(!Z||b)return null;let N=4;return s?N=0:o&&(N=2),f?(0,_.jsxs)(c.xu,{marginBottom:s?0:d&&(u||p)?2:4,marginTop:N,children:[(0,_.jsxs)(x.Z,{descriptionDir:(0,E.j)(f),children:[(0,_.jsx)(k.Z,{description:f||"",userMentionTags:y||[]}),g]}),d&&(0,_.jsx)(c.xu,{marginTop:1,children:(0,_.jsx)(R.Z,{hasAffiliateLink:u,hasAffiliateProducts:p})})]}):(0,_.jsxs)("span",{children:[(0,_.jsx)(c.xv,{color:s?"subtle":void 0,inline:!0,size:"200",children:(0,_.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{display:"inline"}},"data-test-id":"description",position:"relative",children:O?(0,F.nk)("{{ recipeInfo }} \xb7 {{ description }}",{recipeInfo:O,description:Z}):Z})}),B&&!i&&(0,_.jsx)(c.xu,{"data-test-id":"more-button",display:"inlineBlock",marginStart:1,children:(0,_.jsx)(c.iP,{fullWidth:!1,onTap:t,children:(0,_.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:this.props.i18n.bt("More", "More", " - ", undefined, true)})})})]})}}let V=function(e){let a=(0,b.ZP)(),{pinKey:l}=e,n=(0,p.Z)(B,l),{closeupWithinMasonryEnabled:i,peekCloseupEnabled:t}=(0,Z.x4)(),{carouselInfo:r}=(0,v.r)();return(0,_.jsx)(O,{...e,carouselInfo:r,closeupWithinMasonryEnabled:i,i18n:a,peekCloseupEnabled:t,pin:n})},U=(e,a)=>e.length>300?e:e.length+a.length+3>300?`${e} ${a}...`:`${e} ${a}`,N=e=>e.split(" ").map(e=>e.trim()).reduce(U,""),H=void 0!==t?t:t=l(354418);function W(e){let[a,l]=(0,o.useState)(!1),{pinKey:n,onUpdate:i,showSponsorshipAttribution:t,hasAffiliateLink:r,hasAffiliateProducts:s,instagramPostLink:d}=e,u=(0,p.Z)(H,n);if(!u.entityId)return null;let g=!!u.aggregatedPinData,m=!!u.description,y=!!u.richMetadata?.recipe,h=!!u.richMetadata?.article,f=u.richMetadata?.article?.description,k=!!u.richMetadata?.tutorial,x=u.richMetadata?.tutorial?.description??"",v=h&&!y&&!k;return(0,_.jsx)(o.Fragment,{children:(0,_.jsx)("span",{className:"richPinInformation","data-test-id":"richPinInformation-description",children:m||g?(0,_.jsx)(V,{hasAffiliateLink:r,hasAffiliateProducts:s,instagramPostLink:d,isArticle:v,onToggle:()=>l(!0),onUpdate:i,pinKey:u,showMore:a,showSponsorshipAttribution:t,tutorialDescription:x}):v&&f&&(0,_.jsx)(c.xu,{marginBottom:3,children:(0,_.jsx)(c.xv,{children:N(f)})})})})}var $=l(758516);function G({mediaAttribution:{author:e,authorUrl:a,ccUrl:l,link:n,mediaType:i,providerName:t}}){let r=(0,b.ZP)(),s=!!(t&&n);if(!e&&!s)return null;let o=s?r.bt("from {{ provider }}", "from {{ provider }}", "closeup.attribution.imageWithProvider", undefined, true):null;return e&&(o="VIDEO"===i?s?r.bt("Video by {{ author }} on {{ provider }}", "Video by {{ author }} on {{ provider }}", "closeup.attribution.videoWithAuthorProvider", undefined, true):r.bt("Video by {{ author }}", "Video by {{ author }}", "closeup.attribution.videoWithAuthor", undefined, true):s?r.bt("Photo by {{ author }} on {{ provider }}", "Photo by {{ author }} on {{ provider }}", "closeup.attribution.photoWithAuthorProvider", undefined, true):r.bt("Photo by {{ author }}", "Photo by {{ author }}", "closeup.attribution.photoWithAuthor", undefined, true)),(0,_.jsx)(c.xu,{"data-test-id":"media-attribution",display:"inlineBlock",children:(0,_.jsxs)(c.xv,{color:"default",size:"200",children:[!!o&&(0,_.jsx)($.Z,{text:(0,F.nk)(o,{author:(0,_.jsx)(c.rU,{display:"inlineBlock",href:a??"",rel:"nofollow",underline:"hover",children:(0,_.jsx)(c.xv,{size:"200",weight:"bold",children:e})},"author"),provider:s?(0,_.jsx)(c.xu,{display:"inlineBlock",marginEnd:1,children:(0,_.jsx)(c.rU,{display:"inlineBlock",href:n??"",rel:"nofollow",underline:"always",children:t},"provider")}):null})}),l&&(0,_.jsx)(c.rU,{href:l,rel:"nofollow",children:r.bt("(cc)", "(cc)", "creative commons link text", undefined, true)})]})})}function q({attribution:{authorName:e,authorUrl:a,ccUrl:l,providerName:n,url:i},embed:t}){let r=(0,b.ZP)(),s=!!(n&&i);if(!e&&!s)return null;let o=null;return s?o=e?t?.src&&"gif"!==t.type&&"pinstory"!==t.subtype?r.bt("Video by {{ author }} on {{ provider }}", "Video by {{ author }} on {{ provider }}", "closeup.attribution.videoWithAuthorProvider", undefined, true):r.bt("Photo by {{ author }} on {{ provider }}", "Photo by {{ author }} on {{ provider }}", "closeup.attribution.photoWithAuthorProvider", undefined, true):r.bt("from {{ provider }}", "from {{ provider }}", "closeup.attribution.imageWithProvider", undefined, true):e&&(o=t?.src&&"gif"!==t.type&&"pinstory"!==t.subtype?r.bt("Video by {{ author }}", "Video by {{ author }}", "closeup.attribution.videoWithAuthor", undefined, true):r.bt("Photo by {{ author }}", "Photo by {{ author }}", "closeup.attribution.photoWithAuthor", undefined, true)),(0,_.jsx)(c.xu,{"data-test-id":"photo-attribution",display:"inlineBlock",children:(0,_.jsxs)(c.xv,{color:"default",size:"200",children:[!!o&&(0,_.jsx)($.Z,{text:(0,F.nk)(o,{author:(0,_.jsx)(c.rU,{display:"inlineBlock",href:a??"",rel:"nofollow",underline:"hover",children:(0,_.jsx)(c.xv,{size:"200",weight:"bold",children:e})},"author"),provider:s?(0,_.jsx)(c.xu,{display:"inlineBlock",marginEnd:1,children:(0,_.jsx)(c.rU,{display:"inlineBlock",href:i??"",rel:"nofollow",underline:"always",children:n},"provider")}):null})}),l&&(0,_.jsx)(c.rU,{href:l,rel:"nofollow",children:r.bt("(cc)", "(cc)", "creative commons link text", undefined, true)})]})})}let X=void 0!==r?r:r=l(799379),Y=e=>{let{isStoryPin:a,pinKey:l,onUpdate:n,instagramPostLink:i}=e,t=(0,p.Z)(X,l),r=t.entityId&&(!!t.attribution?.providerUrl&&!!t.attribution.providerName||!!t.attribution?.authorName),s=t.entityId&&(!!t.mediaAttribution?.link&&!!t.mediaAttribution.providerName||!!t.mediaAttribution?.author),o=null;if(r||s){let{closeupUnifiedDescription:e}=t,a=(e||"").trim()?"{{ credit }}｜":"{{ credit }}";o=t.mediaAttribution?(0,F.nk)(a,{credit:t.mediaAttribution&&(0,_.jsx)(G,{mediaAttribution:{author:t.mediaAttribution.author,authorUrl:t.mediaAttribution.authorUrl,ccUrl:t.mediaAttribution.ccUrl,link:t.mediaAttribution.link,mediaType:t.mediaAttribution.mediaType,providerName:t.mediaAttribution.providerName}},"article-pin")}):(0,F.nk)(a,{credit:t.attribution&&(0,_.jsx)(q,{attribution:{authorName:t.attribution.authorName,authorUrl:t.attribution.authorUrl,ccUrl:t.attribution.ccUrl,providerName:t.attribution.providerName,url:t.attribution.url},embed:t.embed&&{type:t.embed.type,src:t.embed.src,subtype:t.embed.subtype}},"article-pin")})}return(0,_.jsxs)(c.xv,{inline:!0,children:[o,!a&&(0,_.jsx)(W,{instagramPostLink:i,onUpdate:n,pinKey:t})]})};var Q=l(952018),J=l(886981);function ee({creatorId:e,children:a}){let{data:l}=(0,J.Z)({name:"UserResource",options:{field_set_key:"grid_item",user_id:e}});return a(l)}var ea=l(21818),el=l(592821),en=l(998951),ei=l(139707),et=l(569437),er=l(314021),es=l(391501),eo=l(980787),ed=l(617778),eu=l(355940),ec=l(506662),ep=l(453179),eg=l(274320),em=l(15667),e_=l(821806),ey=l(627925),eh=l(644493),ef=l(271910),ek=l(7872),ex=l(611499),ev=l(685178);function eP({children:e}){let{closeupWithinMasonryEnabled:a,peekCloseupEnabled:l}=(0,Z.x4)(),n=8,i=4;return l?(n=0,i=ex.O5):a&&(n=void 0,i=void 0),(0,_.jsx)(c.xu,{marginBottom:n,marginTop:i,children:e})}var eS=l(78762);let eb=(0,eS.Z)(()=>l.e("35563").then(l.bind(l,72526)),void 0,e=>72526,"app-www-closeup-duplo-PinRecipeRating"),eF=(0,eS.Z)(()=>l.e("83287").then(l.bind(l,248920)),void 0,e=>248920,"app-common-react-components-closeup-CloseupCommentModule-UnifiedCommentModule"),ew=(0,o.lazy)(()=>l.e("96615").then(l.bind(l,174753))),eT=void 0!==s?s:s=l(265532);function eI({pinKey:e,clientTrackingParams:a,inCommentsPopoverExp:l,isStoryPin:n,isVideoPin:i,isDeletedStoryPin:t,viewParameter:r,trafficSource:s,details:d,viewer:g,onClickThrough:m,onCloseupBodyUpdate:y,orbacActingAs:h,outerPaddingSize:P,viewportSize:S,shouldShowPartnerModule:F,trendsData:w,showTrendsOnPinCloseup:T,showPinStats:I,clickthroughUrlLink:K,showShoppingModule:C}){let j,L=(0,b.ZP)(),{checkExperiment:A}=(0,eg.F)(),{logContextEvent:D}=(0,eo.v)(),{carouselInfo:M}=(0,v.r)(),z=(0,p.Z)(eT,e),{getShowClickthroughLink:B,makeDetailsArgs:O}=(0,ea.ZP)(z),{creatorId:V,showCreatorCard:U}=O(!!t),{sideBySideRedesignFastFollowsExpGroup:N,sideBySideFullWidthCTAEnabled:H}=(0,ei.Z)(),W="enabled_cta_near_save"===N,$="enabled_persistent_cta"===N&&!i,G=B(n),q=(0,et.Z)({clientTrackingParams:a,pinKey:z,pinId:z.entityId,viewParameter:r,trafficSource:s}),{closeupUnifiedDescription:X,closeupUserNote:J,commentsDisabled:eS,displayableCommunityContentType:eI,userMentionTags:eK}=z,eC=X?.trim(),ej=z.storyPinData?.metadata?.basics?.keyValueBlocks?.map(({categoryType:e,value:a})=>({categoryType:e,value:a}))??[],eL=ej.length>0,eA=(0,en.Z)(J)||!!z.richMetadata,eZ=z.richMetadata?.recipe?.name&&z.richMetadata.recipe.categorizedIngredients&&z.richMetadata.recipe.categorizedIngredients.length>0,{closeupWithinMasonryEnabled:eR,peekCloseupEnabled:eD}=(0,Z.x4)(),eM=(0,ek.q6)(g,z.pinner?.entityId,h),[eE,ez]=(0,o.useState)(!1),eB=(0,u.TH)(),{isAuthenticated:eO,userAgent:{isMobile:eV}}=(0,em.B)(),eU=l&&!eS&&1===eI,eN=(0,_.jsx)(ef.q,{children:({hovered:e,onMouseEnter:l,onMouseLeave:n})=>(0,_.jsx)(ed.Z,{clientTrackingParams:a,hovered:e,pinKey:z,trafficSource:s,viewType:3,children:(0,_.jsx)(c.xu,{onMouseEnter:l,onMouseLeave:n,children:(0,_.jsx)(ev.Z,{carouselInfo:M,isLink:G,onClick:q,onTitleCheck:ez,pinKey:z})})})}),eH=()=>U&&(0,_.jsx)(Q.Z,{"data-testid":"closeup-metadata-creator",marginTop:eR?(P??ex.ER)/2:0,paddingBottom:eR?(P??ex.ER)/2:0,paddingRight:8*!eR,children:(0,_.jsx)(ee,{creatorId:V,children:e=>!!e&&(0,_.jsx)(eP,{children:(0,_.jsx)(er.default,{clientTrackingParams:a,componentType:126,impressionType:"User",input:z,isORBACProfileManager:eM,loggingId:V,officialUser:e,slotIndex:0,viewParameter:r,viewType:3})})})}),eW=eU?(0,_.jsx)(eF,{inCommentsPopoverExp:l,pinKey:z,viewParameter:r}):null,e$=A("dweb_closeup_links").anyEnabled,eG=z.isInstagramApi&&z.nativeCreator?.websiteUrl&&z.nativeCreator?.isPrimaryWebsiteVerified,{link:eq,trackedLink:eX,utmLink:eY}=z||{};if(M&&M.carouselData&&M.carouselData.id){let{carousel_slots:e=[],index:a=0}=M.carouselData;j=e[a]&&e[a].link}let eQ=j||(0,ep.Zt)({trackedLink:eX,link:eq,utmLink:eY})||"",eJ=eG&&e$?z.nativeCreator.websiteUrl:(0,eh.Z)(eQ)??eQ,e0=!eO&&(0,ec.am)(eB),e1=!!(z.promoter&&!z.isDownstreamPromotion)&&z.promoter?.entityId===z.nativeCreator?.entityId,{sponsorship:e3,storyPinData:e7,affiliateLink:e2}=z,e6=!!e2,e8=!!e7?.hasAffiliateProducts,e4=(!!e3?.sponsor||e8||e6)&&(eJ||C)&&!e1&&!e0,e5=g.isAuth&&z.originPin?.originPinner?.entityId===g.id,e9=G&&eJ&&(e5||!z.isGoLinkless),ae=eD&&!eR?P??ex.ER:0,aa=()=>e9&&(0,_.jsx)(Q.Z,{marginTop:eD?P??ex.ER:void 0,paddingBottom:eD?(P??ex.ER)/2:void 0,paddingRight:ae,children:(0,_.jsx)(c.xu,{"data-test-id":"visit-site-button",children:(0,_.jsx)(es.Z,{clientTrackingParams:a,color:"gray",fullWidth:H,link:eJ,onClickThrough:()=>{e$&&D({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:eG}}),m()},pinKey:z,text:L.bt("Visit site", "Visit site", "closeup.defaultMetadata.visitButton", undefined, true)})})});return(0,_.jsxs)(c.xu,{marginTop:eR?4:void 0,children:[F&&(n||eR)&&(0,_.jsx)(Q.Z,{paddingRight:(P??ex.ER)/2,children:(0,_.jsx)(c.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,_.jsx)(eu.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,_.jsx)(e_.Z,{children:(0,_.jsx)(ew,{borderStyle:el.te,isStoryPin:n,pinKey:z,showPinStats:I,trendsData:T?w?.data?.results:null,viewportSize:S})})})})}),(0,_.jsxs)(c.xu,{alignItems:eR?"start":void 0,display:eR?"flex":void 0,justifyContent:eR?"between":void 0,children:[(0,_.jsxs)(c.kC.Item,{flexBasis:!eR||W||$||!e9?"100%":"77%",children:["enabled_url_cta"===N&&K,!eE&&(0,_.jsx)(Q.Z,{paddingRight:eR?void 0:P,children:(0,_.jsx)(c.xu,{color:"light","data-test-id":"closeup-title",display:"inlineBlock",children:eN})}),eD&&eH(),(0,_.jsx)(c.xu,{direction:eD?"column":void 0,display:eD?"flex":void 0,height:eD?"100%":void 0,children:(0,_.jsxs)(Q.Z,{paddingRight:P,children:[eL&&(0,_.jsx)(c.xu,{marginTop:eR?ex.O5:4,children:(0,_.jsx)(f.Z,{hasMetadataTemplateType:!!z.storyPinData?.metadata?.templateType,keyValueBlocks:ej})}),!eL&&!!eZ&&(0,_.jsx)(c.xu,{marginTop:eR?ex.O5:void 0,tabIndex:0,children:(0,_.jsx)(eb,{boldText:!1,fallback:(0,_.jsx)(c.xH,{accessibilityLabel:L.bt("Loading Pin recipe rating", "Loading Pin recipe rating", "closeupDefaultMetadata.PinRecipeRating.loading.label", undefined, true),show:!0}),pinKey:z,textSize:"300"})}),(0,_.jsxs)(o.Fragment,{children:[!!(n&&eC&&eA)&&(0,_.jsx)(c.xu,{marginTop:eR?ex.O5:8,width:eR?"100%":void 0,children:(0,_.jsx)(x.Z,{descriptionDir:(0,E.j)(eC),children:(0,_.jsx)(k.Z,{description:eC||"",userMentionTags:eK?.map(e=>({length:e.length,objectId:e.objectId,offset:e.offset,tagType:e.tagType}))})})}),!n&&(z.attribution||eC)&&eR&&(0,_.jsx)(c.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,_.jsx)(c.xu,{marginBottom:eR&&!eZ?ex.O5:void 0,marginTop:eR?ex.O5:void 0,width:"100%",children:(0,_.jsx)(Y,{instagramPostLink:(0,_.jsx)(ey.Z,{closeupLinkEnabled:e$,nativeCreatorCloseupLinkEligible:!!eG,peekCloseupEnabled:eD,uriComponent:eQ}),isStoryPin:n,onUpdate:y,pinKey:z})})}),e4&&(eV||eR)&&(0,_.jsx)(c.xu,{marginTop:2,children:(0,_.jsx)(R.Z,{hasAffiliateLink:e6,hasAffiliateProducts:e8})})]}),eW]})}),eR&&eH()]}),eR&&!W&&(!$||i)&&(0,_.jsx)(c.xu,{alignItems:"stretch",display:H?"block":"flex",flex:"grow",justifyContent:"end",children:aa()})]}),eD&&aa(),(0,_.jsx)(o.Fragment,{children:d})]})}var eK=l(295483),eC=l(546345),ej=l(439122),eL=l(502447),eA=l(73579),eZ=l(492841);let eR=(0,o.lazy)(()=>l.e("99339").then(l.bind(l,157720)));function eD({inCommentsPopoverExp:e,isCommentSectionOpen:a,isStoryPin:l,isVideoPin:n,isDeletedStoryPin:i,orbacActingAs:t,orbacSubjectId:r,onCommentSectionClick:s,onCloseupBodyUpdate:d,outerPaddingSize:p=ex.g9,pin:g,viewer:m,shouldShowStlCarouselForOwnPin:y,storyPinTaggedProducts:h=[],taggedProducts:f,closeupContext:k,isLoadingNewlyCreatedComment:x,viewParameter:v,detailsScrollContainerRef:P}){let{makeDetailsArgs:S}=(0,ea.ZP)({type:"deprecated",data:g}),{checkExperiment:F}=(0,eg.F)(),{isShopTheLook:C,showCanonicalComments:j}=S(!!i),L=(0,b.ZP)(),A=(0,u.TH)(),{isAuthenticated:Z}=(0,em.B)(),D=F("dweb_closeup_links").anyEnabled,M=g.is_instagram_api&&g.native_creator?.website_url&&g.native_creator?.is_primary_website_verified,{link:E,utm_link:z,tracked_link:B}=g,O=(0,ep.Zt)({utmLink:z,link:E,trackedLink:B}),V=w((0,T.Z)((0,I.Z)((0,K.Z)({pin:g})))),U=(f||[]).filter(e=>(function(e){if("pin_tag"===e.type){let{x_percent:a,y_percent:l}=e;if(a>0&&a<=100&&l>0&&l<=100)return!0}return!1})(e)),N=(0,ek.q6)(m,g.pinner?.id,t),{closeupWithinMasonryEnabled:H,peekCloseupEnabled:W}=k,$=!Z&&(0,ec.am)(A),G=!!(g.promoter&&!g.is_downstream_promotion)&&g.promoter?.id===g.native_creator?.id,{sponsorship:q,story_pin_data:X,affiliate_link:J}=g,ee=!!J,el=!!X?.has_affiliate_products,en=(!!q||el||ee)&&!G&&!$,ei=!l&&(!((g.rich_summary?.products??[]).length||(g.rich_metadata?.products??[]).length)&&C&&U.length>0||y)&&!n,et=l&&h&&h.length>0,er=(0,eL.Z)({pinKey:{type:"deprecated",data:g},orbacActingAs:t,viewer:m}),{isEligibleForStaticImageIdeaPin:es}=(0,eA.Z)(g.story_pin_data_id),eo=es&&h&&h.length>0,{paddingLeft:ed,paddingRight:eh,marginTop:ef,marginBottom:ev}=H?{paddingLeft:0,paddingRight:0,marginTop:0,marginBottom:2}:W?{paddingLeft:0,paddingRight:p/2,marginTop:2,marginBottom:2}:{paddingLeft:p/2,paddingRight:p,marginTop:10,marginBottom:6},eP=g.favorited_by_me?L.bt("Remove from favourites", "Remove from favorites", "closeup.metadataDetails.removeFromFavorites", undefined, true):L.bt("Add to favourites", "Add to favorites", "closeup.metadataDetails.addToFavorites", undefined, true),eS=[...ei||et||eo?[(0,_.jsx)(Q.Z,{paddingLeft:H?void 0:p/2,paddingRight:H?void 0:p,children:(0,_.jsx)(eu.Z,{name:"SafeSuspense_CloseupBody_StlCloseupModule",children:(0,_.jsx)(e_.Z,{children:(0,_.jsx)(eR,{closeupImageSignature:g.image_signature??"",isOwnCreatedPin:y,pin:g,pinId:g.id,taggedObjects:et||eo?h:U,type:ei?"stl":"story",viewParameter:v})})})},"closeupStlModuleMetadataPadding")]:[],...V?[(0,_.jsx)(Q.Z,{paddingLeft:0,paddingRight:H?void 0:p/2,children:(0,_.jsx)(eZ.Z,{recipeProps:V})},"closeupRecipeMetadataPadding")]:[],...!i&&er?[(0,_.jsx)(Q.Z,{paddingRight:H?void 0:p/2,children:(0,_.jsxs)(c.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2*!H,marginTop:2*!H,children:[H?(0,_.jsx)(c.xv,{size:"300",weight:"bold",children:eP}):(0,_.jsx)(c.xv,{weight:"bold",children:eP}),(0,_.jsx)(eC.Z,{pinKey:{type:"deprecated",data:g}})]})},"closeupFavoriteBarMetadataPadding")]:[]];return(0,_.jsx)(o.Fragment,{children:(0,_.jsxs)(c.kC,{alignItems:"stretch","data-testid":"closeup-metadata-details-flex",direction:"column",flex:"grow",height:W?"100%":void 0,justifyContent:"start",children:[H?null:(0,_.jsxs)(Q.Z,{"data-testid":"closeup-metadata-details",paddingLeft:H?void 0:W?0:p/2,paddingRight:H?void 0:p/2,children:[(0,_.jsx)(c.kC,{alignItems:"baseline",direction:"row",justifyContent:"start",children:(0,_.jsx)(c.xu,{marginTop:W?void 0:2,width:"100%",children:(0,_.jsx)(Y,{instagramPostLink:(0,_.jsx)(ey.Z,{closeupLinkEnabled:D,nativeCreatorCloseupLinkEligible:!!M,peekCloseupEnabled:W,uriComponent:O}),isStoryPin:l,onUpdate:d,pinKey:{type:"deprecated",data:g}})})}),en&&!H&&(0,_.jsx)(R.Z,{hasAffiliateLink:ee,hasAffiliateProducts:el})]}),(0,_.jsx)(o.Fragment,{children:eS.map(e=>(0,_.jsxs)(o.Fragment,{children:[e,H&&(0,_.jsx)(c.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,_.jsx)(ej.Z,{show:!0,surface:"closeup-metadata-details"})})]},`detailFragment-${e.key}`))}),!eS.length&&(0,_.jsx)(c.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,_.jsx)(ej.Z,{show:H,surface:"closeup-metadata-details"})}),!i&&j&&!e&&(0,_.jsx)(eu.Z,{name:"CanonicalCard",children:(0,_.jsxs)(Q.Z,{paddingLeft:ed,paddingRight:eh,children:[(0,_.jsx)(ej.Z,{}),(0,_.jsx)(c.xu,{marginBottom:ev,marginTop:ef,children:(0,_.jsx)(eK.Z,{aggregatedPinId:g.aggregated_pin_data?.id,closeupAttributionId:g.closeup_attribution?.id,closeupAttributionUsername:g.closeup_attribution?.username,commentCount:g.aggregated_pin_data?.comment_count??0,commentsDisabled:g.comments_disabled,isCommentSectionOpen:a,isLoadingNewCreatedComment:x,isORBACProfileManager:N,isShopTheLook:C,isVideo:!!g.videos?.video_list,onCommentSectionClick:s,orbacSubjectId:r,photoCount:g.aggregated_pin_data?.did_it_data?.images_count??0,pinId:g.id,pinnerId:g.pinner?.id,scrollContainerRef:P,shouldShowHeading:!W||(g.aggregated_pin_data?.comment_count??0)>0,storyPinDataId:g.story_pin_data?.id,viewParameter:v})}),(0,_.jsx)(ej.Z,{})]})})]})})}var eM=l(974446);function eE({maxHeight:e,pin:a,showShoppingModule:l,trafficSource:n,viewParameter:i}){let t={height:"48px",padding:"80px 4px 16px 4px",pointerEvents:"none",transition:"opacity 0.1s ease-in-out",width:"100%",zIndex:1},[r,s]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!0),p=(0,o.useRef)(null),g=()=>{let e=p.current;if(!e)return;let{scrollTop:a,scrollHeight:l,clientHeight:n}=e;s(0!==a),u(a+n!==l)};return(0,o.useEffect)(()=>{let e=p.current;if(e)return e.addEventListener("scroll",g),()=>{e.removeEventListener("scroll",g)}},[]),l&&(0,_.jsxs)(c.xu,{ref:p,dangerouslySetInlineStyle:{__style:{borderLeft:el.tc}},"data-test-id":"peek-variant-shopping-module-container",height:"auto",maxHeight:e,overflow:"scrollY",children:[(0,_.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{...t,background:"linear-gradient(0deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:+!!r}},"data-test-id":"peek-variant-top-gradient",position:"absolute",top:!0}),(0,_.jsx)(eM.Z,{moduleWidth:el.LV,pinKey:{type:"deprecated",data:a},trafficSource:n,viewParameter:i}),(0,_.jsx)(c.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...t,background:"linear-gradient(180deg, rgba(255, 255, 255, 0.00) 0%, #FFF 100%)",opacity:+!!d}},position:"absolute"})]})}var ez=l(888682),eB=l(969964),eO=l(56702),eV=l(435672),eU=l(101332),eN=l(289032),eH=l(562915),eW=l(341742),e$=l(535701),eG=l(448505),eq=l(612569);let eX={__style:{marginBottom:"0",marginTop:"0",maxWidth:ex.KP,minWidth:ex.Gg}};function eY({children:e,isWideVideo:a}){let{showCloseupContentRight:l,maxWidth:n,paneWidth:i,peekCloseupEnabled:t,closeupWithinMasonryEnabled:r,viewportSize:s}=(0,Z.x4)(),{maxHeight:o}=(0,el.Re)(),{mainImage:d}=(0,v.r)(),{peekRedesignFastFollowsEnabled:u}=(0,ei.Z)(d),p=l||a?n:i;return p=r&&"sm"!==s||t?void 0:p,r?(0,_.jsx)(c.xu,{height:"100%",children:e}):(0,_.jsx)(c.xu,{"data-test-id":"closeup-lego-container",display:"flex",height:"100%",maxHeight:u?void 0:o,maxWidth:p,position:"relative",rounding:8,width:"100%",children:(0,_.jsx)("div",{onClick:e=>{e.stopPropagation()},style:{display:"flex"},children:(0,_.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},display:"flex",children:(0,_.jsx)(c.xu,{dangerouslySetInlineStyle:a?eX:{},display:"flex",children:e})})})})}var eQ=l(327387),eJ=l(477464),e0=l(44344),e1=l(603316);let e3=(0,eS.Z)(()=>Promise.all([l.e("81887"),l.e("9767")]).then(l.bind(l,347353)),{ssr:!1},e=>347353,"ChangeBoardModalCommon"),e7=(0,eS.Z)(()=>Promise.all([l.e("44880"),l.e("55759")]).then(l.bind(l,523226)),void 0,e=>523226,"CloseupActionBarCommon"),e2=(0,eS.Z)(()=>l.e("62220").then(l.bind(l,576386)),void 0,e=>576386,"app-common-react-components-closeup-LeadGen-LeadGenCloseupBodyContent"),e6=(0,eS.Z)(()=>l.e("30644").then(l.bind(l,596423)),void 0,e=>596423,"app-common-react-components-closeup-CloseupBody-CloseupInlineCommentComposer"),e8=(0,o.lazy)(()=>l.e("90657").then(l.bind(l,156020))),e4=({children:e,metadataContainerRef:a,closeupWithinMasonryEnabled:l})=>l?(0,_.jsx)(c.xu,{ref:a,width:"100%",children:e}):(0,_.jsx)(o.Fragment,{children:e});function e5({isWideVideo:e,didShortClickThrough:a,webLinkSurveyState:{webLinkSurveyRef:l,imageContainerRef:n,legoLinkClickthroughAnchorRef:i,maybeLinkRef:t},pin:r,outerBodyStyle:s,inCommentsPopoverExp:p,isEligibleForPinReactions:g,isStoryPin:m,trafficSource:y,visualContentContainer:f,isCloseupMaximized:k,data:x,outerPaddingSize:v,isInStream:P,metadataContainerRef:S,onClickThrough:F,viewParameter:w,metadata:T,viewer:I,orbacSubjectId:K,setIsLoadingNewlyCreatedComment:C=()=>{},descriptionContentMaxHeight:j,marginBottom:L=0,isDeletedStoryPin:A,onSaveButtonClick:R,showRepinOnInitialRender:D,goBack:M,onUpdate:E,routePush:z,closeupActionBarMaxWidth:B,visualContentContainerRef:O,showPDPComments:V,actionBarContainerRef:U,isRelatedPins10PercentVisible:N}){let{descriptionPaneWidth:H,viewportSize:W,clientTrackingParams:$,closeupWithinMasonryEnabled:G,peekCloseupEnabled:q}=(0,Z.x4)(),X=(0,d.v9)(({changeBoardFromToast:e})=>e)||{},Y=(0,eM.F)(r.id),{sideBySidePWTDeferActionBarLoad:Q}=(0,ei.Z)(),J=Y&&0!==Y.length,ee=(0,b.ZP)(),ea=(0,u.k6)(),en=(0,o.useRef)(null),[et,er]=(0,o.useState)(0),es=(0,o.useCallback)(()=>{let e=S.current;e&&er(a=>{let l=e.offsetWidth;return a!==l?l:a})},[S]);(0,e0.Z)(es,S);let eo=(0,eG.Z)(),{is_eligible_for_aggregated_comments:ed,pinner:ec}=r,ep=!((0,ek.q6)(I,ec?.id,eo)&&!K)&&(!r.is_eligible_for_pdp||!!V)&&!r.comments_disabled&&!!ed&&!p,eg=!!r.promoted_is_lead_ad,em=0!==Object.keys(r).length,ey=O?.current?.clientHeight||0,eh=r.comments_disabled?0:(r.aggregated_pin_data?.comment_count??0)+(r.aggregated_pin_data?.did_it_data?.images_count??0),[ef,ev]=(0,o.useState)(!0);(0,o.useEffect)(()=>{let e=(0,eN.Z)(()=>{G&&ev(0===window.scrollY)},50);return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[G]),(0,eW.Z)(()=>{r.closeup_attribution?.id&&(0,e1.nP)("web.closeup.has_attribution.yes"),(0,e1.nP)("web.closeup.has_attribution.no")});let eP=(0,_.jsx)(e6,{aggregatedPinDataId:r.aggregated_pin_data?.id,closeupAttributionId:r.closeup_attribution?.id,commentCount:eh,disablePhotoCommentSelection:!!r.done_by_me,isEligibleForPinReactions:g,isPDP:r.is_eligible_for_pdp,orbacSubjectId:K,pinId:r.id,privatePin:"secret"===r.privacy,reactionByMe:r.reaction_by_me||0,reactionCounts:r.reaction_counts,setIsLoadingNewlyCreatedComment:C,showCommentComposer:ep,showReactBackground:!G,storyPinDataId:r.story_pin_data_id,viewParameter:w}),eS=(0,_.jsx)(h,{clientTrackingParams:$,closeupNavigationType:(0,eJ.Z)(ea,y),pinImageUrl:(r.images&&r.images["236x"]?.url)??"",pinKey:{type:"deprecated",data:r},children:f}),{fiftyPercentWidth:eb,fiftyPercentHeight:eF}=(0,el.Re)(),ew=e&&!G?ex.KP:void 0;ew=q?eb:ew;let eT=(m||G)&&!q?void 0:j;q&&(eT="sm"===W?eF:Math.max(el.ql,O?.current?.clientHeight??0));let eI={...s,boxShadow:"unset",border:el.tc,overflow:"clip"},eK=G&&v?v:0,[eC,ej]=(0,o.useState)(!1);return(0,_.jsx)(eq.ZP,{value:(0,eq.yq)({closeupBodyWidth:et,isCollageOverlayOpen:eC,setIsCollageOverlayOpen:ej,isRelatedPins10PercentVisible:N}),children:(0,_.jsxs)(c.xu,{height:G?"round(100%, 2px)":"100%",marginBottom:L,position:"relative",width:G?"round(100%, 2px)":"100%",children:[(0,_.jsx)(eY,{isWideVideo:e,children:(0,_.jsxs)(c.xu,{display:G?void 0:"flex",position:"relative",children:[!a&&(0,_.jsx)(e_.Z,{children:(0,_.jsx)(e8,{ref:l,imageContainerRef:n,legoLinkClickthroughAnchorRef:i,maybeLinkRef:t,pin:{aggregatedPinData:r.aggregated_pin_data&&{isShopTheLook:r.aggregated_pin_data.is_shop_the_look},board:r.board&&{entityId:r.board.id,owner:r.board.owner&&{entityId:r.board.owner.id??""}},entityId:r.id,imageSignature:r.image_signature,isDownstreamPromotion:r.is_downstream_promotion,isPromoted:r.is_promoted,link:r.link,recommendationReason:r.recommendation_reason&&{reason:r.recommendation_reason.reason}}})}),(0,_.jsx)(c.xu,{color:em?"default":"transparent",dangerouslySetInlineStyle:{__style:{...eI}},"data-test-id":"closeup-body-style",display:"flex",paddingX:G?4:void 0,position:"relative",children:(0,_.jsx)(e4,{closeupWithinMasonryEnabled:G,metadataContainerRef:S,children:(0,_.jsx)(c.kC,{alignItems:"stretch",direction:"column",height:G?"100%":void 0,justifyContent:"start",children:(0,_.jsx)(eQ.Z,{children:em?(0,_.jsx)(o.Fragment,{children:r.promoted_is_lead_ad?(0,_.jsx)(e2,{clientTrackingParams:$,pin:r,data:!!x,goBack:M,onUpdate:E,viewParameter:w,onSaveButtonClick:R,showRepinOnInitialRender:D,actionBarContainerRef:U,trafficSource:y,onClickThrough:F,isStoryPin:m,descriptionPaneWidth:H,metadataContainerRef:S,visualContentContainer:f,visualContentContainerHeight:ey,showLeadPinStdBeta:eg}):(0,_.jsxs)(o.Fragment,{children:[(0,_.jsxs)(c.xu,{children:[G&&(!Q||x)&&(0,_.jsx)(c.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...!ef?ex.fF:{},borderTop:ef?void 0:el.tc,position:"sticky",top:"80px"}},"data-test-id":"closeup-action-bar",display:"flex",justifyContent:"center",marginEnd:-4,marginStart:-4,overflow:"visible",paddingX:4,zIndex:new c.Ry(2),children:(0,_.jsx)(e7,{actionBarContainerRef:U,goBack:M,gridDescription:r.description??"",inCommentsPopoverExp:p,isDeletedStoryPin:!!A,isEligibleForAggregatedComments:!!ed,isEligibleForPinReactions:g,isOnSecretBoard:!1,isStoryPin:m,onEditSubmit:E,onSaveButtonClick:R,outerPaddingSize:v,pin:r,routePush:z,showRepinOnInitialRender:D,viewParameter:w})}),eS]}),(0,_.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{overflow:q&&"sm"===W?"scroll":void 0}},"data-test-id":"description-content-container",direction:"column",display:"flex",height:k?0:"100%",maxHeight:eT,maxWidth:ew,width:e||G?void 0:H,children:(G||x)&&(!G||r)?(0,_.jsxs)(o.Fragment,{children:[!P&&!G&&(0,_.jsx)(eu.Z,{name:"SafeSuspense_CloseupBody_CloseupActionBar",children:(0,_.jsx)(e7,{actionBarContainerRef:en,goBack:M,gridDescription:r.description??"",isDeletedStoryPin:!!A,isEligibleForPinReactions:g,isOnSecretBoard:!1,isStoryPin:m,maxWidth:B,onEditSubmit:E,onSaveButtonClick:R,outerPaddingSize:v,pin:r,routePush:z,showRepinOnInitialRender:D,viewParameter:w})}),(0,_.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:G?void 0:q?el.Gd:ex.g9,paddingBottom:G?eK:void 0}},direction:"column",display:"flex",flex:"grow",children:(0,_.jsxs)(c.xu,{ref:G?void 0:S,alignItems:"stretch",direction:"column",display:"flex",flex:"grow",justifyContent:"start",overflow:G?void 0:"auto",children:[(0,_.jsx)(c.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{rowGap:G?4*ex.O5:void 0}},direction:"column",display:"flex",height:q?"100%":void 0,justifyContent:"start",width:q?"100%":void 0,children:T}),G&&ep&&eP]})}),!G&&ep&&(0,_.jsx)(c.Le,{bottom:0,children:eP})]}):(0,_.jsx)(c.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingY:4,children:(0,_.jsx)(c.xH,{accessibilityLabel:ee.bt("Pin details loading", "Pin details loading", " - ", undefined, true),show:!0})})}),q&&"lg"===W&&(0,_.jsx)(eE,{maxHeight:O?.current?.clientHeight,pin:r,showShoppingModule:J,trafficSource:y,viewParameter:w})]})}):(0,_.jsx)(c.kC,{alignItems:"center",height:300,justifyContent:"center",width:"100%",children:(0,_.jsx)(c.xH,{accessibilityLabel:ee.bt("Pin loading", "Pin loading", " - ", undefined, true),show:!0})})})})})})]})}),X.shouldOpenModal&&X.newPin&&X.originalPinId===r.id&&(0,_.jsx)(eu.Z,{name:"SafeSuspense_CloseupBody_ChangeBoardModal",children:(0,_.jsx)(e3,{experience:X.experience,pinKey:{type:"deprecated",data:X.newPin}})})]})})}function e9({isStoryPin:e,isVideoPin:a,isWideVideo:l,pin:n,taggedProducts:i,trafficSource:t,viewParameterType:r,onClickThrough:s,data:d,didShortClickThrough:u,goBack:p,isCloseupMaximized:g=!1,isInStream:m=!1,isDeletedStoryPin:y,onSaveButtonClick:h,onUpdate:f,outerBodyStyle:k,outerPaddingSize:x,routePush:v,showRepinOnInitialRender:P,viewType:S,isCommentSectionOpen:b,onCommentSectionClick:F,onCloseupBodyUpdate:w,shouldShowStlCarouselForOwnPin:T,storyPinTaggedProducts:I,clientTrackingParams:K,viewportSize:C,shouldShowPartnerModule:j,trendsData:L,showTrendsOnPinCloseup:A,showPinStats:R,isRelatedPins10PercentVisible:D}){let{checkExperiment:M}=(0,eg.F)(),[E,z]=(0,o.useState)(!1),B=(0,o.useRef)(null),O=(0,eH.Z)(),V=(0,o.useRef)(null),U=(0,Z.x4)(),{closeupWithinMasonryEnabled:N}=U,H=(0,e$.Z)(),W=N&&!!n.is_eligible_for_aggregated_comments&&"enabled_popover"===M("ce_dweb_new_closeup_comment_module").group,$=!n.is_promoted&&!n.is_downstream_promotion&&!y,G=(0,eG.Z)(),q=(0,ek.lJ)(H,G),X=(0,eO.Z)(),Y=(0,eB.Z)({metadataContainerRef:V,pinKey:{type:"deprecated",data:n}}),Q=(0,ez.Z)(),{getViewParameter:J}=(0,ea.ZP)({type:"deprecated",data:n}),ee=J(r),{setClickthroughComponentForSurvey:el,imageContainerRef:en}=X,{getShowClickthroughLink:ei}=(0,ea.ZP)({type:"deprecated",data:n}),et=ei(e)&&(0,_.jsx)(c.xu,{"data-test-id":"maybe-clickthrough-link",direction:"row",display:"flex",marginBottom:1,children:(0,_.jsx)(ef.q,{children:({hovered:a,onMouseEnter:l,onMouseLeave:i})=>(0,_.jsx)(ed.Z,{clientTrackingParams:K,hovered:a,pinKey:{type:"deprecated",data:n},trafficSource:t,viewType:3,children:(0,_.jsx)(c.xu,{onMouseEnter:l,onMouseLeave:i,children:(0,_.jsx)(eU.Z,{actionBarHeight:B.current?.offsetHeight||ex.Ie,isStoryPin:e,legoLinkClickthroughAnchorRef:X?.legoLinkClickthroughAnchorRef,onClickThrough:s,pinKey:{type:"deprecated",data:n}})})})})}),er=(0,o.useCallback)(()=>{s({wasImageClicked:!0})},[s]),es=(0,_.jsx)(eV.Z,{isStoryPin:e,isWideVideo:l,pin:n,taggedProducts:i,trafficSource:t,viewParameterType:r,visualContentContainerRef:Q.visualContentContainerRef,imageContainerRef:en,handleImageClickThrough:er,setClickthroughComponentForSurvey:el,isShortImage:Y,onSaveButtonClick:h,showRepinOnInitialRender:P,viewParameter:ee}),eo=(0,_.jsx)(eD,{inCommentsPopoverExp:W,isCommentSectionOpen:b,isStoryPin:e,isVideoPin:a,isDeletedStoryPin:y,orbacActingAs:G,orbacSubjectId:q,onCommentSectionClick:F,onCloseupBodyUpdate:w,outerPaddingSize:x,pin:n,viewer:H,shouldShowStlCarouselForOwnPin:T,storyPinTaggedProducts:I,taggedProducts:i,trafficSource:t,viewType:S,closeupContext:U,isLoadingNewlyCreatedComment:E,viewParameter:ee,detailsScrollContainerRef:V.current,clientTrackingParams:K,reactionCounts:n.reaction_counts}),eu=(0,_.jsx)(eI,{pinKey:{type:"deprecated",data:n},clientTrackingParams:K,inCommentsPopoverExp:W,isStoryPin:e,isVideoPin:a,isDeletedStoryPin:y,trafficSource:t,details:eo,onClickThrough:s,onCloseupBodyUpdate:w,outerPaddingSize:x,orbacActingAs:G,viewer:H,viewParameter:ee,viewportSize:C,shouldShowPartnerModule:j,trendsData:L,showTrendsOnPinCloseup:A,showPinStats:R,clickthroughUrlLink:et}),ec=(0,_.jsx)(e5,{isWideVideo:l,didShortClickThrough:u,webLinkSurveyState:X,pin:n,outerBodyStyle:k,inCommentsPopoverExp:W,isEligibleForPinReactions:$,isStoryPin:e,trafficSource:t,visualContentContainer:es,isCloseupMaximized:g,data:d,isInStream:m,metadataContainerRef:V,onClickThrough:()=>{s&&s({componentType:129}),X.setClickthroughComponentForSurvey("legoMaybeLink")},viewParameter:ee,viewType:S,viewer:H,orbacSubjectId:q,isLoadingNewlyCreatedComment:E,onCommentSectionClick:F,setIsLoadingNewlyCreatedComment:z,descriptionContentMaxHeight:Q.descriptionContentMaxHeight,metadata:eu,onSaveButtonClick:h,showRepinOnInitialRender:P,goBack:p,onUpdate:f,routePush:v,visualContentContainerRef:Q.visualContentContainerRef,actionBarContainerRef:B,outerPaddingSize:x,isRelatedPins10PercentVisible:D}),ep=(0,o.useMemo)(()=>({}),[]),em=n?.ad_data?.exclude_from_grid_rep_tests&&M("web_exclude_from_grid_rep_tests").anyEnabled;return O&&em?(0,_.jsx)("div",{className:"excludeFromGridRepTests",children:(0,_.jsx)(c.II,{value:ep,children:ec})}):ec}},65177:function(e,a,l){l.d(a,{Z:()=>p});var n=l(883119),i=l(736802),t=l(149739),r=l(759097),s=l(785893);let o=({description:e,userMentionTags:a})=>(0,s.jsx)(r.Z,{description:e,mentionLinkColor:"link",shouldAdjustOffset:!0,shouldMakeHashtagLinksFromText:!0,textSize:t.n,userMentionTags:a});var d=l(355940),u=l(747859);function c({description:e}){let{closeupWithinMasonryEnabled:a,peekCloseupEnabled:l}=(0,u.x4)();return(0,s.jsx)(d.Z,{name:"SimpleDescriptionWithHashtags",children:(0,i.Z)({closeupWithinMasonryEnabled:a,peekCloseupEnabled:l,text:e})})}function p({description:e,userMentionTags:a}){let l=e=>e.replace(/\s+/g," "),i=e.split(/\n/)||[],t=({descriptionLine:a,userMentionTags:l})=>{let n=e.indexOf(a);return l.map(e=>e&&"number"==typeof e.offset&&e.offset>=n?{...e,offset:e.offset-n}:null).filter(e=>null!==e)||[]};return i.map((e,i)=>{let r=`description-broken-by-line-breaks-${i}`;if(!a||0===a.length)return(0,s.jsx)(c,{description:e},r);let d=t({descriptionLine:e,userMentionTags:a});return d.length>0?(0,s.jsx)(n.xu,{children:(0,s.jsx)(o,{description:l(e),userMentionTags:d})},r):(0,s.jsx)(c,{description:e},r)})}},435672:function(e,a,l){l.d(a,{Z:()=>K});var n=l(667294),i=l(883119),t=l(21818),r=l(96413),s=l(982633),o=l(592821),d=l(979904),u=l(629178),c=l(555242),p=l(878709),g=l(521009),m=l(355940),_=l(318215),y=l(390843),h=l(821806),f=l(123317),k=l(271910),x=l(535701),v=l(448505),P=l(7872),S=l(612569),b=l(747859),F=l(790427),w=l(785893);let T=(0,n.lazy)(()=>l.e("18364").then(l.bind(l,206837))),I=(0,n.lazy)(()=>l.e("71002").then(l.bind(l,154709)));function K({handleImageClickThrough:e,imageContainerRef:a,isStoryPin:l,isWideVideo:K,onSaveButtonClick:C,pin:j,setClickthroughComponentForSurvey:L,showRepinOnInitialRender:A,trafficSource:Z,viewParameter:R,viewParameterType:D,visualContentContainerRef:M={current:null}}){let[E,z]=(0,n.useState)(!1),{setIsCollageOverlayOpen:B}=(0,S.K4)(),{previous:O}=(0,y.Hv)(),V=(0,b.x4)(),U=(0,v.Z)(),N=(0,p.r)(),H=(0,x.Z)(),{getViewParameter:W}=(0,t.ZP)({type:"deprecated",data:j}),$=(0,g.Z)(),G=0===O.length,{imgSrc:q,video:X}=N,{isCloseupMediaViewerEnabled:Y}=(0,u.Z)({isShufflePin:!!j?.shuffle}),{executeWithViewTransition:Q}=(0,c.Z)({_enableViewTransitions:Y}),J=()=>{z(e=>!e)},ee=()=>{z(!1)},ea=()=>{B(e=>!e)},el=e=>({gridDescription:j.description,imageSrc:e,isFlyoutOpen:E,onFlyoutDismiss:ee,onToggleFlyout:J,pinId:j.id}),{clientTrackingParams:en,paneWidth:ei,closeupWithinMasonryEnabled:et,peekCloseupEnabled:er,setIsCloseupMediaViewerOpen:es}=V,{fiftyPercentWidth:eo}=(0,o.Re)(),{maxHeight:ed}=(0,d.Z)({pinKey:{type:"deprecated",data:j}}),eu=(0,n.useCallback)(()=>{e&&e(),L("imageContainer")},[e,L]);if(l)return null;let{domain:ec,music_attributions:ep,pinner:eg,should_mute:em}=j,e_=!!ec&&!!j.link&&!j.link.startsWith("https://i.pinimg.com"),ey=()=>{$({aux_data:{image_signature:j.image_signature},component:128,event_type:101,element:Y?15864:15865,view_type:3}),Q(()=>{es(!0)})},eh=(0,P.q6)(H,eg?.id,U);return(0,w.jsxs)(i.xu,{ref:M,dangerouslySetInlineStyle:{__style:{height:er?"100%":void 0,display:er?"flex":"block"}},"data-test-id":"visual-content-container",children:[(0,w.jsx)(k.q,{children:({hovered:e,onMouseEnter:l,onMouseLeave:n})=>(0,w.jsxs)(i.xu,{alignSelf:er?"center":void 0,direction:et?"column":void 0,display:"flex",justifyContent:"center",maxHeight:ed,maxWidth:eo,onMouseEnter:l,onMouseLeave:n,position:"relative",width:"100%",children:[X&&ep?.length!==0&&(0,w.jsx)(i.xu,{alignItems:"center","data-test-id":"music-attribution",display:"flex",justifyContent:"center",marginTop:6,overflow:"hidden",paddingY:8,position:"absolute",top:!0,width:ei,zIndex:f.Ls,children:(0,w.jsx)(r.Z,{musicAttributions:ep,shouldMute:!!em})}),(0,w.jsx)(s.Z,{clientTrackingParams:en,closeupIsFirstPageInHistoryStack:G,flyoutShareProps:el(q),handleCollageOverlayToggle:ea,handleMediaButtonClick:ey,imageContainerRef:a,isHovered:e,isORBACProfileManager:eh,isWideVideo:K,onImageClick:eu,pin:j,shouldPadImage:!1,showDomainLink:e_,trafficSource:Z,viewParameter:W(D)}),j&&j.showFeedback&&(0,w.jsx)(h.Z,{children:(0,w.jsx)(T,{pin:j})})]})}),(0,w.jsx)(i.mh,{zIndex:F.lI,children:(0,w.jsx)(_.Qp,{anchor:M.current,experienceIds:[506204],flyoutSize:"md",forceDirection:!et,idealDirection:et?"right":"down",placementId:12,showCaret:!0,textWeight:"normal"})}),Y&&(0,w.jsx)(m.Z,{name:"SafeSuspense_CloseupImageOverlay_MediaViewer",children:(0,w.jsx)(h.Z,{children:(0,w.jsx)(I,{flyoutShareProps:el(q),onClose:({isExitButton:e,isClick:a})=>{$({aux_data:{image_signature:j.image_signature},component:128,event_type:a?101:97,element:e?15867:15866,view_type:3}),Q(()=>{es(!1)})},onImageClick:()=>{e&&e()},onSaveButtonClick:C,pin:j,rounding:24,showRepinOnInitialRender:A,trafficSource:Z,viewParameter:R})})})]})}},21818:function(e,a,l){l.d(a,{ZP:()=>g,nU:()=>c});var n,i=l(667294);l(167912);var t=l(995415),r=l(779548),s=l(453179),o=l(776250),d=l(355919),u=l(8512);function c({domain:e,hasLinkDomainOfficialUser:a,hasLinkUserWebsiteOfficialUser:l,hasNativeCreator:n,hasThirdPartyPinOwner:i,isPromoted:t,pinnerDomainUrl:r,pinnerDomainVerified:s}){return(l||a||i||s&&r===e)&&!t||!!n}let p=void 0!==n?n:n=l(543996);function g(e){let a=(0,r.Z)(p,e),{currentDomain:l}=(0,t.Z)({carouselData:a.carouselData&&{carouselSlots:a.carouselData.carouselSlots&&a.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:a.carouselData?.index},domain:a.domain}),n=!!a?.isGoLinkless,g=!!a.link&&a.link.startsWith("https://i.pinimg.com"),m=(0,i.useCallback)(e=>!n&&(e&&!g?!!a.link:!a.isEligibleForPdp&&!!(0,s._S)(l)&&!g),[l,a.isEligibleForPdp,a.link,n,g]),_=(0,o.Z)({hasPin:!!a,hasPinRichMetadata:!!a.richMetadata,hasPinRichMetadataProducts:!!a.richMetadata?.products,hasPinRichMetadataArticle:!!a.richMetadata?.article,hasPinRichMetadataRecipe:!!a.richMetadata?.recipe,hasPinStoryPinData:!!a.storyPinData}),y=(0,i.useCallback)(e=>e||_,[_]),h=a.linkDomain,f=!!a.nativeCreator,k=!!a.originPinner,x=!!a.thirdPartyPinOwner,v=!!a.linkUserWebsite?.officialUser,P=!!h,S=!!h?.officialUser,b=!!a.creatorClass,F=a.pinner;F=f?a.nativeCreator:P?h.officialUser:a.originPinner||a.pinner;let{pinCreditLink:w,pinCredit:T}=(0,u.Xe)({hasLinkDomain:P,hasNativeCreator:f,hasOriginPinner:k,pinDomain:a.domain,sourceUserUsername:F?.username??null,sourceUserFullName:F?.fullName??null}),I=!!F,K=!!w&&!!T,C=!!a.closeupAttribution;return{getShowClickthroughLink:m,getViewParameter:y,makeDetailsArgs:(0,i.useCallback)(e=>({isShopTheLook:!!a.aggregatedPinData?.isShopTheLook,showCreatorCard:c({domain:a.domain??"",hasLinkDomainOfficialUser:S,hasLinkUserWebsiteOfficialUser:v,hasNativeCreator:f,hasThirdPartyPinOwner:x,isPromoted:!!a.isPromoted,pinnerDomainUrl:a.pinner?.domainUrl??"",pinnerDomainVerified:!!a.pinner?.domainVerified})||!C&&I&&K,creatorId:a.closeupAttribution?.entityId??F?.entityId??null,showCanonicalComments:!!a.isEligibleForAggregatedComments,showReactions:(0,d.J6)({board:a.board?.isCollaborative||a.board?.collaboratedByMe?{isCollaborative:a.board.isCollaborative??null,collaboratedByMe:a.board.collaboratedByMe??null}:null,videos:a.videos?.entityId?{entityId:a.videos.entityId}:null,isDownstreamPromotion:a.isDownstreamPromotion,isPromoted:a.isPromoted,storyPinDataId:a.storyPinDataId},e),isCreatorClassPin:b}),[b,S,v,f,x,C,K,I,a.aggregatedPinData?.isShopTheLook,a.board?.collaboratedByMe,a.board?.isCollaborative,a.closeupAttribution?.entityId,a.domain,a.isDownstreamPromotion,a.isEligibleForAggregatedComments,a.isPromoted,a.pinner?.domainUrl,a.pinner?.domainVerified,a.storyPinDataId,a.videos?.entityId,F?.entityId])}}},888682:function(e,a,l){l.d(a,{Z:()=>s});var n=l(667294),i=l(341742);let t=l(25837).cI+16,r=`calc(100vh - ${t}px)`;function s(e=100){let[a,l]=(0,n.useState)(r),o=(0,n.useRef)(null),d=`calc(${e??"100"}vh - ${t}px)`;return(0,i.Z)(()=>{if(!window)return;let a=window.innerHeight-t,n=o.current?.clientHeight||0;n>a*e/100&&(d=n.toString()),l(a>n?d:n)}),{descriptionContentMaxHeight:a,visualContentContainerRef:o}}},502447:function(e,a,l){l.d(a,{Z:()=>o}),l(167912);var n,i=l(782881),t=l(779548),r=l(7872);let s=void 0!==n?n:n=l(881010);function o({pinKey:e,orbacActingAs:a,viewer:l}){let n=(0,t.Z)(s,e),o=!!n.pinner?.entityId&&(0,r.D3)(l,n.pinner.entityId,a),d=!!(n.board?.collaboratedByMe||n.board?.owner?.entityId)&&(0,i.Z)(n.board.collaboratedByMe,n.board.owner?.entityId,l);return o||d}},969964:function(e,a,l){l.d(a,{Z:()=>g});var n,i=l(667294);l(422578);var t=l(112931),r=l(878709),s=l(779548),o=l(244074),d=l(611499),u=l(747859);let c=100+d.Ie,p=void 0!==n?n:n=l(391372);function g({metadataContainerRef:e,pinKey:a}){let[l,n]=(0,i.useState)(!1),{paneWidth:d}=(0,u.x4)(),{mainImage:g,carouselInfo:m}=(0,r.r)(),_=(0,o.Z)(),y=(0,s.Z)(p,a),h=(0,t.ZP)({carouselData:m?.carouselData,mainImage:g,maxCloseupImageWidth:d,pinKey:y}).containerHeight;return(0,i.useEffect)(()=>{let a=()=>{if(!_&&e.current){let a=(e.current?.getBoundingClientRect()?.height??0)+c>h;a!==l&&n(a)}};a();let i=null;return!_&&e.current&&(i=new ResizeObserver(a)).observe(e.current),()=>{i&&i.disconnect()}},[e,l,_,h]),l}},56702:function(e,a,l){l.d(a,{Z:()=>i});var n=l(667294);function i(){let[e,a]=(0,n.useState)(""),l=(0,n.useRef)(null),i=(0,n.useRef)(null),t=(0,n.useRef)(null),r=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let a=()=>{e&&l.current&&l.current.handleEgSurveyClick(e)};return window.addEventListener("focus",a),()=>window.removeEventListener("focus",a)},[e]),{clickthroughComponentForSurvey:e,setClickthroughComponentForSurvey:a,webLinkSurveyRef:l,imageContainerRef:i,legoLinkClickthroughAnchorRef:t,maybeLinkRef:r}}},741078:function(e,a,l){l.d(a,{l6:()=>aO,ZP:()=>aU});var n,i,t,r=l(667294),s=l(581722),o=l(616550),d=l(873707);let u=Object.freeze(["JP"]);var c=l(883119),p=l(254572),g=l(592821),m=l(668175),_=l(86295),y=l(355940),h=l(753261),f=l(222555),k=l(176465),x=l(274320),v=l(15667),P=l(389965),S=l(535701),b=l(448505),F=l(7872),w=l(611499),T=l(462585),I=l(78762),K=l(785893);let C=(0,I.Z)(()=>l.e("96615").then(l.bind(l,174753)),{ssr:!1},e=>174753,"CloseupPartnerModule"),j=(0,I.Z)(()=>l.e("54347").then(l.bind(l,15863)),{ssr:!1},e=>15863,"SponsorshipApprovalModule"),L=function({clientTrackingParams:e,closeupWithinMasonryEnabled:a,didShortClickThrough:l,executeClickthrough:n,handleBackButtonClick:i,handleCarouselSwipe:t,handleCloseupBodyContainerRef:s,handleIdeaCloseupCommentIconClick:o,handleSaveClicked:u,isCloseupMaximized:I,isCommentThreadExpanded:L,isEligibleForStaticImageIdeaPin:A,isLimitedLogin:Z,isRelatedPins10PercentVisible:R,maxWidth:D,onToggleIdeaPinCloseupPanel:M,peekCloseupEnabled:E,pin:z,pinDerivedData:B,pinResource:O,relatedPinsContainerRef:V,routePush:U,shopping:N,showRepinOnInitialRender:H,storyPinTaggedProducts:W,trafficSource:$,trendsData:G,updateViewportSize:q,userBusinessRoleResource:X,viewportSize:Y}){let Q,J=(0,v.B)(),ee=(0,S.Z)(),{checkExperiment:ea}=(0,x.F)(),el=(0,b.Z)(),{id:en,sponsorship:ei,story_pin_data_id:et,story_pin_data:er}=z,es=!!et&&!A,eo=!!er?.is_deleted,{creator:ed,sponsor:eu,status:ec}=ei||{},{username:ep}=ed||{},{username:eg}=eu||{},{refresh:em}=O,e_=(0,F.lJ)(ee,el),{data:ey}=X||{},eh=!z.is_repin&&!!eg,ef=eg===(ee.isAuth?ee.username:void 0)?[_.V3.OWNER]:ey?.permissions,ek=eg===(ee.isAuth?ee.username:void 0)||!!ef?.find(e=>m.Z.includes(e)),ex=eg===(ee.isAuth?ee.username:void 0)||!!ef?.find(e=>m.Z.includes(e)),{isWideVideo:ev}=(0,f.Z)((0,k.Z)({pin:z}))||{},eP=(0,h.rh)(z&&{aggregatedPinData:z.aggregated_pin_data&&{creatorAnalytics:z.aggregated_pin_data.creator_analytics&&{_30dRealtime:z.aggregated_pin_data.creator_analytics["30d_realtime"]&&{carId:z.aggregated_pin_data.creator_analytics["30d_realtime"].id}}},board:z.board&&{privacy:z.board.privacy},creatorAnalytics:z.creator_analytics&&{_30dRealtime:z.creator_analytics["30d_realtime"]&&{carId:z.creator_analytics["30d_realtime"].id}},isRepin:z.is_repin,pinner:z.pinner&&{entityId:z.pinner.id},storyPinDataId:z.story_pin_data_id,videos:z.videos&&{videoList:z.videos.video_list&&{__typename:"VideoList"}}},ee,e_),eS=(0,d.CA)(G?.data),eb=eh&&ee.isAuth&&ea("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled&&(ek&&0===ec||ex&&1===ec),eF=z.link_domain?.official_user?.username||z.native_creator?.username,ew=(0,F.Ms)(ee,el)===eF&&(0,F.nl)(ee,el)&&J.experimentsClient.checkExperiment("web_stl_tooling").anyEnabled,eT=es&&(er?.pages?.length??0)>0,eI=(0,h.WE)(ee,Y,eP,eS,G,eb);Q=es?{boxShadow:void 0,borderRadius:void 0}:a?g.ko:g.te;let eK=(0,K.jsx)(y.Z,{name:"CloseupBody",children:(0,K.jsxs)(c.xu,{ref:s,color:"default",direction:"column",display:"flex",height:"100%",width:"100%",children:[(0,K.jsxs)(c.xu,{alignItems:ev?"center":void 0,direction:ev?"column":void 0,display:ev?"flex":void 0,children:[eb&&"number"==typeof ec&&(0,K.jsx)(c.xu,{"data-test-id":"sponsorship-approval-module",display:"flex",children:(0,K.jsx)(y.Z,{name:"SafeSuspense_Closeup_SponsorshipApprovalModule",children:(0,K.jsx)(j,{business_role:ef,creatorUsername:ep??"",pinId:en,sponsorshipStatus:ec})})}),eI&&!es&&!a&&(0,K.jsx)(c.xu,{"data-test-id":"PartnerModule",width:"lg"===Y&&ev?D:"100%",children:(0,K.jsx)(y.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,K.jsx)(C,{borderStyle:Q,isStoryPin:es,pinKey:{type:"deprecated",data:z},showPinStats:eP,trendsData:eS?G?.data?.results:null,viewportSize:Y})})})]}),(0,K.jsx)(c.xu,{"data-test-id":"closeup-body",flex:"grow",children:(0,K.jsx)(p.Z,{clientTrackingParams:e,data:O.data,didShortClickThrough:l,goBack:i,handleCarouselSwipe:t,isCloseupMaximized:I,isCommentSectionOpen:L,isDeletedStoryPin:!!eo,isRelatedPins10PercentVisible:R,isStoryPin:es,isVideoPin:B.isVideoPin,isWideVideo:ev,onClickThrough:n,onCloseupBodyUpdate:q,onCommentSectionClick:o,onSaveButtonClick:u,onUpdate:em,outerBodyStyle:Q,outerPaddingSize:w.ER,pin:z,relatedPinsContainerRef:V,routePush:U,shopping:N,shouldShowPartnerModule:eI,shouldShowStlCarouselForOwnPin:ew,showPinStats:eP,showRepinOnInitialRender:!Z&&H,showTrendsOnPinCloseup:eS,storyPinTaggedProducts:W,trafficSource:$,trendsData:G,viewParameterType:eT?157:void 0,viewportSize:Y,viewType:3})})]})});return(0,K.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:es?{...g.BI.storyPinGradientStyle}:{}},"data-test-id":"gradient",display:"flex",flex:E?void 0:"grow",id:"gradient",justifyContent:"center",marginBottom:4*!a,width:E?void 0:"100%",children:(0,K.jsxs)(r.Fragment,{children:[eT&&er&&(0,K.jsx)(P.Z,{appConfig:{type:"authDesktop",onClickThrough:n,onNavigateBack:i},clientTrackingParams:e,onIdeaPinCloseupCommentClick:()=>{o(!0)},onTogglePanel:M,pin:z,storyPinData:er,variant:"closeup",viewParameterType:157,viewType:3}),(0,K.jsx)(T.Z,{isStoryPin:es,isWideVideo:ev,children:eK})]})})};var A=l(501392),Z=l(133626),R=l(77969);l(167912);var D=l(779548),M=l(127753),E=l(747859);let z=(0,I.Z)(()=>Promise.resolve().then(l.bind(l,589183)),void 0,e=>589183,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesInclusiveFilters"),B=(0,I.Z)(()=>l.e("82713").then(l.bind(l,204204)),void 0,e=>204204,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModuleOneTapConfiguration"),O=(0,I.Z)(()=>l.e("99743").then(l.bind(l,412098)),void 0,e=>412098,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesHeader"),V=void 0!==n?n:n=l(718611),U=(0,r.forwardRef)(({clientTrackingParams:e,isRelatedPins10PercentVisible:a,pinKey:l,searchQuery:n,setRelatedPinsHeaderRef:i,slotIndex:t,story:r,trafficSource:s,viewParameter:o,viewportSize:d},u)=>{let p=(0,D.Z)(V,l),{closeupWithinMasonryEnabled:g}=(0,E.x4)();if(!r)return null;let{story_type:m}=r;return"related_products_collage"===m?(0,K.jsx)(c.xu,{alignSelf:"center","data-test-id":"related-modules-one-tap-configuration",children:(0,K.jsx)(B,{pinKey:p,searchQuery:n,slotIndex:t,storyKey:{type:"deprecated",data:r},trafficSource:s,viewParameter:o,viewportSize:d})}):(0,M.HM)(m)?!g&&(0,K.jsx)(c.xu,{alignSelf:"center",children:(0,K.jsx)(z,{filter:(0,M.oV)(m),story:r,viewParameter:o})}):"related_modules_header"===m?(0,K.jsx)(c.xu,{ref:i,"data-test-id":"related-modules-header",children:(0,K.jsx)(O,{ref:u,clientTrackingParams:e,isRelatedPins10PercentVisible:a,slotIndex:t,storyId:r.id,storyType:m,title:r.title?.format,viewParameter:o})}):null});var N=l(39599),H=l(623113),W=l(589183),$=l(267886),G=l(339055),q=l(449930),X=l(142689),Y=l(974446),Q=l(626328),J=l(184857),ee=l(744862),ea=l(93966),el=l(47426),en=l(661037);function ei({coverImages:e,height:a,isHovered:l,onClick:n,onMouseEnter:i,onMouseLeave:t,textType:r,text:s,url:o,width:d,dataTestId:u}){let p=e&&(e["236x"]||e["280x280"]);return(0,K.jsx)(en.Z,{backgroundColor:"gray",coverImage:p,height:a,isHovered:l,onClick:n,onMouseEnter:i,onMouseLeave:t,url:o,width:d,children:(0,K.jsx)(c.xu,{alignItems:"center","data-test-id":u,display:"flex",height:a,justifyContent:"center",padding:3,position:"absolute",top:!0,width:d||"100%",children:"text"===r?(0,K.jsx)(c.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,K.jsx)(c.X6,{align:"center",color:"light",size:"600",children:s})}):(0,K.jsx)(c.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,K.jsx)(c.xv,{align:"center",weight:"bold",children:s})})})})}let et=[81];function er({data:e}){let{action:a,container_type:l,objects:n,title:i}=e||{},{format:t}=i??{},{text:r,url:s,user:o={}}=a??{},{image_large_url:d,full_name:u,avatar_color_index:p}=o,{images:g}=n?.find(e=>"pin"===e.type)||{},m=null,_=(0,el.Z)({url:s})?"nofollow":"none";return 81===l&&(m=(0,K.jsxs)(c.kC,{direction:"column",gap:{row:0,column:2},children:[(0,K.jsxs)(c.xu,{position:"relative",children:[(0,K.jsx)(ei,{coverImages:g??void 0,height:ea.yF,text:t??"",textType:"text",url:s??""}),o.imageUrl&&(0,K.jsx)(c.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,K.jsx)(ee.qE,{color:p||void 0,name:u||"",outline:!0,size:"md",src:d??""})})]}),(0,K.jsx)(c.ZP,{fullWidth:!0,href:s??"",rel:_,size:"lg",text:r??""})]})),m}var es=l(957378),eo=l(673616),ed=l(521009),eu=l(469167),ec=l(525839),ep=l(115247),eg=l(806438),em=l(776250),e_=l(355363),ey=l(231760),eh=l(849233),ef=l(886981),ek=l(517250),ex=l(123998),ev=l(378888),eP=l(341742),eS=l(725191),eb=l(845421),eF=l(603316);let ew=e=>({height:ek.zX*e,width:ek.zX});function eT(e){return e.columnSpan??1}let eI=void 0!==i?i:i=l(327060),eK=({closeupBody:e,surface:a="RelatedPinGrid",clientTrackingParams:l,isFilteredFeed:n,lfvExperiences:i,relatedPinsResource:t,setHasRelatedPins:s,i18n:d,closeupWithinMasonryEnabled:u,logContextEvent:p,relatedPinsInRow:g,pin:m,relatedPinsContainerRef:_,topLevelTrafficSource:y,viewParameter:h})=>{let[f,k]=(0,r.useState)(t.auxData?.grid_layout?.w_h_ratio),[x,v]=(0,r.useState)(!0),P=(0,r.useRef)(null),S=(0,r.useRef)(null),b=(0,r.useMemo)(()=>(t.data||[]).filter(e=>["SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"].includes(e?.story_type)).find(e=>(0,M.HM)(e?.story_type??"")),[t]),{closeupMasonryModules:F,hasShoppingModule:w,inclusiveFilters:T}=(0,q.ZP)(m.entityId,b),I=T?(0,M.oV)(T.story_type??""):"",{inInclusiveEfficientRefinements:C}=(0,X.Z)(I),{search:j}=(0,o.TH)(),L=new URLSearchParams(j).get("f")??"",A=(0,G.Z)(L),Z=u&&C&&A,R=(0,ef.Z)(Z?{name:"ApiResource",options:{url:`/v3/pins/${m.entityId}/related/pins/filter/`,data:{fields:J.Z,related_pins_tabs_selections:A}}}:null),D=Z?R:t,{isAtEnd:E,fetchMore:z,data:B,isFetching:O,nextBookmark:V}=D;(0,eP.Z)(()=>{p({event_type:13,view_parameter:h,view_type:3,component:86,clientTrackingParams:l})}),(0,r.useEffect)(()=>{!f&&D.auxData?.grid_layout?.w_h_ratio&&(k(D.auxData.grid_layout.w_h_ratio),P.current=window)},[u,f,D]);let U=`relatedPins:${m.entityId}`,Q=(0,r.useMemo)(()=>["related_products_button_footer","related_domain_carousel","related_products_feed_header"],[]),ee=(B&&B?.findIndex(e=>"pin"===e.type))??0,ea=(B||[]).slice(ee).filter(e=>!Q.includes(e?.story_type)),el=(0,r.useMemo)(()=>[...u?F:[],...ea||[]],[u,F,ea]),en=C&&w&&!!T,ei=({data:l,itemIdx:n})=>{let t,r=(0,em.Z)({hasPin:!!m,hasPinRichMetadata:!!m.richMetadata,hasPinRichMetadataProducts:!!m.richMetadata?.products,hasPinRichMetadataArticle:!!m.richMetadata?.article,hasPinRichMetadataRecipe:!!m.richMetadata?.recipe,hasPinStoryPinData:!!m.storyPinData});if(en&&("shopping_module"===l.type||"inclusive_filters_module"===l.type))"shopping_module"===l.type&&(t=(0,K.jsxs)(c.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,K.jsx)(Y.Z,{moduleWidth:"100%",pinKey:m,trafficSource:y,viewParameter:r}),T?.story_type&&(0,K.jsx)(c.xu,{marginTop:2,children:(0,K.jsx)(W.default,{filter:I,story:T,viewParameter:r})})]}));else switch(l.type){case"closeup_module":t=e;break;case"shopping_module":t=(0,K.jsx)(Y.Z,{moduleWidth:"100%",pinKey:m,trafficSource:y,viewParameter:r});break;case"inclusive_filters_module":t=(0,K.jsx)(W.default,{filter:I,story:T,viewParameter:r});break;case"story":switch((0,eF.nP)("web_story_card_type",{sampleRate:1,tags:{story_type:l.story_type||"unknown",surface:"closeup"}}),l.story_type){case"BUBBLE_ONE_COL":t=(0,K.jsx)(eS.default,{bubbles:l.objects,id:l.id,referringSource:l.referring_source,slotIndex:n,storyType:l.story_type,title:l.title,viewParameter:r,viewType:3});break;case"related_query_shop_upsell_closeup":t=(0,K.jsx)(es.default,{itemIdx:n,story:l,viewParameter:r,viewType:3});break;default:t=null}l.container_type&&et.includes(l.container_type)&&(t=(0,K.jsx)(er,{data:l}));break;default:let s=(0,eg.Z)(i);t=(0,K.jsx)(eb.ZP,{componentType:13007,duploQueryRef:null,imageOnlyOption:s?"image-only":"default",pinId:l.id,pinImageCrop:f?ew(f):null,slotIndex:n,surface:a,trackingParams:l?.tracking_params,viewData:{pin_id:m.entityId},viewParameter:r,viewType:3})}return(0,K.jsx)($.Z,{children:t})},ed=D.data?D.data.length:0;(0,r.useEffect)(()=>{s(0!==ed)},[ed,s]);let ec=(0,r.useRef)(!1),ek=(0,r.useRef)(0),ev=(0,ey.B)(),eI=()=>{ek.current=performance.now()};(0,eP.Z)(()=>{ec.current||(ec.current=!0,ev?.start())}),(0,r.useEffect)(()=>{ec.current&&(x||(ev?.abort(),ec.current=!1),0!==el.length&&(E&&(ev?.stop(),ec.current=!1),ek.current>0&&(ev?.stop(ek.current),ec.current=!1)))},[x,E,ev,ev?.isTiming,el.length]);let eK=(n||!!Z)&&V===eh.qx,eC=(0,eo.Z)({isHiddenPin:m?.isHidden,isUnsafePin:m?.isUnsafe}),ej=!!(u&&(1===el.length||w&&2===el.length));return(0,K.jsx)(ep.Z,{onVisibilityChange:e=>{v(e.some(e=>e.isIntersecting))},options:{threshold:[0]},children:e=>(0,K.jsx)(c.xu,{ref:e,children:(0,K.jsx)(c.xu,{ref:_,children:(0,K.jsx)(ex.Z,{clientTrackingParams:l,component:86,viewParameter:(0,em.Z)({hasPin:!!m,hasPinRichMetadata:!!m.richMetadata,hasPinRichMetadataProducts:!!m.richMetadata?.products,hasPinRichMetadataArticle:!!m.richMetadata?.article,hasPinRichMetadataRecipe:!!m.richMetadata?.recipe,hasPinStoryPinData:!!m.storyPinData}),children:(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(e_.Z,{isAtEndOfFeed:E,isPlaceholderGrid:O&&(!el.length||ej),itemCount:el.length,stopwatchContext:ev,stopwatchSetVisuallyCompleteResult:eI,children:(0,K.jsx)(eu.default,{_dynamicHeights:u,_getColumnSpanConfig:u?eT:void 0,_getResponsiveModuleConfigForSecondItem:u?(0,q.fz)(!!C):void 0,align:u?"center":void 0,cacheKey:U,isFetching:O,isGridCentered:g,isLoadedAccessibilityLabel:el.length>0?d.bt("Loaded more related product results", "Loaded more related product results", "closeup.relatedProducts.results", undefined, true):d.bt("Loaded related products result", "Loaded related products result", "closeup.relatedProducts.results", undefined, true),isLoadingAccessibilityLabel:el.length>0?d.bt("Loading more related products results", "Loading more related products results", "closeup.relatedProducts.loading", undefined, true):d.bt("Loading related products results", "Loading related products results", "closeup.relatedProducts.loading", undefined, true),isLoadingStateEnabled:eC,items:el,layout:"basic",loadItems:z,masonryRef:S,minCols:u?2:void 0,renderItem:ei,scrollContainerRef:P,serverRender:!0,virtualize:q.o1})}),eK&&ed>0&&(0,K.jsx)(N.Z,{}),eK&&0===ed&&(0,K.jsx)(H.Z,{})]})})})})})};function eC({pinKey:e,relatedModulesRef:a,...l}){let n=(0,ec.ZP)(),i=(0,ed.Z)(),{clientTrackingParams:t,closeupWithinMasonryEnabled:s}=(0,E.x4)(),d=(0,o.TH)(),u=(0,o.k6)(),c=(0,D.Z)(eI,e),p=(0,ev.mB)(d.search).rs,g=u?.action==="POP";return(0,r.useEffect)(()=>{(0,Q.Z)({isFromBackButton:g,referringSource:p,relatedModulesRef:a})},[g,d,p,a]),(0,K.jsx)(ey.Q,{children:(0,K.jsx)(eK,{...l,clientTrackingParams:t,closeupWithinMasonryEnabled:s,i18n:n,logContextEvent:i,pin:c,relatedPinsInRow:s})})}var ej=l(446320),eL=l(780879),eA=l(239988),eZ=l(96471),eR=l(458963),eD=l(756334);let eM=(0,I.Z)(()=>l.e("80949").then(l.bind(l,610977)),void 0,e=>610977,"app-common-react-components-closeup-CloseupRelatedModules-CloseupRelatedModulesOneBar"),eE=new Set([...g.aW,"related_domain_carousel","related_products_collage","SKIN_TONE_FILTER_QUERIES","hair_pattern_filter_queries"]),ez=void 0!==t?t:t=l(824065);function eB({clientTrackingParams:e,closeupBody:a,isRelatedPins10PercentVisible:l,isVideoPin:n,pinKey:i,relatedResourceOptions:t,searchQuery:s,relatedPinsContainerRef:o,setRelatedPinsHeaderRef:d,topLevelTrafficSource:u,trafficSource:p,viewParameter:m,viewportSize:_}){let{closeupWithinMasonryEnabled:y}=(0,E.x4)(),[h,f]=(0,r.useState)(!n),k=(0,ef.Z)(h?t:null),x=(0,eZ.Z)(),v=(0,eA.Z)(),P=(0,eR.Z)(),{cacheOneBarModules:S,cachedProductFilterOneBarModules:b}=(0,eL.X)(),F=(0,r.useRef)(null),w=(0,r.useCallback)(e=>{e&&(F.current=e)},[]),[T,I]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=h?void 0:setTimeout(()=>f(!0),y&&n?1e3:0);return()=>clearTimeout(e)},[y,n,h]);let C=(0,D.Z)(ez,i),{isInCloseupShoppingRefinementsExp:j,shouldFetchSLURPFields:L}=(0,ej.Z)({pinKey:C}),A=(0,ef.Z)(j&&v&&C.entityId?{name:"ApiResource",options:{url:`/v3/pins/${C.entityId}/related/pins/filter/`,field_sets:["pin.domain","pin.dominant_color","pin.grid_title","pin.id","pin.images[170x,136x136,236x,474x,736x,orig]","pin.is_oos_product","pin.is_stale_product","pin.link_domain()","pin.link","pin.rich_summary()","pin.tracking_params","pin.type",...L?["pin.is_eligible_for_closeup_one_bar_refinements"]:[]],data:{applied_unified_filters:v}}}:null),Z=A?.data?A:k,R=Z?.data?.find(e=>"story"===e.type&&e.story_type===g.vs),M=R?.objects;(0,r.useEffect)(()=>{j&&R?.objects&&S({baseCacheKey:C.entityId,oneBarModules:R.objects})},[k,C.entityId,S,j,A,R?.objects]);let z=!j||j&&!x;return(0,K.jsx)(eD.Z,{metricName:"RelatedModulesFeed",children:(0,K.jsxs)(c.xu,{ref:w,"data-test-id":"relatedPins",direction:"column",display:"flex",flex:"grow",position:"relative",children:[T&&(k.data||[]).filter(e=>eE.has(e.story_type)).map((a,n)=>(0,K.jsx)(c.xu,{"data-test-id":`related-module-${a.id}`,direction:"column",display:"flex",children:(0,K.jsx)(U,{ref:F,clientTrackingParams:e,isRelatedPins10PercentVisible:l,pinKey:C,searchQuery:s,setRelatedPinsHeaderRef:d,slotIndex:n,story:a,trafficSource:p,viewParameter:m,viewportSize:_})},`related-module-${a.id}`)),M&&M.length>0&&b&&b.length>0&&(0,K.jsx)(eM,{oneBarModules:M,viewParameter:m,viewType:3}),j&&x&&(0,K.jsx)(eC,{closeupBody:a,isFilteredFeed:!0,lfvExperiences:P,pinKey:C,relatedModulesRef:F,relatedPinsContainerRef:o,relatedPinsResource:A,setHasRelatedPins:I,surface:"ShoppingDynamicHeightGrid",topLevelTrafficSource:u,viewParameter:m}),z&&(0,K.jsx)(eC,{closeupBody:a,lfvExperiences:P,pinKey:C,relatedModulesRef:F,relatedPinsContainerRef:o,relatedPinsResource:k,setHasRelatedPins:I,topLevelTrafficSource:u,viewParameter:m})]})})}var eO=l(139707),eV=l(735411),eU=l(503543),eN=l(111330),eH=l(518285),eW=l(782881),e$=l(364732),eG=l(974297),eq=l(30216),eX=l(980787),eY=l(686319),eQ=l(278533),eJ=l(761256),e0=l(50651),e1=l(817309),e3=l(453179),e7=l(607652),e2=l(887946),e6=l(67831),e8=l(735002),e4=l(956077),e5=l(753143),e9=l(159527),ae=l(572227),aa=l(91479),al=l(87853),an=l(431338),ai=l(973940),at=l(322888),ar=l(294868),as=l(711313),ao=l(199593),ad=l(25837),au=l(620427),ac=l(314011),ap=l(74459);function ag({conversation_id:e,senderId:a,pinId:l}){(0,eY.Z)({url:`/v3/conversations/${e}/message/mark_seen/`,method:"POST",data:{sender:a,pin:l}})}let am=({isWideVideo:e,viewportSize:a,peekCloseupEnabled:l})=>!["md","sm"].includes(a)&&!e||l&&"sm"!==a;function a_(e){let{clientTrackingParams:a,closeupWithinMasonryEnabled:l=!1,conversation_id:n,conversationOpen:i,didRepin:t,getStringifiedCommerceAuxData:s,isEligibleForStaticImageIdeaPin:o,isLandingPage:d,isRelatedPins10PercentVisible:u,logContextEvent:c,onHandleBackButtonClick:p,openInbox:m,orbacActingAs:_,peekCloseupEnabled:y=!1,pin:h,pinDerivedData:x,pinId:v,pinResource:P,relatedPinsContainerRef:S,senderId:b,setAbortNoActionPlacementTimeout:T,setMostRecentPinId:I,setMostRecentPinImage:C,setPlacementExtraContext:j,shouldShowInbox:D,storyPinTaggedProductsResource:M,verticalNavWidth:E,viewer:z}=e,{pin:B,shopping:O,visualState:V,isCloseupMaximized:U=!1,isCommentSectionOpen:N=!1,didShortClickThrough:H=!1,didPinClickThrough:W=!1,firstLoadComplete:$=!1,intervalId:G,viewportSize:q="lg",isOverRelatedPins:X=!1}=e.initialState||{},[Y,Q]=(0,r.useState)(B),[J,ee]=(0,r.useState)(V),[ea,el]=(0,r.useState)(U),[en,ei]=(0,r.useState)(N),[et,er]=(0,r.useState)(H),[es,eo]=(0,r.useState)(W),[ed,eu]=(0,r.useState)($),[ec,ep]=(0,r.useState)(G),[eg,e_]=(0,r.useState)(q),[ey,eh]=(0,r.useState)(X),ef=(0,r.useRef)(!1),ek=(0,r.useRef)(!1),ex=(0,r.useRef)(0),ev=(0,r.useRef)(null),eS=(0,r.useRef)(null),eb=(0,ai.Z)(v),ew=(0,ai.Z)(t),eT=(0,ai.Z)(d),eI=(0,r.useCallback)(e=>{ev.current=e},[]),eK=(0,r.useCallback)(e=>{eS.current=e},[]),eC=(0,r.useCallback)(()=>{if(!ek.current)return;let{BREAKPOINT:e,EXP_SM_BREAKPOINT:a,SM_BREAKPOINT:n}=(0,g.le)({verticalNavWidth:E}),i=l?a:n,t="lg";"undefined"!=typeof window&&window.innerWidth<e&&(t=window.innerWidth<i?"sm":"md"),e_(t)},[l,E]),ej=(0,r.useMemo)(()=>(0,e9.Z)(eC,50),[eC]),eL=(0,r.useCallback)(()=>{clearInterval(ec),j&&j({didLongClickThrough:!0})},[ec,j]),eA=(0,r.useCallback)(l=>{let{pinFormattedLink:n,viewer:i,trafficSource:t,logContextEvent:r,getStringifiedCommerceAuxData:s,isEligibleForStaticImageIdeaPin:o,isCloseupMediaViewerOpen:d}=e,u=!!h?.story_pin_data_id&&o,{wasImageClicked:c,auxData:p,componentType:g=u?228:4,elementType:m=c?35:u?11157:361,viewType:_=d?675:3}=l||{},y=(0,em.Z)({hasPin:!!h,hasPinRichMetadata:!!h?.rich_metadata,hasPinRichMetadataProducts:!!h?.rich_metadata?.products,hasPinRichMetadataArticle:!!h?.rich_metadata?.article,hasPinRichMetadataRecipe:!!h?.rich_metadata?.recipe,hasPinStoryPinData:!!h?.story_pin_data}),f={...s?.(),...p||{},is_promoted:h?.is_promoted};i?.isAuth&&!es&&j&&(j({didPinClickThrough:!0}),eo(!0)),u&&r?.({event_type:102,view_type:132,view_parameter:3549,element:12971,aux_data:{pin_id:h?.id,url:n}}),r?.({event_type:101,object_id_str:v,component:g,element:m,clientTrackingParams:a,aux_data:{...s?.(),...p||{}}}),r?.({event_type:12,object_id_str:v,view_type:_,view_parameter:y,component:g,element:m,aux_data:{...f,...(0,e1.Z)(h.link_utm_applicable_and_replaced)},clientTrackingParams:a}),r?.({event_type:8948,view_type:_,view_parameter:y,component:g,element:m,object_id_str:v,clientTrackingParams:a,aux_data:{click_type:"clickthrough",closeup_navigation_type:t&&(0,e3.sV)(t)?"deeplink":"click",...s?.(),...p||{}}}),c&&ep(window.setInterval(eL,12e4)),ex.current=Date.now(),et&&er(!1),T(!0)},[e,h,es,j,v,a,et,T,eL]),eZ=(0,r.useCallback)(()=>{clearInterval(ec),j&&j({didLongClickThrough:!1})},[ec,j]),eR=(0,r.useCallback)(()=>{ex.current>0&&(er(Date.now()-ex.current<5e3),ex.current=0)},[]),eD=(0,r.useCallback)(()=>{c?.({event_type:101,object_id_str:Y?.id,component:4,element:0,clientTrackingParams:a,aux_data:{...s?.()}}),T(!0)},[c,Y?.id,a,s,T]),eM=(0,r.useCallback)(()=>{p()},[p]),{isEnabled:eE}=(0,A.Z)({dangerouslySkipActivation:!0}),ez=(0,r.useCallback)(e=>{ed&&((0,eF.nP)(`closeup.dweb.css_carousel.${eE?"enabled":"control"}.global_carousel_index_update`,{sampleRate:1,tags:{index:e}}),ee(a=>({...a,carouselData:{...a.carouselData||{},index:e}})))},[ed,eE]),eO=(0,r.useMemo)(()=>(0,e9.Z)(()=>{if(!eS.current)return;let e=ad.hu,a=(eS.current?.getBoundingClientRect().top??0)<=e;eh(e=>!!a||e&&a),!a&&ey&&eh(!1)},10),[ey]),eV=(0,r.useCallback)(e=>{el(!e),ev&&(ev.ariaHidden=!e)},[el]),eU=(0,r.useCallback)(e=>{e.stopPropagation(),eM()},[eM]),eH=(0,r.useCallback)(a=>{let{setIsCommentThreadExpanded:l,logContextEvent:n}=e;ei(!!a),l?.(!!a),a&&n?.({component:13464,element:11981,event_type:10554,view_type:3})},[e]),eq=(0,r.useCallback)(()=>{let a=h?.board||{},l=e.viewer,n=a.is_collaborative&&(0,eW.Z)(a?.collaborated_by_me,a?.owner?.id,l);return!!(l.isAuth&&h?.pinner?.id===l.id||n)},[h?.board,h?.pinner?.id,e.viewer]),eX=(0,r.useCallback)(()=>{let a,{mainImage:l}=e;if(!ed)return;let n=(0,e$.Z)({carouselData:h?.carousel_data,images:h?.images,product:h?.rich_metadata?.products?.[0]||h?.rich_summary?.products?.[0]}),i=(n?.carousel_slots||[])[0]||{},t=(0,eG.Z)(i.images),r=J.carouselData,s=J.mainImage||{url:""},o=r?.index||0;a=n&&(n.carousel_slots?.length||0)>1?{mainImage:l,carouselData:{...n,index:o},previewImage:(0,ar.Yf)(h?.images?.["236x"])}:t?.url?{mainImage:{url:t.url,height:t.height||1,width:t.width||1}}:{mainImage:l,previewImage:(0,ar.Yf)(h?.images?.["236x"])};let d=a.carouselData?.id,u=r?.id,c=a.carouselData?.carousel_slots,p=r?.carousel_slots,g=a.mainImage?.url??"",m=s.url??"";(u!==d||JSON.stringify(p)!==JSON.stringify(c)||m!==g)&&ee(a)},[h,e,ed,J]);(0,r.useEffect)(()=>{let{didRepin:a,isLandingPage:l,pinResource:{data:i},pwtSurfaceContext:t}=e;eX(),ed&&!ef.current&&(t?.removeConstraint?.("thumbnailsLoaded"),(0,e4.l7)("thumbnailsLoaded"),ef.current=!0),i&&!ed&&(i.carousel_data&&(i.carousel_data.index=J.carouselData?.index||0),Q(i),eu(!0)),n&&b&&v&&eb!==v&&ag({conversation_id:n,senderId:b,pinId:v});let r={};((0,e5.M0)().getItem(eN.W3)||"").includes(`/pin/${v}`)&&l&&(r.loginPageType="pin"),a&&(r.didRepin=!0),h?.image_signature&&(r.pin_image_signature=h.image_signature),r.is_own_or_group_pin=eq();let s=ew!==a||e.isLandingPage!==eT||eb!==v;!(0,eJ.Z)(r)&&s&&j&&j({...r})},[v,b,n,e,ed,ef,J.carouselData,j,eb,eX,h.image_signature,eq,ew,eT]),(0,eP.Z)(()=>(ek.current=!0,n&&b&&v&&ag({conversation_id:n,senderId:b,pinId:v}),n&&(i?.(n),D&&m?.()),h?.image_signature&&C?.(h.image_signature),v&&I?.(v),j&&j({is_own_or_group_pin:eq()}),eC(),window.addEventListener("resize",ej),window.addEventListener("focus",eR),window?.location?.search?.includes("invite_code=")&&(0,eQ.Z)(),()=>{window.removeEventListener("resize",ej),window.removeEventListener("focus",eR),ek.current=!1}));let eY=w.u6,e0=e.isCommentThreadExpanded||!1,{recommendation_reason:e7}=h,{contextPinIds:e2,experimentsClient:{checkExperiment:e6},landingContext:e8,searchQuery:ae,shouldFetchSLURPFields:al,topLevelTrafficSource:an,topLevelTrafficSourceDepth:at,trafficSource:as}=e,ao={name:"RelatedModulesResource",options:{additional_fields:(0,r.useCallback)(()=>{let e=al?["pin.is_eligible_for_closeup_one_bar_refinements"]:[],a=e6("hfp_gen_ai_topics_opt_out_dweb",{dangerouslySkipActivation:!0}).group;return a&&(["control_pwt","enabled_pwt"].includes(a)&&e6("hfp_gen_ai_topics_opt_out_dweb"),"control_pwt"!==a&&e&&!e.includes("pin.gen_ai_topics")&&(e=[...e,"pin.gen_ai_topics"])),e},[al,e6])(),pin_id:h.id,context_pin_ids:e2,homefeed_source_sig:e7&&["NAVBOOST_P2P","NAVBOOST_PFY","INSTANT_PFY_NON_MATERIALIZABLE","P2P","P2P_CLICKTHROUGH","FRESH_TEXT_EMBEDDINGS","INTENTIONAL_DISTRIBUTION_GEMINI_V5"].includes(e7.reason||"")&&e7.reason_id,page_size:12,search_query:ae,source:as,top_level_source:an,top_level_source_depth:at,is_pdp:!1,landing_context:e8}},au=(0,F.q6)(z,h.pinner?.id,_),ac=!!h.id&&!au||l,{data:ap}=M||{},{isLimitedLogin:a_,routePush:ay,showRepinOnInitialRender:ah,trendsData:af,userBusinessRoleResource:ak}=e,ax=(0,K.jsx)(L,{clientTrackingParams:a,closeupWithinMasonryEnabled:l,didShortClickThrough:et,executeClickthrough:eA,handleBackButtonClick:eM,handleCarouselSwipe:ez,handleCloseupBodyContainerRef:eI,handleIdeaCloseupCommentIconClick:eH,handleSaveClicked:eD,isCloseupMaximized:ea,isCommentThreadExpanded:e0,isEligibleForStaticImageIdeaPin:o,isLimitedLogin:a_,isRelatedPins10PercentVisible:u,maxWidth:eY,onToggleIdeaPinCloseupPanel:eV,peekCloseupEnabled:y,pin:h,pinDerivedData:x,pinResource:P,relatedPinsContainerRef:S,routePush:ay,shopping:O,showRepinOnInitialRender:ah,storyPinTaggedProducts:ap,trafficSource:as,trendsData:af,updateViewportSize:eC,userBusinessRoleResource:ak,viewportSize:eg}),av=(0,K.jsx)(aa.Z,{handleScroll:eO,onClick:eM,showShadow:ey}),aP=(0,K.jsx)(Z.Z,{backButton:av,bodyContent:ax,firstLoadComplete:ed,isVideoPin:x.isVideoPin,onWrapperClick:eU,pin:h,pinResource:P,relatedModulesContent:ac?(0,K.jsx)(eB,{clientTrackingParams:a,closeupBody:ax,isRelatedPins10PercentVisible:u,isVideoPin:x.isVideoPin,pinKey:{type:"deprecated",data:h},relatedPinsContainerRef:S,relatedResourceOptions:ao,searchQuery:ae,setRelatedPinsHeaderRef:eK,topLevelTrafficSource:an,trafficSource:as,viewParameter:(0,em.Z)({hasPin:!!h,hasPinRichMetadata:!!h?.rich_metadata,hasPinRichMetadataProducts:!!h?.rich_metadata?.products,hasPinRichMetadataArticle:!!h?.rich_metadata?.article,hasPinRichMetadataRecipe:!!h?.rich_metadata?.recipe,hasPinStoryPinData:!!h?.story_pin_data}),viewportSize:eg}):(0,K.jsx)(r.Fragment,{})}),{abortNoActionPlacementTimeout:aS,calculatedImageHeight:ab,isCloseupMediaViewerOpen:aF,isCommentAttachmentSelectorOpen:aw,isCommentComposerFocused:aT,isCommentOverflowPopoverOpen:aI,isMediaViewerOpen:aK,isShoppingModuleExpanded:aC,setCalculatedImageHeight:aj,setIsCloseupMediaViewerOpen:aL,setIsCommentAttachmentSelectorOpen:aA,setIsCommentComposerFocused:aZ,setIsCommentOverflowPopoverOpen:aR,setIsCommentThreadExpanded:aD,setIsMediaViewerOpen:aM,setIsShoppingModuleExpanded:aE}=e;return(0,K.jsx)(R.Z,{abortNoActionPlacementTimeout:aS,calculatedImageHeight:ab,classProps:e,classState:{...e.initialState,pin:Y,shopping:O,visualState:J,isCloseupMaximized:ea,isCommentSectionOpen:en,didShortClickThrough:et,didPinClickThrough:es,firstLoadComplete:ed,intervalId:ec,viewportSize:eg,isOverRelatedPins:ey},clientTrackingParams:a,closeupContent:aP,closeupWithinMasonryEnabled:l,descriptionPaneWidth:eY-w.Gg-4*!!l,handleBackButtonClick:eM,handleCarouselSwipe:ez,handleFocus:eZ,isCloseupMediaViewerOpen:aF,isCommentAttachmentSelectorOpen:aw,isCommentComposerFocused:aT,isCommentOverflowPopoverOpen:aI,isCommentThreadExpanded:e0,isMediaViewerOpen:aK,isShoppingModuleExpanded:aC,maxWidth:eY,paneWidth:w.Gg,peekCloseupEnabled:y,setAbortNoActionPlacementTimeout:T,setCalculatedImageHeight:aj,setIsCloseupMediaViewerOpen:aL,setIsCommentAttachmentSelectorOpen:aA,setIsCommentComposerFocused:aZ,setIsCommentOverflowPopoverOpen:aR,setIsCommentThreadExpanded:aD,setIsMediaViewerOpen:aM,setIsShoppingModuleExpanded:aE,showCloseupContentRight:!l&&am({isWideVideo:(0,f.Z)((0,k.Z)({pin:h}))?.isWideVideo,viewportSize:eg,peekCloseupEnabled:y}),showProductDetailPage:!1})}let ay=(0,eU.Z)(function(e){var a;let{logContextEvent:l}=(0,eX.v)(),{pin:n,viewer:i,pinResource:t,pinId:s,goToCampaignCreation:c,deepLinkBackGoesToBoard:p,goBack:g,routePush:m,trafficSource:_}=e,y=(0,ec.ZP)(),h=(0,x.F)(),f=(0,ae.Z)(),k=(0,v.B)(),[P,S]=(0,r.useState)(!1),[w,T]=(0,r.useState)(!1),[I,C]=(0,r.useState)(!1),[j,L]=(0,r.useState)(!1),[A,Z]=(0,r.useState)(!1),[R,D]=(0,r.useState)(!1),[M,E]=(0,r.useState)(!1),[z,B]=(0,r.useState)(0),[O,V]=(0,r.useState)(!1),U=(0,ap.Z)(),N=(0,r.useRef)(null),[H,W]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=new IntersectionObserver(([e])=>{W(!!e&&e.isIntersecting)},{root:null,rootMargin:"-100px 0px 0px 0px",threshold:[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1]}),a=N?.current;return N?.current&&e.observe(N?.current),()=>{a&&e.unobserve(a)}},[N]);let{setMostRecentPinId:$,setMostRecentPinImage:G}=(0,ac.f)(),q=(0,an.Z)({type:"deprecated",data:n}),X=(0,e3.sY)(n.embed?.type)&&"gif"||n.is_eligible_for_pdp&&"productPin"||n.rich_summary?.type_name==="recipe"&&"recipePin"||!!n.story_pin_data_id&&"storyPin"||!!n.videos?.video_list&&"video"||"image",Y="pin_closeup_lcp",Q=(0,e8.PY)(Y),{conversationOpen:J}=(0,ao.Z)(),ee=(0,b.Z)(),ea=(0,eH.Z)(),el=(0,e6.E)(),en=(0,o.TH)(),ei=(0,au.Z)((en?.state||{}).trackingParams,n.trackingParams||n.tracking_params),et=(0,al.F9)(),[er,es]=(0,r.useState)(!1),{advertiser:eo}=k,ed=(0,at.xN)(eo,s),eu=(0,e2.Z)({type:"deprecated",data:n}),{landingContext:ep}=(0,e0.Z)(),eg=(0,F.lJ)(i,ee),em=(0,eq.Z)({pinKey:{type:"deprecated",data:n}}),e_=h.checkExperiment("web_refactor_consume_ctp").anyEnabled?em:ei,{onHandleBackButtonClick:ey}=(0,as.Z)({logCommerceAuxData:n.promoted_is_lead_ad,deepLinkBackGoesToBoard:p,goBack:g,routePush:m,trafficSource:_,viewer:i,requestContext:k,pinKey:{type:"deprecated",data:n}},l);(0,r.useEffect)(()=>{t.data&&!er&&c&&es(!0)},[t.data,er,c]),(0,r.useEffect)(()=>{Q&&(0,e8.ku)({stopwatchName:Y,binaryAnnotationName:"pinType",value:X,annotationType:"STRING"})},[Q,X]);let eh=!!n,ek=(0,r.useRef)(!1);eh&&el&&!ek.current&&(el.addBinaryAnnotation("pinType",X,"STRING"),(0,e4.rt)("pinType",X,"STRING"),ek.current=!0);let ex=n.sponsorship?.sponsor?.id,ev=!n.is_repin&&!!ex,eP=(0,ef.Z)(ex&&ev&&i.isAuth&&"storyPin"===X?{name:"ApiResource",options:{url:`/ads/v4/business_access/businesses/${ex}/me/ad_accounts_permissions/`}}:null),eS=i.isAuth&&(a=i.country,!u.includes(a))&&(0,d.Gv)({orbacSubjectId:eg,pinIsRepin:n.is_repin,pinPinnerId:n.pinner?.id,viewerId:i.id,viewerIsPartner:i.isPartner}),{data:eb,isLoaded:eF}=(0,ef.Z)(eS?{name:"ApiResource",options:{url:`/v3/trends/partner/${i.id||""}/trends_for_pin/${n.id}/`,data:{number_terms_to_return:10}}}:null),{sideBySideRedesignFastFollowsEnabled:ew}=(0,eO.Z)(),{shouldFetchSLURPFields:eT}=(0,ej.Z)({pinKey:{type:"deprecated",data:n}}),eI=!!n.story_pin_data_id,eK=(0,eV.Z)({pin:n,pinId:s,pinResource:t}),{getMainPinImage:eC}=(0,e7.Z)({pinKey:{type:"deprecated",data:n}});return er?(window.location.assign(ed),(0,K.jsx)(r.Fragment,{})):(0,K.jsx)(a_,{...e,abortNoActionPlacementTimeout:O,calculatedImageHeight:z,clientTrackingParams:e_,closeupWithinMasonryEnabled:ew,conversationOpen:J,experimentsClient:h,getSterlingURL:ea,getStringifiedCommerceAuxData:q,i18n:y,initialState:eK,isCloseupMediaViewerOpen:A,isCommentAttachmentSelectorOpen:P,isCommentComposerFocused:w,isCommentOverflowPopoverOpen:I,isCommentThreadExpanded:j,isEligibleForStaticImageIdeaPin:eI,isMediaViewerOpen:R,isRelatedPins10PercentVisible:H,isShoppingModuleExpanded:M,landingContext:ep,location:en,logContextEvent:l,mainImage:eC(),onHandleBackButtonClick:ey,orbacActingAs:ee,peekCloseupEnabled:!ew,pinFormattedLink:eu,pwtSurfaceContext:el,relatedPinsContainerRef:N,requestContext:k,setAbortNoActionPlacementTimeout:V,setCalculatedImageHeight:B,setIsCloseupMediaViewerOpen:Z,setIsCommentAttachmentSelectorOpen:S,setIsCommentComposerFocused:T,setIsCommentOverflowPopoverOpen:C,setIsCommentThreadExpanded:L,setIsMediaViewerOpen:D,setIsShoppingModuleExpanded:E,setMostRecentPinId:$,setMostRecentPinImage:G,shouldFetchSLURPFields:eT,toastManager:et,trackInteraction:f,trendsData:{data:eb,isLoaded:!eS||eF},userBusinessRoleResource:eP,verticalNavWidth:U})});function ah(e){let a=(0,ef.Z)({name:"StoryPinTaggedProductsResource",options:{noCache:!0,id:e.pin.id}});return(0,K.jsx)(ay,{...e,storyPinTaggedProductsResource:a})}var af=l(877956),ak=l(390843),ax=l(169053);function av(e){let{previous:a}=(0,ak.Hv)(),l=0===a.length,{children:n}=e,i=(0,o.TH)(),t=(0,S.Z)(),r=(0,s.I0)(),{isBot:d}=(0,v.B)(),{dropdownOpen:u}=(0,ao.Z)(),c=(0,ax.AF)(),p=!!c[e.pinId]&&(c[e.pinId].saved||!!c[e.pinId].savedInfo),g=c[e.pinId]||e.pinResource.data||{},m=e.pinResource.data?.story_pin_data?.pages?.[0]?.blocks?.[0]?.video,_=g?.story_pin_data?.pages?.[0]?.blocks?.[0];m&&_&&!_?.video&&((g?.story_pin_data?.pages?.[0]?.blocks?.[0]).video=m);let y="inbox"===(0,ev.mB)(i.search).tab;return n({isLandingPage:l,isLimitedLogin:!!t.isAuth&&t.isLimitedLogin,didRepin:p,openInbox:u,pin:g,shouldShowInbox:y,updateExperienceForPlacement:e=>{r((0,af.pz)([e],d))}})}var aP=l(115939),aS=l(399656),ab=l(369416);let aF=`
      ::view-transition-group(image),
      ::view-transition-group(video) {
        animation-timing-function: cubic-bezier(0.55, 0, 0, 1);
      }
      ::view-transition-old([view-transition-name="video"]) {
        display: none;
      }
      ::view-transition-new([view-transition-name="video"]) {
        animation: none;
      }
    `,aw=function({children:e}){return(0,K.jsxs)(r.Fragment,{children:[(0,K.jsx)(ab.Z,{unsafeCSS:aF}),e]})};var aT=l(67484),aI=l(318215),aK=l(688170);let aC=({pathname:e})=>/^\/pin\/[\w-]+\/activity\/tried\/?$/.test(e),aj=e=>!!e&&((0,aK.C)(e)||aC(e)),aL=e=>e.map(e=>aj(e.location)).find(e=>!0===e)??!1;var aA=l(785873),aZ=l(669442);function aR(e,a=!1){let l=e||window.location.href;(0,aA.Z)(`/login?next=${a?(0,aZ.Z)(l,{type:"signup"}):encodeURIComponent(l)}`)}var aD=l(469978),aM=l(288910),aE=l(990103);let az=(0,I.Z)(()=>l.e("8479").then(l.bind(l,702042)),void 0,e=>702042,"app-common-react-components-StatusPin-StatusPinCloseup"),aB=e=>({isVideoPin:!!e&&(0,e3.iR)(e)});function aO({checkExperiment:e,clientTrackingParams:a,currentHistoryStack:l,history:n,location:i,params:t,pinResource:s,requestContext:o,searchPinCloseupViewed:d,goToCampaignCreation:u,showRepin:c,CloseupComponent:p,...g}){let m=s.data,_=s.isLoaded,y=(0,r.useRef)(null),h=(0,S.Z)(),f="id"in h?h.id:"",k=_&&m&&m.pinner&&h.isAuth&&h.username===m.pinner.username&&_&&m&&"extension"===m.method,{trafficSource:x,topLevelTrafficSource:v,topLevelTrafficSourceDepth:P,contextPinIds:b}=(0,aP.Z)(l,h.isAuth);P>1&&"pin"!==x&&(0,eF.nP)("p2p.traffic_source.client",{sampleRate:.1,tags:{trafficSource:x,topLevelTrafficSource:v,topLevelTrafficSourceDepth:P}});let F=(0,aK._)(l),w=(0,ev.mB)(i.search);(0,r.useEffect)(()=>{y.current!==m&&function({history:e,isBot:a,location:l,viewerId:n,viewerIsAuth:i}){!a&&n&&"undefined"!=typeof window&&(0,aD.U)(window.location,n,!1,i,a=>e.replace(a,l.state))}({history:n,isBot:o.isBot,location:i,viewerId:f,viewerIsAuth:h.isAuth}),y.current=m},[n,i,y,m,o.isBot,h.isAuth,h,f]),(0,r.useEffect)(()=>()=>{F&&m?.id&&d(m.id,F)},[m?.id,F,d]);let T=(0,r.useMemo)(()=>({viewType:3,viewParameter:(0,em.Z)({hasPin:!!m,hasPinRichMetadata:!!m?.rich_metadata,hasPinRichMetadataProducts:!!m?.rich_metadata?.products,hasPinRichMetadataArticle:!!m?.rich_metadata?.article,hasPinRichMetadataRecipe:!!m?.rich_metadata?.recipe,hasPinStoryPinData:!!m?.story_pin_data})}),[m]),I=(0,r.useMemo)(()=>({featuredCommentId:t.comment_id||""}),[t.comment_id]);return(0,K.jsx)(aT.Q,{value:I,children:(0,K.jsx)(aM.v,{value:T,children:(0,K.jsx)(eL.f,{children:(0,K.jsx)(aw,{children:(0,K.jsx)(aI.Ig,{children:(0,K.jsx)(av,{pinId:t.id||"",pinResource:s,children:({isLandingPage:e,isLimitedLogin:i,didRepin:r,openInbox:o,pin:d,shouldShowInbox:_,updateExperienceForPlacement:y})=>(0,K.jsx)(p,{clientTrackingParams:a,contextPinIds:b,conversation_id:w.conversation_id,deepLinkBackGoesToBoard:k,didRepin:r,emailId:w.e_t,forceSendFeedback:w.fsf,goBack:function({boardUrl:e,currentHistoryStack:a,history:l,isFromExtension:n=!1,hasViewerPartner:i}){return()=>aL(a)||n?n&&1===a.length?void l.push(e??""):void l.goBack():void(i?l.push("/homefeed/"):l.push("/"))}({boardUrl:m?.board?.url,currentHistoryStack:l,history:n,isFromExtension:!!k,hasViewerPartner:!!("partner"in h&&h.partner)}),goToCampaignCreation:u,isLandingPage:e,isLimitedLogin:i,messageId:w.message,onLoginClick:aR,openInbox:o,pin:d,pinDerivedData:aB(d),pinId:t.id??"",pinResource:s,routePush:n.push,searchQuery:F,senderId:w.sender,shouldShowInbox:_,showRepinOnInitialRender:c,topLevelTrafficSource:v,topLevelTrafficSourceDepth:P,trafficSource:x,updateExperienceForPlacement:y,viewer:h,...g})})})})})})})}function aV(e){let{pinResource:a}=e,l=a.data,{is_hidden:n,is_unsafe:i}=l||{},t=l?.story_pin_data?.has_product_pins,r=(0,eo.Z)({isHiddenPin:n,isUnsafePin:i}),s=ay;return r&&t&&(s=ah),(0,K.jsx)(aO,{...e,CloseupComponent:s})}function aU(e){let a=(0,s.I0)(),l=(0,S.Z)(),n=(0,o.UO)(),i=(0,ak.aX)(),t={...e,history:(0,o.k6)(),location:(0,o.TH)(),params:n,requestContext:(0,v.B)(),searchPinCloseupViewed:(e,l)=>a((0,aE.Y4)(e,l))},{checkExperiment:d}=(0,x.F)();return(0,K.jsx)(aS.Z,{orbacSubjectId:(0,F.lJ)(l,(0,b.Z)()),pinId:n.id||"",children:({pinResource:e})=>{let a=e&&e.data;return a&&(0,e3._J)(a.video_status)?(0,K.jsx)(az,{pinKey:{type:"deprecated",data:a},...t}):(0,r.createElement)(aV,{...t,key:n.id,checkExperiment:d,currentHistoryStack:i,pinResource:e})}})}},133626:function(e,a,l){l.d(a,{Z:()=>P});var n=l(667294),i=l(883119),t=l(592821),r=l(139707),s=l(73579),o=l(878709),d=l(974446),u=l(93966),c=l(776250),p=l(67831),g=l(159527),m=l(341742),_=l(535701),y=l(747859),h=l(368974),f=l(230543),k=l(44344),x=l(603316),v=l(785893);function P({pin:e,pinResource:a,topLevelTrafficSource:l,firstLoadComplete:P,relatedModulesContent:S,onWrapperClick:b,beforeBodyContent:F,afterBodyContent:w,isVideoPin:T,bodyContent:I,backButton:K}){let C=(0,p.E)(),{closeupWithinMasonryEnabled:j,peekCloseupEnabled:L,viewportSize:A}=(0,y.x4)(),{mainImage:Z}=(0,o.r)(),{sideBySideRedesignFastFollowsEnabled:R}=(0,r.Z)(),D=(0,f.t)(),{isAuth:M}=(0,_.Z)(),{error:E}=a,{story_pin_data_id:z}=e||{},[B,O]=(0,n.useState)(j||!T);(0,n.useEffect)(()=>{let e=B?void 0:setTimeout(()=>O(!0),1e3*!j);return()=>clearTimeout(e)},[j,B]);let{isEligibleForStaticImageIdeaPin:V}=(0,s.Z)(e.story_pin_data_id),U=(0,n.useRef)(null),N=(0,n.useRef)(null),[H,W]=(0,n.useState)(void 0),$=u.yF+u.oX,G=Math.floor((H??1)/$),q=$*G-u.oX,X=(0,n.useCallback)(()=>{U.current&&N.current&&W(window.innerWidth)},[]);(0,k.Z)(()=>{window&&(0,x.nP)("web.closeup.closeup_redesign.handleResize",{sampleRate:.1,tags:{sideBySideEnabled:R,isStoryPin:!!z,isVideoPin:T,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}),L&&X()},U),(0,m.Z)(()=>{window&&(0,x.nP)("web.closeup.closeup_redesign.initialRender",{sampleRate:.1,tags:{sideBySideEnabled:R,isStoryPin:!!z,isVideoPin:T,windowHeight:window.innerHeight,windowWidth:window.innerWidth}})}),(0,n.useEffect)(()=>{L&&X()},[X,L]);let[Y,Q]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=(0,g.Z)(function(){Z&&window&&(window.scrollY>Z.height?Q(!0):Q(!1))},150);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[Z]);let{maxWidth:J}=(0,t.Re)();if(Object.keys(e).length,E)return(0,v.jsx)(h.Z,{});let ee=!!z&&!V,ea=B&&S,el=(0,c.Z)({hasPin:!!e,hasPinRichMetadata:!!e?.rich_metadata,hasPinRichMetadataProducts:!!e?.rich_metadata?.products,hasPinRichMetadataArticle:!!e?.rich_metadata?.article,hasPinRichMetadataRecipe:!!e?.rich_metadata?.recipe,hasPinStoryPinData:!!e?.story_pin_data}),en=(0,v.jsx)("div",{ref:N,className:"Closeup Module","data-test-id":P?"closeup-data-loaded":"",onClick:e=>{!M&&(ee||b(e),C&&C?.abort("closefakemodal"))},role:"presentation",style:{cursor:M?void 0:"zoom-out",display:"flex",width:"100%",maxWidth:J,margin:L?"0 auto":void 0},children:(0,v.jsxs)(i.kC,{alignItems:"stretch",direction:"row",flex:"grow",justifyContent:"center",children:[L?(0,v.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:"column"}},display:"flex",marginTop:5,children:[K,F]}):(0,v.jsx)(n.Fragment,{children:F}),I,w]})},"closeup-content");return(0,v.jsx)(i.xu,{ref:U,width:"100%",children:(0,v.jsxs)(i.kC,{direction:j?"row":"column",justifyContent:"center",children:[!j&&en,j&&(K||F)&&(0,v.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",marginStart:4,children:(0,v.jsxs)(i.Le,{top:D+2,children:[K,(0,v.jsx)(i.xu,{"aria-hidden":Y,dangerouslySetInlineStyle:{__style:{transition:"opacity 300ms ease-in-out"}},opacity:+!Y,children:F})]})}),(0,v.jsx)(i.kC.Item,{flex:"grow",children:(0,v.jsxs)(i.xu,{alignItems:"stretch",dangerouslySetInlineStyle:{__style:{paddingRight:j?"80px":void 0}},direction:"column",display:"flex",justifyContent:"center",paddingX:4*!j,width:"100%",children:[L&&q&&"lg"!==A&&(0,v.jsx)(i.kC.Item,{alignSelf:"center",children:(0,v.jsx)(d.Z,{moduleWidth:q,pinKey:{type:"deprecated",data:e},trafficSource:l,viewParameter:el})}),ea]})})]})})}},39599:function(e,a,l){l.d(a,{Z:()=>s});var n=l(883119),i=l(181993),t=l(525839),r=l(785893);function s(){let e=(0,t.ZP)();return(0,r.jsxs)(n.xu,{paddingY:16,children:[(0,r.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,r.jsx)(n.xv,{align:"center",size:"500",weight:"bold",children:e.bt("You've reached the end", "You've reached the end", "closeup.filteredFeed.enfOfFeed.title", undefined, true)}),(0,r.jsx)(n.xv,{align:"center",children:e.bt("Try removing a few filters to help us show more results.", "Try removing a few filters to help us show more results.", "closeup.filteredFeed.enfOfFeed.actionOne", undefined, true)})]}),(0,r.jsx)(i.Z,{})]})}},623113:function(e,a,l){l.d(a,{Z:()=>s});var n=l(883119),i=l(181993),t=l(525839),r=l(785893);function s(){let e=(0,t.ZP)();return(0,r.jsx)(n.xu,{paddingY:16,children:(0,r.jsxs)(n.kC,{alignItems:"center",direction:"column",gap:4,children:[(0,r.jsx)(n.xv,{align:"center",size:"500",weight:"bold",children:e.bt("No results found", "No results found", "closeup.filteredFeed.noResultsFound.title", undefined, true)}),(0,r.jsx)(n.xv,{align:"center",children:e.bt("Try removing a few filters to help us show more results.", "Try removing a few filters to help us show more results.", "closeup.filteredFeed.noResultsFound.actionOne", undefined, true)}),(0,r.jsx)(i.Z,{})]})})}},77969:function(e,a,l){l.d(a,{Z:()=>_});var n=l(762802),i=l(878709),t=l(704088),r=l(355940),s=l(318215),o=l(176465),d=l(776250),u=l(123998),c=l(747859),p=l(78762),g=l(785893);let m=(0,p.Z)(()=>Promise.resolve().then(l.bind(l,437320)),{ssr:!1},e=>437320,"ExperienceHeroCommon"),_=function({abortNoActionPlacementTimeout:e,classProps:a,classState:l,commerceData:p,showCloseupContentRight:_,showProductDetailPage:y,paneWidth:h,maxWidth:f,descriptionPaneWidth:k,handleCarouselSwipe:x,handleFocus:v,setIsCommentAttachmentSelectorOpen:P,setIsCommentComposerFocused:S,setIsCommentOverflowPopoverOpen:b,setIsCommentThreadExpanded:F,setIsCloseupMediaViewerOpen:w,setIsMediaViewerOpen:T,setIsProductDetailsExpanded:I,setIsShoppingModuleExpanded:K,handleBackButtonClick:C,closeupContent:j,isCommentAttachmentSelectorOpen:L,isCommentComposerFocused:A,isCommentOverflowPopoverOpen:Z,isCommentThreadExpanded:R,isCloseupMediaViewerOpen:D,isMediaViewerOpen:M,isProductDetailsExpanded:E,isShoppingModuleExpanded:z,closeupWithinMasonryEnabled:B,peekCloseupEnabled:O,setAbortNoActionPlacementTimeout:V,clientTrackingParams:U,calculatedImageHeight:N,setCalculatedImageHeight:H}){let{pin:W,pinId:$}=a,{visualState:{carouselData:G,mainImage:q,previewImage:X},viewportSize:Y}=l;return(0,g.jsx)(c.ZP,{value:(0,c.Nb)({showCloseupContentRight:_,showProductDetailPage:y,viewportSize:Y,paneWidth:h,maxWidth:f,descriptionPaneWidth:k,isCommentAttachmentSelectorOpen:L,isCommentComposerFocused:A,isCommentOverflowPopoverOpen:Z,isCommentThreadExpanded:R,isCloseupMediaViewerOpen:D,isMediaViewerOpen:M,isProductDetailsExpanded:E,isShoppingModuleExpanded:z,setIsCommentAttachmentSelectorOpen:P,setIsCommentComposerFocused:S,setIsCommentOverflowPopoverOpen:b,setIsCommentThreadExpanded:F,setIsCloseupMediaViewerOpen:w,setIsMediaViewerOpen:T,setIsProductDetailsExpanded:I,setIsShoppingModuleExpanded:K,closeupWithinMasonryEnabled:B,peekCloseupEnabled:O,setAbortNoActionPlacementTimeout:V,clientTrackingParams:U,calculatedImageHeight:N,setCalculatedImageHeight:H}),children:(0,g.jsxs)(i.A,{overrideValue:{mainImage:q,previewImage:X,carouselInfo:G&&{carouselData:G,handleCarouselSwipe:x,viewType:D?675:3,componentType:W.is_eligible_for_pdp?14186:85,viewParameter:(0,d.Z)({hasPin:!0,hasPinRichMetadata:!!W.rich_metadata,hasPinRichMetadataProducts:!!W.rich_metadata?.products,hasPinRichMetadataArticle:!!W.rich_metadata?.article,hasPinRichMetadataRecipe:!!W.rich_metadata?.recipe,hasPinStoryPinData:!!W.story_pin_data})}},pinKey:{type:"deprecated",data:W},children:[(0,g.jsx)(s.k6,{placementId:1000141}),(0,g.jsx)(s.k6,{placementId:1000499}),(0,g.jsx)(s.H6,{placementId:1000140}),(0,g.jsx)(s.OR,{abortNoActionPlacementTimeout:e,extraContext:{pin_id:$,is_promoted:W.is_promoted},placementId:1000564}),(0,g.jsx)(s.iH,{placementId:12}),(0,g.jsx)(s.b9,{placementId:12}),(0,g.jsx)(s.nj,{placementId:12}),(0,g.jsx)(s._f,{placementId:12}),(0,g.jsx)(t.Z,{placementId:12}),(0,g.jsx)(u.Z,{auxData:p,clientTrackingParams:U,objectId:$,view:3,viewParameter:(0,o.Z)(a)?(0,d.Z)({hasPin:!!W,hasPinRichMetadata:!!W.rich_metadata,hasPinRichMetadataProducts:!!W.rich_metadata?.products,hasPinRichMetadataArticle:!!W.rich_metadata?.article,hasPinRichMetadataRecipe:!!W.rich_metadata?.recipe,hasPinStoryPinData:!!W.story_pin_data}):void 0,children:(0,g.jsxs)("div",{className:"reactCloseupScrollContainer","data-test-id":"closeup-layout",onFocus:v,children:[(0,g.jsx)(r.Z,{name:"SafeSuspense_Closeup_ExperienceHero",children:(0,g.jsx)(m,{placementId:12})}),(0,g.jsx)(s.O9,{placementId:12}),j,!M&&!D&&!L&&!B&&(0,g.jsx)(n.Z,{onClose:C}),(0,g.jsx)(s.RK,{placementId:12})]})})]})})}},589183:function(e,a,l){l.r(a),l.d(a,{default:()=>k});var n=l(667294),i=l(616550),t=l(883119),r=l(592821),s=l(142689),o=l(980787),d=l(662490),u=l(127753),c=l(274320),p=l(490186),g=l(940280),m=l(341742),_=l(747859),y=l(8258),h=l(78187),f=l(785893);function k({filter:e,story:a,viewParameter:l}){let{logContextEvent:k}=(0,o.v)(),x=(0,i.k6)(),{pathname:v,search:P}=(0,i.TH)(),{closeupWithinMasonryEnabled:S}=(0,_.x4)(),{checkExperiment:b}=(0,c.F)(),F=new URLSearchParams(P).get("f"),w=b("web_skin_tone_filters_closeup_migration",{dangerouslySkipActivation:!0}).anyEnabled,{inInclusiveEfficientRefinements:T}=(0,s.Z)(e),I="skin_tone"===e?13863:13864,K="skin_tone"===e?13803:14935,C="skin_tone"===e?10418:13358,{custom_properties:j,title:L}=a;(0,m.Z)(()=>{k({element:C,event_type:13,component:I,view_type:3,view_parameter:l,aux_data:{story_type:I}})});let A=("skin_tone"===e&&w?j?.skin_tone_filter_list:(0,u.ZP)(e,j))||[];if(!A||A.length<1)return null;let{format:Z="",args:R=[]}=L||{},{query:D=""}=R[0]||{},M=a=>{let n=w?a:(0,d.Z)(a,e);if(D&&k({element:C,view_type:3,view_parameter:l,event_type:101,component:K,aux_data:{entered_query:D,filter_value:n,story_type:I}}),T){let e=n?`?f=${n}`:"";F&&F===n?x.push(v):x.replace(`${v}${e}`)}else{let e=(0,p.Z)({query:D,rs:g.i.TYPED||"",scope:"pins",filters:n});x.push(e)}},E="hair_pattern"===e,z=S?h.P.CLOSEUP_FEED:h.P.CLOSEUP_STACKED,B=T?h.P.CLOSEUP_RESPONSIVE:z;return(0,f.jsx)(n.Fragment,{children:S&&!T?(0,f.jsx)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{border:r.tc,gap:"12px"}},direction:"column",display:"flex",justifyContent:"center",padding:4,rounding:6,children:(0,f.jsx)(y.Z,{filters:A,headerTitle:Z??"",moduleType:h.P.CLOSEUP_FEED,onClickApplyFilters:M,query:E?D:void 0,showHairPatternEducationIcon:E,type:e,viewParameter:l,viewType:3})}):(0,f.jsx)(y.Z,{currentlyAppliedFiltersParamTerm:T?F:void 0,filters:A,headerTitle:Z??"",moduleType:B,onClickApplyFilters:M,query:E?D:void 0,showHairPatternEducationIcon:E,type:e,viewParameter:l,viewType:3})})}},728371:function(e,a,l){l.d(a,{Z:()=>_});var n=l(667294),i=l(633301),t=l(883119),r=l(149739),s=l(525839),o=l(369416),d=l(747859),u=l(238187),c=l(937314),p=l(785893);let g=e=>e?"200":r.n;function m({isDarkMode:e,onPress:a,testID:l,label:n,peekCloseupEnabled:i,withShadow:s}){return(0,p.jsxs)(t.xu,{dangerouslySetInlineStyle:{__style:{background:e?"black":"white"}},"data-test-id":l,display:"inlineBlock",position:"relative",children:[s&&(0,p.jsx)(t.xu,{dangerouslySetInlineStyle:{__style:{background:e?"linear-gradient(90deg, rgba(0, 0, 0, 0) 0%, black 100%)":"linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, white 100%)",right:"100%"}},height:"100%",position:"absolute",width:"48px"}),(0,p.jsx)(t.iP,{fullWidth:!1,onTap:a,children:(0,p.jsxs)(t.xv,{size:i?"200":r.n,weight:"bold",children:["\xa0...\xa0",n]})})]})}function _({children:e,isDarkMode:a,descriptionDir:l}){let r=(0,n.useRef)(null),[_,y]=(0,n.useState)(0),[h,f]=(0,n.useState)(0),[k,x]=(0,n.useState)(!0),[v,P]=(0,n.useState)(!1),[S,b]=(0,n.useState)(!1),[F,w]=(0,n.useState)(!1),T=(0,s.ZP)(),{closeupWithinMasonryEnabled:I,peekCloseupEnabled:K}=(0,d.x4)(),C=I||K,j=C?1:3,L=600*!!C;(0,n.useEffect)(()=>{if(r.current&&k){let e,a=(0,u.xW)(r.current),l=(e=r.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth;P(()=>!!l&&(r.current&&(r.current.style.webkitLineClamp="unset",f(r.current?.scrollHeight??0),r.current.style.webkitLineClamp=j.toString()),!0)),x(!1),w(a>=j&&l),y(r.current?.clientHeight)}},[k,x,j,_,h,v]);let A=`${_}px`,Z=`${_+h}px`,R=`
    .TruncatedDescription-enter{
      max-height: ${A};
    }
    .TruncatedDescription-enter-active {
      max-height: ${Z};
      transition: max-height ${L}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-enter-done {
      max-height: ${Z};
    }
    .TruncatedDescription-exit {
      max-height: ${Z};
    }
    .TruncatedDescription-exit-active {
      max-height: ${A};
      transition: max-height ${L}ms cubic-bezier(.25,1,.5,1);
    }
    .TruncatedDescription-exit-done {
      max-height: ${A};
    }
    [data-test-id="truncated-description"] div[role=button] {
      outline-offset: -2px;
      outline-width: 2px;
    }
  `,D=e=>b(e),M=e=>{let l=e?T.bt("more", "more", "storyPin.previewText.more", undefined, true):T.bt("less", "less", "storyPin.previewText.less", undefined, true);return(0,p.jsx)(m,{isDarkMode:a,label:l,onPress:()=>D(e),peekCloseupEnabled:K,testID:`${e?"more":"less"}-description-container`,withShadow:e&&C})},E=(0,n.useRef)(null);return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(o.Z,{unsafeCSS:R}),(0,p.jsx)(i.Z,{classNames:"TruncatedDescription",in:S,nodeRef:E,onEnter:()=>P(!1),onExited:()=>P(!0),timeout:L,children:(0,p.jsx)(t.xu,{ref:E,"data-test-id":"truncated-description",flex:"grow",overflow:C?"hidden":"visible",position:"relative",width:I?"100%":void 0,children:(0,p.jsx)(c.Z,{dir:l,children:(0,p.jsxs)(t.xv,{ref:r,align:"ltr"===l?"forceLeft":void 0,lineClamp:k||v?j:0,size:g(K),children:[e,F?(0,p.jsxs)(n.Fragment,{children:[S&&M(!1),(0,p.jsx)(t.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transition:C?"opacity 200ms ease-in-out":void 0,visibility:v?"visible":"hidden"}},opacity:+!!v,position:"absolute",right:!0,children:M(!0)})]}):null]})})})})]})}},998951:function(e,a,l){l.d(a,{Z:()=>n});function n(e){return"string"==typeof e&&("function"==typeof e.replaceAll?e.replaceAll(" ",""):e.replace(/ /g,"")).length>0}},267886:function(e,a,l){l.d(a,{Z:()=>r});var n=l(785893);let i={cursor:"auto"},t=e=>{e.stopPropagation()};function r({className:e,children:a}){return(0,n.jsx)("div",{className:e,onClick:t,role:"presentation",style:i,children:a})}},34390:function(e,a,l){l.d(a,{k:()=>v,Z:()=>S});var n,i=l(667294);l(422578);var t=l(883119),r=l(995415),s=l(592821),o=l(525839),d=l(417245),u=l(785893);let c=(e,a)=>(0,d.Z)(a.bt("Visit {{domain}}", "Visit {{domain}}", "Accessible label for clickthrough link button", undefined, true),{domain:e}),p=({domain:e,fontSize:a="200",fullWidth:l=!0,textNode:n})=>{let i=c(e,(0,o.ZP)());return(0,u.jsx)(t.xu,{color:"secondary","data-test-id":"link-icon-with-domain-styles-wrapper",padding:2,rounding:2,width:l?"100%":void 0,children:(0,u.jsx)(t.st,{children:(0,u.jsxs)(t.xu,{alignItems:"center","data-test-id":"link-icon-with-domain-styles",display:"flex",justifyContent:"start",padding:1,children:[(0,u.jsx)(t.xu,{paddingX:1,children:(0,u.jsx)(t.JO,{accessibilityLabel:i,color:"default",icon:"arrow-up-right",inline:!0,size:15})}),(0,u.jsx)(t.xu,{paddingX:1,children:n||(0,u.jsx)(t.xv,{inline:!0,size:a,weight:"bold",children:(0,s.ff)(e)})})]})})})};var g=l(318215),m=l(779548),_=l(115247),y=l(611282),h=l(790427),f=l(25837);let k=({children:e,clientTrackingParams:a,isPulsarDisplayed:l,onCompleteClick:n,zIndex:r,onClick:s,to:o,pin:d})=>{let c=(0,i.useRef)(null),p=(0,y.Z)({href:{pathname:o??"",state:{trackingParams:a}},clientTrackingParams:a,target:"blank",externalData:{pin:d&&{attributionSourceId:d.attributionSourceId,board:d.board&&{url:d.board.url},campaignId:d.campaignId,entityId:d.entityId,isDownstreamPromotion:d.isDownstreamPromotion,isPromoted:d.isPromoted,pinner:d.pinner&&{username:d.pinner.username},pinPromotionId:d.pinPromotionId,promoter:d.promoter&&{entityId:d.promoter.entityId},storyPinDataId:d.storyPinDataId,trackingParams:d.trackingParams,advertiserId:d.advertiserId}}});return(0,u.jsx)(g._7,{anchor:".PinActionBar .website.pinActionBarButton, .linkModuleActionButton",anchorElementRef:c.current,isHidden:!l,onCompleteClick:n,zIndex:r,children:(0,u.jsx)(t.Tg,{ref:c,fullWidth:!1,href:o??"",onTap:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),s?.(e),p({event:e})},rel:"nofollow",children:(0,u.jsx)("div",{className:"linkModuleActionButton",children:e})})})},x=({actionBarHeight:e,children:a,setPulsarVisibility:l})=>(0,u.jsx)(_.Z,{onVisibilityChange:e=>{l(e.slice(-1)[0].isIntersecting)},options:{rootMargin:`-${e+f.hu}px 0px 0px 0px`,threshold:.75},children:e=>(0,u.jsx)(t.xu,{ref:e,children:a})}),v=e=>{let a=(0,o.ZP)(),{clientTrackingParams:i,children:s,isPulsarDisplayed:d,onClickThrough:c,pinKey:g,showDomainInLink:_,zIndex:y}=e,h=(0,m.Z)(void 0!==n?n:n=l(326342),g);if(!(h.link&&!h.link.startsWith("https://i.pinimg.com")))return null;let f=a.bt("Visit", "Visit", "Default pin link button text", undefined, true);!h.linkDomain||h.richMetadata?.recipe?.fromAggregatedData?f=h.link&&!h.link.startsWith("https://i.pinimg.com")?a.bt("Visit", "Visit", "Generalized pin link button text", undefined, true):a.bt("Open", "Open", "Button text for pin without link to view media", undefined, true):h.richMetadata?.products&&h.richMetadata.products.length>0?f=a.bt("Visit", "Visit", "Buyable pin link button text", undefined, true):h.richMetadata?.tutorial?.name?f=a.bt("Visit", "Visit", "Make pin link button text", undefined, true):h.richMetadata?.recipe?.name?f=a.bt("Make it", "Make it", "Recipe pin link button text", undefined, true):h.richMetadata?.article?.name?f=a.bt("Read it", "Read it", "Article pin link button text", undefined, true):h.link&&h.link.startsWith("https://i.pinimg.com")&&(f=a.bt("Open", "Open", "Button text for pin without link to view media", undefined, true));let{carouselLink:x,currentDomain:v}=(0,r.Z)({carouselData:h.carouselData&&{carouselSlots:h.carouselData.carouselSlots&&h.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:h.carouselData?.index},domain:h.domain});return(0,u.jsx)(k,{clientTrackingParams:i,isPulsarDisplayed:d,onClick:c,onCompleteClick:c,pin:h,to:x||h.link||h.imageSpec_orig?.url||"",zIndex:y,children:s||(_?(0,u.jsx)(p,{domain:v}):(0,u.jsx)(t.zx,{fullWidth:!0,size:"md",text:f}))})},P=({actionBarHeight:e,...a})=>{let[l,n]=(0,i.useState)(!0);return(0,u.jsx)(t.xu,{width:"100%",children:(0,u.jsx)(x,{actionBarHeight:e||0,setPulsarVisibility:n,children:(0,u.jsx)(t.xu,{display:"inlineBlock",children:(0,u.jsx)(v,{isPulsarDisplayed:l,zIndex:h.qW,...a})})})})},S=e=>(0,u.jsx)(t.kC,{alignItems:"center",justifyContent:"start",children:(0,u.jsx)(t.xu,{children:(0,u.jsx)(P,{...e})})})},101332:function(e,a,l){l.d(a,{Z:()=>y});var n,i=l(667294);l(167912);var t=l(883119),r=l(592821),s=l(995415),o=l(34390),d=l(149739),u=l(318215),c=l(779548),p=l(453179),g=l(747859),m=l(785893);let _=void 0!==n?n:n=l(823604);function y({actionBarHeight:e,isStoryPin:a,legoLinkClickthroughAnchorRef:l,onClickThrough:n,pinKey:y}){let h=(0,i.useRef)(null),{closeupWithinMasonryEnabled:f,peekCloseupEnabled:k,clientTrackingParams:x}=(0,g.x4)(),v=(0,c.Z)(_,y),{currentDomain:P}=(0,s.Z)({carouselData:v.carouselData&&{carouselSlots:v.carouselData.carouselSlots&&v.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:v.carouselData?.index},domain:v.domain});return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsxs)(t.xu,{display:"inlineBlock",marginTop:!f&&(0,p._S)(P)?k?2:6:0,position:"relative",width:"100%",children:[(0,m.jsx)(o.Z,{actionBarHeight:e,clientTrackingParams:x,onClickThrough:n,pinKey:v,showDomainInLink:!0,children:(0,m.jsx)(t.xu,{ref:h,dangerouslySetInlineStyle:{__style:{textDecoration:"underline"}},children:(0,m.jsx)(t.xv,{size:k?"200":d.n,weight:f?"bold":"normal",children:(0,r.ff)(P)})})}),a&&(0,m.jsx)(u.Qp,{anchor:h.current,experienceIds:[504729],flyoutSize:"md",placementId:1000167,showCaret:!0,textAlign:"center",textWeight:"normal"})]}),(0,m.jsx)(t.xu,{ref:l,marginEnd:f?0:-7,marginStart:6*!f,width:4})]})}},399656:function(e,a,l){l.d(a,{Z:()=>h});var n=l(667294),i=l(642411),t=l(980787),r=l(776250),s=l(67831),o=l(956077),d=l(886981),u=l(431338),c=l(647709),p=l(535701),g=l(653621);let m=({segment:e})=>g.GL.get(e)??new Set,_=({segment:e})=>{let a=m({segment:e});return new Set([...g.hO].filter(e=>!a.has(e)))},y=()=>{let e=(0,c.HG)(),{isAuth:a}=(0,p.Z)(),l=a&&e,n=(0,s.E)();return n?e=>{"DEFAULT"!==e&&n.setSegment(e),l&&_({segment:e}).forEach(e=>{n.removeConstraint(e),(0,o.l7)(e)})}:null};function h(e){let{logContextEvent:a}=(0,t.v)(),l=(0,s.E)(),c=y(),p=(0,d.Z)({name:"PinResource",options:(0,i.Z)(e.pinId,e.orbacSubjectId,e.addFields)}),g=p.data,m=(0,u.Z)(null!=g?{type:"deprecated",data:g}:null);return(0,n.useEffect)(()=>{if(g){let e=(0,r.Z)({hasPin:!!g,hasPinRichMetadata:!!g.rich_metadata,hasPinRichMetadataProducts:!!g.rich_metadata?.products,hasPinRichMetadataArticle:!!g.rich_metadata?.article,hasPinRichMetadataRecipe:!!g.rich_metadata?.recipe,hasPinStoryPinData:!!g.story_pin_data});a({event_type:7408,view_parameter:e,object_id_str:g.id,view_type:3,view_data:{pin_id:g.id,closeup_rich_types:g.shopping_flags||[]},aux_data:{...m()}}),g.aggregated_pin_data&&(g.aggregated_pin_data.is_shop_the_look||g.aggregated_pin_data.is_stela)&&a({event_type:7579,view_parameter:e,object_id_str:g.id,view_type:3,aux_data:{commerce_data:JSON.stringify({pin_is_shop_the_look:g.aggregated_pin_data.is_shop_the_look,pin_is_stela:g.aggregated_pin_data.is_stela})}}),(0,o.Nx)("resource"),l&&l.markConstraintComplete("resource");let n="DEFAULT";g.is_eligible_for_pdp?n=g.is_eligible_for_pdp_plus?"product_detail_page_plus":"product_detail_page":g.story_pin_data_id&&(n="story_pin"),"DEFAULT"!==n&&(0,o.Yl)(n),c&&c(n)}},[g,m]),e.children({pinResource:p})}},974446:function(e,a,l){l.d(a,{F:()=>j,Z:()=>A});var n,i,t,r,s=l(667294);l(167912);var o=l(883119),d=l(592821),u=l(581722),c=l(848171),p=l(779548),g=l(801082),m=l(351607),_=l(886981),y=l(647709),h=l(664897),f=l(535701),k=l(85363),x=l(766033),v=l(295429),P=l(611499),S=l(747859),b=l(607233),F=l(78762),w=l(785893);let T=(0,F.Z)(()=>Promise.resolve().then(l.bind(l,431870)),void 0,e=>431870,"app-packages-StructuredFeed-ModuleReps-CarouselModule-CarouselModule"),I=void 0!==n?n:n=l(263032),K=void 0!==i?i:i=l(220149),C=void 0!==t?t:t=l(650719);function j(e){let a=(0,f.Z)(),l=a&&a.isAuth,n=(0,y.HG)(),i=(0,x.Z)(),t=function({pinId:e}){return(0,u.v9)(({pinbuilder:a})=>{if(!e)return null;let{pinItems:l,pinTags:n}=a,i=l?.[e];if(!i)return null;let t=i.pinTagIds??[];if(0===t.length)return null;let r=t.map(e=>n?.[e]).filter(Boolean);return r.length>0?r:null})}({pinId:e}),r=(0,g.Z)({strategy:i?"GRAPHQL":"LEGACY",query:C,variables:{pinId:e,isDesktop:n,isAuth:l},options:{fetchPolicy:"network-only"},useGetLegacyData:({pinId:e})=>{let a=l?`/v3/visual_search/stela/pins/${e}/module/`:`/v3/seo/stela/pins/${e}/module/`;return(0,_.Z)({name:"ApiResource",noCache:!t,options:{url:a,data:{fields:(0,b.Z)()}}})}}),s=r?.v3GetStelaShoppingCarouselQuery?.__typename==="V3GetStelaShoppingCarousel"?r.v3GetStelaShoppingCarouselQuery:null,o=(0,p.Z)(K,s);return o?o.data:null}let L=({children:e,id:a,storyRef:n,viewParameter:i})=>{let t=void 0!==r?r:r=l(336209),{contentIds:s,displayOptions:d,slot:u,storyId:c,storyType:g,trackingParams:_}=(0,p.Z)(t,n),y=d?.contentDisplay?.componentType,h=(0,m.Z)({clientTrackingParams:_,componentType:y,contextLogData:{story_id:c,story_type:g,content_ids:s},impressionType:"Story",loggingId:c,slotIndex:u||0,viewParameter:i,viewType:3});return(0,w.jsx)(o.xu,{ref:h,marginTop:4,children:e},a)};function A({moduleWidth:e,pinKey:a,trafficSource:l,viewParameter:n}){let{isAuth:i}=(0,f.Z)(),t=(0,x.Z)(),{closeupWithinMasonryEnabled:r,peekCloseupEnabled:u,viewportSize:g}=(0,S.x4)(),m=(0,p.Z)(I,a),_=(0,s.useRef)(null),[y,b]=(0,s.useState)(e),F=j(m.entityId),K=F?.[0];((0,h.Z)()?s.useEffect:s.useLayoutEffect)(()=>{_.current&&b(_.current?.offsetWidth)},[F]);let C=t?null:function(e){let a=e?(0,c.G5)(e):null;return a&&"LegacyData"===a.kind?a.singularLegacyData:null}(K),A=(0,k.Z)({cropSource:5,isProductPage:!0,pinId:m.entityId,requestParams:K?.action?.requestParams??"",surfaceType:"stl",trafficSource:l}),Z=u&&"lg"===g?void 0:4,R=(()=>{if(!r&&!(u&&"lg"===g))return{};let e={paddingLeft:`${d.Gd}px`,paddingBottom:`${d.Gd}px`};return r?{...e,border:d.tc}:e})(),D=u&&"lg"===g,M=i?P.g9:0;return(0,w.jsx)(s.Fragment,{children:(0,w.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:e,children:(0,w.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:R},rounding:6*!!r,width:e,children:!!F&&F.length>0&&F.map(e=>{if(null==e)return null;let{action:a,containerType:l,storyId:t}=e;if(139!==l)return null;{let l=e.title?.format||"",s=i&&a?.url?a.url:A;return(0,w.jsx)(L,{id:t,storyRef:e,viewParameter:n,children:(0,w.jsx)(v.Z,{collapseByDefault:!1,displayViewState:null,headerPaddingRight:M,heading:l,surface:"ShoppingGridSmallCarousel",children:(0,w.jsx)(o.xu,{ref:_,marginTop:Z,children:(0,w.jsx)(T,{addContentRight:(0,w.jsx)(o.xu,{width:P.g9}),allowHover:!0,contentVisibleItemCountOverride:r&&"number"==typeof y?Math.floor((y+8)/175):void 0,dangerouslySetActionUrl:s,disableHeader:!0,itemWidth:r?175:void 0,itemWidthHeightRatio:1,productTagParentPinId:m.entityId,saveButtonOptions:r?{type:"inline"}:{type:"classic"},story:C,storyKey:e,styleOverrides:{buttonSizeOverride:"lg",carouselContainerMarginBottom:r?0:void 0,flexDirection:D?"column":"row",gutterWidth:d.Gd,justifyContent:"start",navigationFabSize:32,showPagination:r},surface:"ShoppingGridSmallCarousel",view:3,viewParameter:n,width:y})})})},t)}})})})})}},339055:function(e,a,l){l.d(a,{Z:()=>n});function n(e){if(!e)return"";let[a,l]=e.split(":");return a&&l?a.includes("skin_color")?JSON.stringify({10:{tab_option_selections:[l]}}):a.includes("hair_pattern")?JSON.stringify({11:{tab_option_selections:[l]}}):"":""}},115939:function(e,a,l){l.d(a,{Z:()=>r});var n=l(378888);let i=/^\/pin\/(.*[^\/])\/$/,t={"/":"feed_home","/homefeed":"feed_home","/pin/:id":"pin","/pin/:id/comments":"pin","/pin/:id/activity/tried":"pin","/pin/:id/activity/comments":"pin","/pin/:id/visual-search":"flashlight","/discover/article/:id":"explore_article","/discover/article/:title/:id":"explore_article","/topics/:interest":"feed_interest","/categories/:interest":"feed_category","/news_hub/:id":"notifications","/explore/:interest":"seo_auth","/interest/:id":"seo_auth","/search/:scope":"search","/following":"feed_following","/:username/pins":"user_pins","/:username/tried":"user_tries","/:username/:slug":"board","/:username/:slug/edit":"board","/:username/:slug/invite":"board","/:username/:slug/:section_slug":"board","/story_feed":"shop_feed"};function r(e,a){let l=["pin"],r=[],s=1,o="unknown",d="unknown",u=!0;for(let a=e.length-1;a>0;a-=1){let i=function(e,a){if(a<=0)return"unknown";let l=e[a-1],i=l?.match?.path||"",r=["stela","stl"].includes((0,n.mB)(l?.location?.search).surfaceType??"");return i&&"/pin/:id/visual-search"===i&&r?"shop_feed":i?t[i]||"unknown":"feed_home"}(e,a);l.splice(0,0,i),u&&("pin"===(o=i)?s+=1:u=!1)}for(let a=e.length-2;a>=0;a-=1){let l=(e[a]?.location?.pathname||"").match(i);if(l&&2===l.length)r.splice(0,0,l[1].split("/")[0]);else break}return 1===l.length?(d="deep_linking",o="deep_linking"):(d=l[l.length-2],"pin"===o&&(o="deep_linking")),"seo_auth"!==d||a||(d="seo_unauth"),"seo_auth"!==o||a||(o="seo_unauth"),("search"===d||"search"===o)&&e.length>=s+1&&"/search/buyable_pins/"===(e[e.length-s-1]?.location?.pathname||"")&&(o="shop_feed","search"===d&&(d="shop_feed")),{trafficSource:d,topLevelTrafficSource:o,topLevelTrafficSourceDepth:s,contextPinIds:r}}},642411:function(e,a,l){l.d(a,{Z:()=>n});let n=(e,a,l)=>({id:e,field_set_key:"auth_web_main_pin",add_fields:l?l.join(","):void 0,client_tracking_params:void 0,noCache:!0,fetch_visual_search_objects:!0,...a?{orbac_subject_id:a}:Object.freeze({})})},449930:function(e,a,l){l.d(a,{ZP:()=>u,fz:()=>d,o1:()=>o});var n=l(667294),i=l(592821),t=l(974446),r=l(747859);function s(e){return"object"==typeof e&&null!==e&&"type"in e&&"shopping_module"===e.type}let o=e=>"object"!=typeof e||null===e||!("virtualize"in e)||(e.virtualize??!0),d=e=>a=>{if(!e&&s(a)||e&&(s(a)||"object"==typeof a&&null!==a&&"type"in a&&"inclusive_filters_module"===a.type))return{min:2,max:9}};function u(e,a){let l=(0,t.F)(e),{closeupWithinMasonryEnabled:s}=(0,r.x4)(),[o,d]=(0,n.useState)(a);!o&&a&&d(a);let u=(0,n.useMemo)(()=>({...i.ne}),[]),c=(0,n.useMemo)(()=>({...i.tV}),[]),p=(0,n.useMemo)(()=>({...i.MB}),[]),g=l&&l.length>0,m=(0,n.useMemo)(()=>{let e=[u];return g&&e.push(c),o&&e.push(p),e},[u,g,o,c,p]);return s?{closeupMasonryModules:m,hasShoppingModule:g,inclusiveFilters:o}:{closeupMasonryModules:[],inclusiveFilters:void 0}}},735411:function(e,a,l){l.d(a,{Z:()=>s});var n=l(364732),i=l(607652),t=l(294868);let r=e=>{let a={...e.pin,...e.pinResource.data},l=(0,n.Z)({carouselData:a.carousel_data,images:a.images,product:(a.rich_metadata||a.rich_summary)?.products?.[0]});return{availableWidthForContentOnRight:!1,backButtonLabelFitInScreen:null,closeupBodyContainerHeight:0,closeupContainerHeight:0,firstLoadComplete:!1,didLongClickThrough:!1,didPinClickThrough:!1,didShortClickThrough:!1,didMountAfterSavePlacement:!1,isCloseupMaximized:!1,isCommentSectionOpen:!0,isOverRelatedPins:null,isRelatedInterestsBannerDismissed:!1,intervalId:null,landOnCurrentPage:!1,loginModalOptions:null,modalOpen:!1,myTry:e.pin?{isDoneByMe:!!e.pin.done_by_me}:null,newshubCloseupCapBackButtonCount:0,passScrollThreshold:!1,pin:a,pinId:e.pinId,campaignCreationTriggered:!1,relatedPinsUpsellShown:!1,showBackButton:!0,showProductDetailPage:!!a.is_eligible_for_pdp,shopping:{catalogId:-1,variantId:void 0},viewportSize:"lg",visualState:{carouselData:l&&{...l,index:e.pin.carousel_data?.index||0},mainImage:e.mainImage,previewImage:(0,t.Yf)(a.images?.["236x"])},v1DeprecationModalDismissed:!1}};function s(e){let{pin:a,pinId:l,pinResource:n}=e,{getMainPinImage:t}=(0,i.Z)({pinKey:{type:"deprecated",data:a}});return r({pin:a,pinId:l,pinResource:n,mainImage:t()})}},142689:function(e,a,l){l.d(a,{Z:()=>t});var n=l(139707),i=l(274320);function t(e){let{checkExperiment:a}=(0,i.F)(),{sideBySideRedesignFastFollowsEnabled:l}=(0,n.Z)(),t=l&&"skin_tone"===e&&a("web_closeup_inclusive_refinement",{dangerouslySkipActivation:!0}).anyEnabled,r=l&&"hair_pattern"===e&&a("web_closeup_hair_refinement",{dangerouslySkipActivation:!0}).anyEnabled;return{inInclusiveEfficientRefinements:!!(t||r)}}},446320:function(e,a,l){l.d(a,{Z:()=>d}),l(167912);var n,i=l(779548),t=l(274320),r=l(647709),s=l(535701);let o=void 0!==n?n:n=l(351090);function d({pinKey:e}){let{checkExperiment:a}=(0,t.F)(),l=(0,r.HG)(),n=(0,i.Z)(o,e),d=(0,s.Z)();if(!l||!d.isAuth)return{shouldFetchSLURPFields:!1,isInCloseupShoppingRefinementsExp:!1};let u=a("web_closeup_shopping_refinements_auth",{dangerouslySkipActivation:!0}).group;return{shouldFetchSLURPFields:!!u,isInCloseupShoppingRefinementsExp:!0===n.isEligibleForCloseupOneBarRefinements&&!1===n.isPromoted&&"enabled"===u}}},503543:function(e,a,l){l.d(a,{Z:()=>i});var n=l(21818);let i=(0,l(318215).RL)(12,(e,a)=>({pin_id:e.pinId,email_id:e.emailId,did_long_clickthrough:a.didLongClickThrough||!1,did_pin_clickthrough:a.didPinClickThrough||!1,did_repin:a.didRepin||!1,is_own_or_group_pin:a.is_own_or_group_pin||!1,login_page_type:a.loginPageType||"unknown",scroll_to_threshold:a.scrollToThreshold,pin_image_signature:a.pin_image_signature,is_creator_card_shown:!!(0,n.nU)({domain:e.pin.domain??"",hasLinkDomainOfficialUser:!!e.pin.link_domain?.official_user,hasLinkUserWebsiteOfficialUser:!!e.pin.link_user_website?.official_user,hasNativeCreator:!!e.pin.native_creator,hasThirdPartyPinOwner:!!e.pin.third_party_pin_owner,isPromoted:!!e.pin.is_promoted,pinnerDomainUrl:e.pin.pinner?.domain_url??"",pinnerDomainVerified:!!e.pin.pinner?.domain_verified}),creator_username:e.pin?.closeup_attribution?.full_name}))},149739:function(e,a,l){l.d(a,{n:()=>n});let n="300"},736802:function(e,a,l){l.d(a,{Z:()=>r});var n=l(883119),i=l(785893);let t=/^(?!.*#.*#)#[\p{L}\p{N}_]\S*$/gu;function r({closeupWithinMasonryEnabled:e=!1,peekCloseupEnabled:a=!1,text:l}){let r=a?"200":"300";return l.split(new RegExp(/(#\S*)/)).map((a,l)=>{let s=`${l}-${a}`;return a.match(t)?(0,i.jsx)(n.xv,{color:"link",inline:!0,size:r,children:(0,i.jsx)(n.rU,{display:"inline",href:`/search/pins/?q=${encodeURIComponent(a.replace("#",""))}`,underline:"none",children:a})},s):(0,i.jsx)(n.xv,{color:e?"subtle":void 0,inline:!0,size:r,children:a},s)})}},569437:function(e,a,l){l.d(a,{Z:()=>p}),l(167912);var n,i=l(30216),t=l(980787),r=l(779548),s=l(817309),o=l(453179),d=l(274320),u=l(431338);let c=void 0!==n?n:n=l(394292),p=function({clientTrackingParams:e,pinKey:a,pinId:l,viewParameter:n,trafficSource:p}){let{logContextEvent:g}=(0,t.v)(),m=(0,r.Z)(c,a),_=(0,i.Z)({pinKey:m}),y=(0,d.F)(),h=(0,u.Z)(m);return()=>{let a=h(),i=y.checkExperiment("web_refactor_consume_ctp").anyEnabled?_:e;g({event_type:12,object_id_str:l,view_type:3,component:85,view_parameter:n,clientTrackingParams:i,aux_data:{...a,...(0,s.Z)(m?.linkUtmApplicableAndReplaced)}}),g({event_type:8948,clientTrackingParams:i,view_type:3,view_parameter:n,component:85,object_id_str:l,aux_data:{click_type:"clickthrough",closeup_navigation_type:p&&(0,o.sV)(p)?"deeplink":"click",...a}})}}},759097:function(e,a,l){l.d(a,{Z:()=>g});var n=l(667294),i=l(883119),t=l(736802),r=l(980787),s=l(747859),o=l(785893);let d=e=>e.replace(/\s+/g," "),u=e=>null!=e&&e>-1,c=(e,a)=>{let l=a.substr(0,e);return(e??0)-(l.length-d(l).length)},p=({color:e,mention:a,tagObjectId:l,tagType:n,textSize:t})=>{let{logContextEvent:s}=(0,r.v)();return(0,o.jsx)(i.rU,{display:"inlineBlock",href:`/${a.substr(1)}`,onClick:({event:e})=>{e.stopPropagation(),s({event_type:101,element:11915,aux_data:{tag_id:l,tag_type:n}})},underline:"none",children:(0,o.jsx)(i.xv,{color:e,inline:!0,overflow:"normal",size:t,weight:"bold",children:a},a)},l)},g=({description:e,mentionLinkColor:a,shouldAdjustOffset:l,shouldMakeHashtagLinksFromText:r,textSize:d,userMentionTags:g})=>{let{closeupWithinMasonryEnabled:m,peekCloseupEnabled:_}=(0,s.x4)();if(0===g.length)return(0,o.jsx)(n.Fragment,{children:e});let y=0,h=[];return[...g].map(a=>l?{...a,offset:c(a.offset??0,e)}:a).sort((e,a)=>(e.offset??0)-(a.offset??0)).filter(e=>u(e.offset)&&u(e.length)).forEach(l=>{let n=l.offset??0,i=l.length??0,t=e.substr(y,n-y),r=e.substr(n,i);h.push(t),h.push((0,o.jsx)(p,{color:a,mention:r,tagObjectId:l.objectId,tagType:l.tagType,textSize:d})),y=n+i}),h.push(e.substr(y)),(r?h.flatMap(e=>"string"!=typeof e?e:(0,t.Z)({closeupWithinMasonryEnabled:m,peekCloseupEnabled:_,text:e})):h).reduce((e,a)=>(0,o.jsxs)(i.xv,{inline:!0,size:d,children:[e,a]}),null)}},374114:function(e,a,l){l.d(a,{Z:()=>i});var n=l(575108);async function i(e,a){let l=async()=>{let e={name:a.bt("Quick saves", "Quick Saves", "quickSave.defaultBoardName", undefined, true),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"unauth_quick_save"}};return n.Z.create("BoardResource",e).callCreate()},{resource_response:{data:i}}=await l(),t=async a=>n.Z.create("RepinResource",{board_id:a,description:e.description||"",is_removable:e.promotedIsRemovable??void 0,link:e.link,pin_id:e.entityId||"",title:e.title||""}).callCreate({showError:!1});return await t(i.id),i}},525655:function(e,a,l){l.d(a,{g:()=>w,Z:()=>K});var n=l(667294),i=l(883119),t=l(501392),r=l(629178),s=l(928007),o=l(581722),d=l(980787),u=l(525839),c=l(331854),p=l(391178),g=l(206459),m=l(785893);function _({currentlySelectedIndex:e,index:a,onSelect:l,pinId:t,isDarkMode:s=!1,isSelectOnHover:_,size:y,thumbnail:h,mediaType:f="image",viewParameter:k}){let{logContextEvent:x}=(0,d.v)(),v=(0,o.I0)(),P=(0,u.ZP)(),[S,b]=(0,n.useState)(!1),{isCloseupMediaViewerEnabled:F}=(0,r.Z)({isShufflePin:!1}),w=(0,n.useCallback)(e=>{"video"===f&&e&&!S&&(b(!0),x({event_type:13,component:13596,element:12831,view_type:3,view_parameter:k}))},[x,f,k,S]),T=(0,c.Z)({onVisibilityChanged:w}),I=()=>{v((0,g.yR)(t,a)),l(a)},K=e===a||!e&&0===a;return(0,m.jsx)(i.xu,{ref:T,marginBottom:4,children:(0,m.jsx)(i.iP,{onMouseEnter:({event:e})=>{e.preventDefault(),e.stopPropagation(),_&&I()},onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),_||I()},rounding:F?4:void 0,children:(0,m.jsx)(p.Z,{isDarkMode:s,outlined:K,rounding:F?4:void 0,children:(0,m.jsxs)(i.xu,{position:"relative",children:[(0,m.jsx)(i.zd,{height:y,wash:!0,width:y,children:(0,m.jsx)(i.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:h})}),"video"===f&&(0,m.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,m.jsx)(i.JO,{accessibilityLabel:P.bt("Secondary carousel video icon", "Secondary Carousel Video Icon", "secondaryCarousel.carouselItem.videoIndicatorIcon", undefined, true),color:"light",icon:"play",size:20})})]})})})})}var y=l(15667);let h=()=>{};function f({direction:e,handleNavHoverToggle:a,leftHover:l,isDarkMode:n=!1,hasBlurredBackground:t=!1,onScroll:r,rightHover:s,shouldPadArrows:o,size:d="md"}){let c=(0,u.ZP)(),{isRTL:p}=(0,y.B)(),g=function({direction:e,isDarkMode:a,isRTL:l,leftHover:n,rightHover:i,shouldPadArrows:t,verticalSize:r,hasBlurredBackground:s=!1},o){let d={backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0) 0%, #fff 90%)`,height:"100%",top:"0px",bottom:void 0},u={color:a?"inverse":"default",height:"40px",justifyContent:"center",left:void 0,right:void 0},c={sm:"54px",md:"124px"};return{up:{...u,backgroundImage:s?"":`linear-gradient(${a?"#000 0%, rgba(0, 0, 0, 0) 90%":"#fff 0%, rgba(255, 255, 255, 0) 90%"})`,bottom:"",icon:"arrow-up",label:o.bt("Up arrow", "Up arrow", "product.carousel.arrowUp", undefined, true),top:"0px",width:c[r]},down:{...u,backgroundImage:s?void 0:`linear-gradient(${a?"rgba(0, 0, 0, 0) 0%, #000 90%":"rgba(255, 255, 255, 0) 0%, #fff 90%"})`,bottom:"0px",icon:"arrow-down",label:o.bt("Down arrow", "Down arrow", "product.carousel.arrowDown", undefined, true),top:void 0,width:c[r]},left:{...d,color:t||n?"default":"subtle",icon:l?"arrow-forward":"arrow-back",justifyContent:"start",label:o.bt("Left arrow", "Left arrow", "Label for left arrow button in search guides", undefined, true),left:"0px",right:void 0,width:l?"22px":"210px"},right:{...d,color:t||i?"default":"subtle",icon:l?"arrow-back":"arrow-forward",justifyContent:"end",label:o.bt("Right arrow", "Right arrow", "Label for right arrow button in search guides", undefined, true),left:void 0,right:"0px",width:l?"22px":"210px"}}}({direction:e,isDarkMode:n,isRTL:p,leftHover:l,rightHover:s,shouldPadArrows:o,verticalSize:d,hasBlurredBackground:t},c);return(0,m.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform",pointerEvents:"none",top:g[e].top,bottom:g[e].bottom,left:g[e].left,right:g[e].right}},height:g[e].height,position:"absolute",children:(0,m.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundImage:g[e].backgroundImage,marginTop:o?"25px":void 0}},display:"flex",height:"100%",justifyContent:g[e].justifyContent,width:g[e].width,children:(0,m.jsx)("button",{onClick:r,onMouseEnter:a?()=>a(e,!0):h,onMouseLeave:a?()=>a(e,!1):h,style:{backgroundColor:"transparent",border:0,height:"100%",outline:"none",padding:0,pointerEvents:"all"},children:(0,m.jsx)(i.kC,{alignItems:"center",height:"100%",justifyContent:g[e].justifyContent,width:"50px",children:(0,m.jsx)(i.JO,{accessibilityLabel:g[e].label,color:g[e].color,icon:g[e].icon})})})})})}var k=l(369416),x=l(680825),v=l(166282),P=l(159527),S=l(747859),b=l(230543),F=l(603316);let w=52,T={md:120,sm:52},I=`
  .ProductCarousel-InnerScrollContainer {
    -ms-overflow-style: none;
    overflow-x: hidden;
    overflow-y: auto;
  }
  .ProductCarousel-InnerScrollContainer::-webkit-scrollbar {
    display: none;
  }
`;function K({carouselSlots:e,commerceData:a={},isSelectOnHover:l,onImageSelect:o,pinId:u,selectedIndex:c,size:p,surfaceType:g,viewParameter:y}){let h,{logContextEvent:w}=(0,d.v)(),{isCloseupMediaViewerEnabled:K}=(0,r.Z)({isShufflePin:!1}),{isEnabled:C}=(0,t.Z)({dangerouslySkipActivation:!0}),[j,L]=(0,n.useState)(),[A,Z]=(0,n.useState)(0),[R,D]=(0,n.useState)(),[M,E]=(0,n.useState)(),[z,B]=(0,n.useState)(),[O,V]=(0,n.useState)(!1),[U,N]=(0,n.useState)(e.length>=4),[H,W]=(0,n.useState)(!1),$=(0,b.t)(),{closeupWithinMasonryEnabled:G}=(0,S.x4)(),{isDarkModeBackground:q,isBlurredBackground:X}=(0,s.Z)(),Y=(0,n.useRef)(null),Q=(0,n.useRef)(null),J=T[p],ee=K&&"media-viewer"===g&&q,ea=K&&"media-viewer"===g&&X;(0,n.useEffect)(()=>{w({event_type:120,component:13596,view_type:3,view_parameter:y,aux_data:{pin_id:u,...a}})},[]),(0,n.useEffect)(()=>{if(!j&&Y.current){let e=Y.current.getBoundingClientRect();Z(Math.floor(e.top)),D(Math.floor(e.bottom)),B(Math.floor(e.top)),E(Math.floor(e.bottom))}},[Y.current,j]),(0,n.useEffect)(()=>{if(Y.current){let{height:e,top:a,bottom:l}=Y.current.getBoundingClientRect();Z(Math.floor(a)),D(Math.floor(l)),L(Math.floor(e))}},[e.length]),(0,n.useEffect)(()=>{!j&&Y.current&&L(Math.floor(Y.current.getBoundingClientRect().height))},[Y.current]);let el=8/(G?2:1);(0,n.useEffect)(()=>{A&&z&&M&&R&&e.length>=4&&(A<z?V(!0):V(!1),R>=490+$+el?N(!0):N(!1))},[A,R,z,M]);let en=()=>{H||((0,F.nP)(`closeup.dweb.css_carousel.${C?"enabled":"control"}.scroll_thumbnails`,{sampleRate:1}),W(!0),w({event_type:110,component:13596,view_type:3,view_parameter:y,aux_data:{pin_id:u,...a}}))},ei=(0,n.useRef)(en);(0,n.useEffect)(()=>{ei.current=en});let et=Q.current;(0,n.useEffect)(()=>{let e=(0,P.Z)(()=>{if(Y.current){let e=Y.current.getBoundingClientRect();Z(Math.floor(e.top)),D(Math.floor(e.bottom)),ei.current()}},16);return et?.addEventListener("scroll",e),()=>{et?.removeEventListener("scroll",e)}},[et]);let er=(e,l)=>{o&&((0,F.nP)(`closeup.dweb.css_carousel.${C?"enabled":"control"}.select_thumbnail`,{sampleRate:1}),w({event_type:101,component:13596,element:"image"===l?11922:12831,view_type:3,view_parameter:y,aux_data:{...a}}),o(e))},es=e=>{0!==e&&(h&&h.cancel(),Y.current&&Q.current&&((h=(0,v.Z)(Q.current,0,e,{easingFunction:"ease-in-out",extendToEdgeDistanceY:50,scrollSpeedPxPerMs:.8,onAnimationComplete:()=>{h=null}})).start(),en()))};return(0,m.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:`${el}px`}},overflow:"hidden",position:"relative",children:[(0,m.jsx)(k.Z,{unsafeCSS:I}),(0,m.jsx)("div",{ref:Q,className:"ProductCarousel-InnerScrollContainer",id:"InnerScrollContainer",style:{maxHeight:490,cursor:"default"},children:(0,m.jsx)("div",{"aria-hidden":"true",onClick:e=>{e.preventDefault(),e.stopPropagation()},style:{cursor:"default"},children:(0,m.jsx)(i.xu,{ref:Y,alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:1,marginEnd:6*!G,marginTop:1,position:"relative",width:J+4,children:e.map((e,a)=>{let{images:n,videos:i}=e,{thumbnail:t,mediaType:r}=i?{thumbnail:i.cover_image_url,mediaType:"video"}:{thumbnail:(0,x.Z)({images:n,resolutionPreferences:["564x","736x","236x"]})?.url,mediaType:"image"};return(0,m.jsx)(_,{currentlySelectedIndex:c,index:a,isDarkMode:ee,isSelectOnHover:l,mediaType:r,onSelect:()=>{er(a,r)},pinId:u,size:J,thumbnail:t||"",viewParameter:y},`carousel-item-${e.image_signature||""}-${a}`)})})})}),!!j&&e.length>3&&(0,m.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},height:j>490?494:j+4,overflow:"hidden",position:"absolute",top:!0,width:"100%",children:[O&&(0,m.jsx)(f,{direction:"up",hasBlurredBackground:ea,isDarkMode:ee,onScroll:e=>{e.preventDefault(),e.stopPropagation(),es(-100)},size:p}),U&&(0,m.jsx)(f,{direction:"down",hasBlurredBackground:ea,isDarkMode:ee,onScroll:e=>{e.preventDefault(),e.stopPropagation(),es(100)},size:p})]})]})}},713705:function(e,a,l){l.d(a,{i:()=>n,j:()=>i});let n=2,i=236},724810:function(e,a,l){l.d(a,{Z:()=>n});function n({maxPrice:e,minPrice:a,price:l}){return e&&a?`${a}-${e}`:l}},758516:function(e,a,l){l.d(a,{Z:()=>t});var n=l(667294),i=l(785893);let t=({text:e})=>Array.isArray(e)?e.map((e,a)=>(0,i.jsx)(n.Fragment,{children:e},a)):e},955421:function(e,a,l){l.d(a,{Z:()=>i});let n=new Set([90,88,89,91,101,92,131]);function i(e){return n.has(e)}},730647:function(e,a,l){l.d(a,{Z:()=>r});var n=l(598579);let i=new Set([92]),t=new Set([154]);function r(e){let a=[];return e.forEach(e=>{if("story"===e.type?i.has(e.container_type)||t.has(e.container_type)||n.v8.has(e.story_type):1){let l=a[a.length-1];Array.isArray(l)?l.push(e):a.push([e])}else a.push(e)}),a}},281218:function(e,a,l){l.d(a,{Z:()=>i});let n="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function i({window:e,duration:a,run:l}){let i=n(),t=0,r=null,s=()=>{let o=n()-i,d=o-t;if(a===1/0)l(0,o,d);else{let e=o/a;if(e>=1)return void l(1,o,d);l(e,o,d)}t=o,r=e.requestAnimationFrame(s)};return{start:()=>{r=e.requestAnimationFrame(s)},cancel:()=>{r&&(e.cancelAnimationFrame(r),r=null)}}}},364732:function(e,a,l){l.d(a,{Z:()=>i});let n=["236x","474x","564x","736x"];function i({carouselData:e,images:a,product:l,shouldUnifyImageSizes:i}){return e?.carousel_slots?.length?e:l?.additional_images?.length?function(e,a,l,i,t){let r=[...e?[{images:e}]:[],...(a??[]).map(({canonical_images:e,image_signature:a})=>({images:e||void 0,image_signature:a||void 0}))];return{carousel_slots:i?function(e){function a(e,{imageKey:a,height:l,width:n}){return e.images&&e.images[a]&&(e={...e,images:{...e.images,[a]:{...e.images[a],height:l,width:n}}}),e}let l=n.map(function(a){let l=Math.min(...e.map(e=>e.images&&e.images[a]&&e.images[a].height||1/0)),n=Math.min(...e.map(e=>e.images&&e.images[a]&&e.images[a].width||1/0));return{imageKey:a,height:l,width:n}});return e.map(e=>l.reduce(a,e))}(r):r,index:l||0,id:t}}(a,l.additional_images,e?.index,i,l.id):e||void 0}},30216:function(e,a,l){l.d(a,{Z:()=>o}),l(167912);var n,i=l(616550),t=l(779548);let r=void 0!==n?n:n=l(165148),s=e=>!!e&&/^\/pin\/[\w-]+/.test(e.pathname);function o({pinKey:e}){let a=(0,i.TH)(),l=s(a),n=(0,t.Z)(r,e);return l?a.state?.trackingParams||`${n?.trackingParams}~0`:n?.trackingParams}},801082:function(e,a,l){l.d(a,{Z:()=>o});var n=l(167912),i=l(244311),t=l(562399),r=l(667294),s=l(503246);let o=function({strategy:e,query:a,variables:l,options:o,useGetLegacyResource:d,useGetLegacyPaginatedResource:u,useGetLegacyData:c}){let p;if("GRAPHQL"===e){let e=(0,i.getRequest)(a);return(0,n.useLazyLoadQuery)(e,l,o)}if(null!=d&&null!=u&&null!=c)throw Error(`Only pass one of those calls from the list: 
[useGetLegacyResource, useGetLegacyPaginatedResource, useGetLegacyData]
to useLazyLoadQueryOrLegacy`);let{actualVariables:g,refetch:m}=function(e,a){let l=(0,r.useRef)(e),n=(0,r.useRef)(null),[,i]=(0,r.useState)({}),t=(0,s.ZP)(e,l.current)?null==n.current?l.current:n.current:(l.current=e,n.current=null,l.current),o=(0,r.useCallback)(e=>{let l={...t,...e||{}};(0,s.ZP)(t,l)&&a(),n.current=l,i({})},[t,a]);return{actualVariables:t,refetch:o}}(l,()=>{p()});if(null!=c){let e=c(g);if(!e)return null;let{selections:l}=(0,i.getRequest)(a).fragment;return p=()=>{},(0,t.Z)(l,{kind:"LegacyData",singularLegacyData:e,refetchInfo:{refetch:m},paginationInfo:null})}if(null!=d){let e=d(g),{data:l}=e;if(p=e.refresh,null==l)return null;let{selections:n}=(0,i.getRequest)(a).fragment;return(0,t.Z)(n,{kind:"LegacyData",singularLegacyData:l,refetchInfo:{refetch:m},paginationInfo:null})}if(null!=u){let e=u(g),{data:l,isFetching:n,isAtEnd:r,fetchMore:s}=e;if(p=e.refresh,null==l)return null;let{selections:o}=(0,i.getRequest)(a).fragment;return(0,t.Z)(o,{kind:"PaginationLegacyData",paginationLegacyData:l,refetchInfo:{refetch:m},paginationInfo:{isLoadingNext:n,hasNext:!r,loadNext:s}},null)}throw Error("useGetLegacyData or useGetLegacyResource must be provided")}},628708:function(e,a,l){l.d(a,{Z:()=>p});var n=l(667294),i=l(980787),t=l(510928),r=l(535701),s=l(776777),o=l(785893);function d(e,a,l){var n;return(a="symbol"==typeof(n=function(e,a){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var n=l.call(e,a||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?n:n+"")in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l,e}let u=(0,t.Z)()&&(0,t.Z)().debug_impression_log,c={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};function p(e){class a extends n.Component{constructor(...e){super(...e),d(this,"currentNs",()=>1e6*Date.now()),d(this,"startTime",0),d(this,"debugPinImpressions",u&&"Pin"===this.props.impressionType&&this.props.viewer.isAuth&&this.props.viewer.isEmployee),d(this,"handleVisibilityChanged",e=>{let{componentType:a,contextLogData:l,impressionAuxFields:n,impressionType:i,loggingId:t,slotIndex:r,viewParameter:s,viewType:o,viewData:d,logContextEvent:u}=this.props;if(e)this.startTime=this.currentNs(),this.debugPinImpressions&&console.log(r+" started timer");else{let e=c[i],p=e.idType,g=this.currentNs(),m={endTime:g,[p]:t,slotIndex:r,time:this.startTime,renderDuration:g-this.startTime,...n};u({event_type:e.eventType,component:a,event_data:{[e.impressionType]:[m]},view_type:o,view_parameter:s,view_data:d,aux_data:{...l}}),this.debugPinImpressions&&console.log(r+" logged for "+(g-this.startTime)/1e9+"s")}})}render(){return(0,o.jsx)(s.Z,{onVisibilityChanged:this.handleVisibilityChanged,...this.props,children:(0,o.jsx)(e,{...this.props})})}}return function(e){let{logContextEvent:l}=(0,i.v)(),n=(0,r.Z)();return(0,o.jsx)(a,{...e,logContextEvent:l,viewer:n})}}},662490:function(e,a,l){l.d(a,{Z:()=>n});function n(e,a){let l=e.split(a?",":":");return l.length>0?a?l[0]:l[1]:""}},127753:function(e,a,l){l.d(a,{HM:()=>o,ZP:()=>u,oV:()=>d});let n="filter_queries",i="skin_tone",t="hair_pattern",r=`${i.toUpperCase()}_${n.toUpperCase()}`,s=`${t}_${n}`,o=e=>e.startsWith(r)||e.startsWith(s),d=e=>o(e)&&e===r?i:t;function u(e,a){return"skin_tone"===e?a.skin_tone_filter_list.options:a.hair_pattern_filter_list}},806438:function(e,a,l){l.d(a,{P:()=>t,Z:()=>i});var n=l(581722);function i(e){return e?.[1000069]&&500417===e[1000069].experience_id&&e[1000069].display_data.hide_footer}function t(){let e=(0,n.v9)(({experiences:e})=>e);return!!e&&i(e)}},394752:function(e,a,l){l.d(a,{WD:()=>n,WM:()=>i,eC:()=>t});let n="one-tap-desktop-carousel",i="one-tap-desktop",t="responsive-box"},50651:function(e,a,l){l.d(a,{T:()=>n,Z:()=>t});let{Provider:n,useHook:i}=(0,l(729434).Z)("NotificationContext"),t=i},753261:function(e,a,l){l.d(a,{G7:()=>o,Nl:()=>u,WE:()=>s,l6:()=>d,rh:()=>r});var n=l(918920),i=l(654937),t=l(473728);function r(e,a,l){if(!a.isAuth||!a.isPartner)return!1;let{creatorAnalytics:i}=e,t=!!e.storyPinDataId,r=!!e.videos?.videoList,s=!(t||r)&&0!==Object.keys(e.aggregatedPinData?.creatorAnalytics?._30dRealtime||{}).length,o=e.board?.privacy===n.ZP.BoardPrivacy.PUBLIC,d=(e.board?.privacy===n.ZP.BoardPrivacy.PROTECTED||o)&&!e.isRepin&&[a.id,l].includes(e.pinner?.entityId);return s||0!==Object.keys(i?._30dRealtime||{}).length||a.isPartner&&d||t&&d}function s(e,a,l,n,i,t){return e.isAuth&&!!a&&(l||n)&&!!i?.isLoaded&&!t}function o(e,a){return(0,t.Z)(a.nbt(["The last day", "Last {{ count }} days"], e, "Previous {{ count }} days from current date", true),{count:e})}function d(e,a){return(0,t.Z)(a.nbt(["Last {{ count }} hour", "Last {{ count }} hours"], e, "analytics.utils", true),{count:e})}function u({i18n:e,isRealtime:a,humanizedTimeSinceLastUpdate:l,displayLifetime:n,numDays:r,selectedDateRange:s,locale:o}){let d=[];if(r){let a=n?(0,t.Z)(e.nbt(["Percentage changes are compared with {{n}} day before {{startDate}} – {{endDate}}.", "Percentage changes are compared with {{n}} days before {{startDate}} – {{endDate}}."], r, "pinstats.toplineMetrics.description", true),{n:r,startDate:(0,i.ZP)(o,s.startDate,i.kH.NUMERIC),endDate:(0,i.ZP)(o,s.endDate,i.kH.NUMERIC)}):(0,t.Z)(e.nbt(["Percentage changes are compared with {{n}} day before the selected date range.", "Percentage changes are compared with {{n}} days before the selected date range."], r, "pinstats.toplineMetrics.description", true),{n:r});d.push(a)}return a?d.push(e.bt("Metrics are updated in real time.", "Metrics are updated in real-time.", "pinstats.PinnerToplineMetrics.description", undefined, true)):l&&d.push((0,t.Z)(e.bt("Metrics updated {{ timeSince }}.", "Metrics updated {{ timeSince }}.", "analytics.header.disclaimer.metricsUpdated", undefined, true),{timeSince:l})),d.join(" ")}},643875:function(e,a,l){l.d(a,{f:()=>n,Z:()=>i});let n=e=>{let{h:a,m:l}=e||{},n={hours:a||0,minutes:l||0};return void 0!==a||void 0!==l?{h:a,m:l,time:n,isoDuration:function({hours:e,minutes:a}){return`PT${e}H${a}`}(n)}:null},i=e=>{if(!e)return null;let{richMetadata:a}=e,{recipe:l}=a;return l&&l.name?{...e,recipe:{name:l.name,categorizedIngredients:l.categorized_ingredients,diets:l.diets,fromAggregatedData:l.from_aggregated_data,prepTime:n(l.cook_times?.prep),cookTime:n(l.cook_times?.cook),totalTime:n(l.cook_times?.total),servingSummary:l.servings_summary?.summary,serves:l.servings_summary?.serves,instructions:l.instructions}}:null}},665827:function(e,a,l){l.d(a,{Z:()=>n});let n=e=>{if(!e)return null;let{rich_metadata:a}=e.pin;return a?{...e,richMetadata:a}:null}},222555:function(e,a,l){l.d(a,{Z:()=>o});let n=e=>{if(!e)return null;let{embed:a}=e.pin,{type:l,src:n,subtype:i}=a||{};return n?{...e,embed:{type:l,src:n,subtype:i}}:null};var i=l(254029);let t=e=>{if(!e)return null;let{videos:a}=e.pin,{id:l,video_list:n={}}=a||{},{V_720P:t,V_HLSV4:r,V_HLSV3_MOBILE:s}=n,o=(0,i.V3)(r),d=(0,i.V3)(s),u=(0,i.V3)(t),c=u||o||d;return l&&c?{...e,video:{id:l,hasVideo:c,mp4:u||void 0,hls:o||void 0,hlsv3:d||void 0}}:null};var r=l(176465);let s=e=>{let{hlsv3:a,hls:l}=e,n=a||l;return!!(n&&(n.width??0)>(n.height??0))},o=e=>{if(!e)return null;let{video:a}=t((0,r.Z)(e))||{},{embed:l}=n((0,r.Z)(e))||{},i=!!(a&&s(a))||!!(l&&l.src&&"pinstory"!==l.subtype&&"gif"!==l.type);return{...e,isWideVideo:i}}},817309:function(e,a,l){l.d(a,{Z:()=>n});function n(e){return e&&0!==e?{is_utm_link_available:1===e}:{}}},607652:function(e,a,l){l.d(a,{Z:()=>s});var n,i=l(667294);l(167912);var t=l(779548);let r=void 0!==n?n:n=l(673588);function s({pinKey:e}){let a=(0,t.Z)(r,e),l=a?.imageSpec_736x||a?.imageSpec_564x||a?.imageSpec_orig||a?.imageSpec_474x||a?.imageSpec_236x;return{getMainPinImage:(0,i.useCallback)(()=>({url:l?.url||"",height:l?.height||1,width:l?.width||1}),[l?.height,l?.url,l?.width])}}},887946:function(e,a,l){l.d(a,{Z:()=>o}),l(167912);var n,i=l(779548),t=l(453179),r=l(436475);let s=void 0!==n?n:n=l(498876),o=e=>{let a=(0,i.Z)(s,e),l=(0,r.Z)(a);if(!a?.entityId)return null;let{trackedLink:n,link:o,method:d,utmLink:u}=a,c=(0,t.Zt)({trackedLink:n,link:o,utmLink:u});return c&&("catalog_bulk_create"===d||l)?decodeURIComponent(c):c}},436475:function(e,a,l){l.d(a,{Z:()=>r}),l(167912);var n,i=l(779548);let t=void 0!==n?n:n=l(445662),r=e=>{let a=(0,i.Z)(t,e);if(!a?.richMetadata)return!1;let{products:l}=a.richMetadata??{};return!!Array.isArray(l)&&l.some(e=>!!e&&e.name)}},176465:function(e,a,l){l.d(a,{Z:()=>n});let n=e=>e?.pin?.id?e:null},300540:function(e,a,l){l.d(a,{Z:()=>o});var n=l(667294),i=l(883119),t=l(67831),r=l(956077),s=l(785893);function o(e){let a=(0,t.E)();return(0,n.useEffect)(()=>{let l=document.getElementById(e.containerId),n=async(e,a)=>{let l=e.getBoundingClientRect(),n=a.getBoundingClientRect();return!!l&&!!n&&l.top>=n.top&&l.left>=n.left&&l.bottom<=n.bottom&&l.right<=n.right};if(null==l)a?.removeConstraint("thumbnailsLoaded"),(0,r.l7)("thumbnailsLoaded");else{let e=Array.from(l.querySelectorAll("*")).filter(e=>"IMG"===e.tagName&&n(e,l)),i=e.length,t=()=>{i-=1};e.forEach(e=>{e.onload=t(),0===i&&(a?.markConstraintComplete("thumbnailsLoaded"),(0,r.Nx)("thumbnailsLoaded"))})}},[e.containerId,a]),(0,s.jsx)(i.xu,{id:"imageContainerPerf",children:e.children})}},735002:function(e,a,l){l.d(a,{Jx:()=>T,ku:()=>C,PY:()=>K});var n=l(592109),i=l(901360),t=l(392824),r=l(735201),s=l(878072),o=l(645214),d=l(788725),u=l(524447);let c=()=>(0,u.PJ)().reduce((e,{identifier:a,loadTime:l,renderTime:n})=>e[`${a}_loadTime`]?e[`${a}_dupe_loadTime`]?{...e,[`${a}_dupe_loadTime`]:l,[`${a}_dupe_renderTime`]:n}:e:{...e,[`${a}_loadTime`]:l,[`${a}_renderTime`]:n},Object.freeze({}));var p=l(498724),g=l(23465),m=l(293169);let _=e=>{let a=(0,m.y0)();return e.reduce((e,{name:l,match:n})=>a.filter(e=>n(e)).slice(0,2).reduce((e,a,n)=>({...e,...(0,s.jh)(`${l}${n?"_dupe1":""}_`,(0,p.Z)(a))}),e),Object.freeze({}))},y=e=>{if("pin_closeup"!==e)return{};{let e=(0,g.Z)();return _([{name:"mainImage",match:({name:a})=>a===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}};var h=l(979817),f=l(868178),k=l(375730),x=l(90148),v=l(986906),P=l(970773),S=l(361423);let b=(0,n.XV)("LightStopwatch"),F=()=>{let e=[],a=null;return window.PerformanceObserver&&(a=(0,v.Z)({entryTypes:["resource"]},a=>{(e=e.concat(a.getEntries())).length>1e3&&(e=e.slice(-1e3))})),{get:()=>e,disconnect:()=>{a&&a.disconnect()}}},w={},T=({annotateExperiments:e,annotateMarks:a,annotateResourceTimingForSurface:l,name:n,pwtStaticContext:u})=>{let p=F(),g=(0,x.Z)(u.fullPath),m=!0,_={...g?{pagePath:{value:g,type:"STRING"}}:{}},v=(0,r.jf)();(0,i.A9)(`TIMING.${n}`,{tags:{isAuth:u.isAuthenticated}});let T={type:"stopwatch",name:n,navigationType:"initial_app_load",isAuthenticated:u.isAuthenticated,surface:""},I={abort:g=>{if(!m)return void(0,i.H)("duplicate_abort_action",{action:n});m=!1;let x=(0,P.Z)(),b=(0,d.Z)(),F=p.get(),w={reason:g,type:"ABORT",traceId:v,startTime:0,endTime:S.Z?.now()||0,spans:[{name:"network_resources",id:x,startTime:0,endTime:S.Z?.now()||0,annotationMap:{},binaryAnnotationMap:{},parentId:null},...F.map(e=>(0,k.Z)((0,h.p)(e,[]),x)).filter(Boolean)],annotationMap:{...(0,s.jh)("resource_",l?y(l):{}),...(0,s.jh)("element_",c()),...(0,s.jh)("mark_",a&&a.length?(0,s.Hd)((0,t.gQ)(),a):{}),...(0,s.jh)("browser_",b?(0,s.D3)(b):{})},binaryAnnotationMap:(0,o.ng)({annotateExperiments:e,metricId:T,pwtStaticContext:u,performanceResourceTimings:F,binaryAnnotations:_,type:"ABORT"})};(0,f.Z)({metricId:T,pwtStaticContext:u,result:w,isAuth:u.isAuthenticated}),(0,r.$B)()},error:(e,a)=>{let l={...a,action:n};if(!m)return void(0,i.H)("duplicate_error_action",l);e&&(0,i.H)(e,l),p&&p.disconnect(),m=!1,(0,r.$B)()},stop:g=>{if(!m)return void(0,i.H)("duplicate_stop_action",{action:n});m=!1,p.disconnect();let x=(0,P.Z)(),S=(0,d.Z)(),b=p.get(),F={type:"COMPLETE",traceId:v,startTime:0,endTime:g,spans:[{name:"network_resources",id:x,startTime:0,endTime:g,annotationMap:{},binaryAnnotationMap:{},parentId:null},...b.map(e=>(0,k.Z)((0,h.p)(e,[]),x)).filter(Boolean)],annotationMap:{...(0,s.jh)("resource_",l?y(l):{}),...(0,s.jh)("element_",c()),...(0,s.jh)("mark_",a&&a.length?(0,s.Hd)((0,t.gQ)(),a):{}),...(0,s.jh)("browser_",S?(0,s.D3)(S):{})},binaryAnnotationMap:(0,o.ng)({annotateExperiments:e,metricId:T,pwtStaticContext:u,performanceResourceTimings:b,binaryAnnotations:_,type:"COMPLETE"})};(0,f.Z)({metricId:T,pwtStaticContext:u,result:F,isAuth:u.isAuthenticated}),(0,r.$B)()},addBinaryAnnotation:(e,a,l)=>{b(`adding binary annotation {${e}: ${String(a)}}`),_={..._,...{[e]:{value:a,type:l}}}}};return w[n]=I,I},I=e=>w[e],K=e=>!!I(e),C=({stopwatchName:e,binaryAnnotationName:a,value:l,annotationType:n})=>{let i=I(e);i&&i.addBinaryAnnotation(a,l,n)}},231760:function(e,a,l){l.d(a,{B:()=>r,Q:()=>t});let{Provider:n,useHook:i}=(0,l(658673).Z)({name:"related_feed",sampleRate:1}),t=n,r=i},90148:function(e,a,l){l.d(a,{Z:()=>n});function n(e){let a=e.split("?")[0]??"";if(!a.startsWith("/pin/"))return null;let l=a.split("/")[3];return l?"feedback"===l||"sent"===l?l:null:"default"}},23465:function(e,a,l){l.d(a,{Z:()=>i,f:()=>n});let n="closeupImage",i=()=>{if(!document.querySelector)return null;let e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},355919:function(e,a,l){function n(e){let a=Object.keys(e);return a.length>0?a.sort((a,l)=>e[l]-e[a]).slice(0,3):null}function i(e){let a=Object.values(e);return a.length>0?a.reduce((e,a)=>e+a,0):0}function t(e,a,l){return!e.isPromoted&&!e.isDownstreamPromotion&&!!(e.videos?.entityId||e.storyPinDataId)&&!a&&(!e.board?.isCollaborative||!e.board.collaboratedByMe)&&!l}l.d(a,{At:()=>n,J6:()=>t,Ud:()=>i})},594414:function(e,a,l){l.d(a,{A:()=>r,Z:()=>s});var n=l(667294),i=l(883119),t=l(785893);let r=({fill:e})=>{let a="half"===e?(0,t.jsxs)(n.Fragment,{children:[(0,t.jsx)(i.xu,{position:"absolute",children:(0,t.jsx)(i.JO,{accessibilityLabel:"","aria-hidden":!0,color:"default",icon:"star-half",size:15})}),(0,t.jsx)(i.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:15})]}):(0,t.jsx)(i.JO,{accessibilityLabel:"","aria-hidden":!0,color:"full"===e?"default":"subtle",icon:"star",size:15});return(0,t.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:a})};function s({max_rating:e,rating:a,display:l}){var n;if(!a)return null;let s=[],o=parseFloat(e)||5,d=5*(n=(n=parseFloat(a)||0)<=o?n:o)/o;if(Number.isNaN(d))return null;let u=Math.floor(d),c=d-u;return[...Array(u).keys()].forEach(e=>s.push((0,t.jsx)(r,{fill:"full"},e))),c>=.75?s.push((0,t.jsx)(r,{fill:"full"},s.length)):c>=.25&&s.push((0,t.jsx)(r,{fill:"half"},s.length)),[...Array(5-s.length).keys()].forEach(()=>s.push((0,t.jsx)(r,{fill:"empty"},s.length))),(0,t.jsx)(i.xu,{"aria-label":`Rating ${String(d)} stars out of 5`,display:l?"flex":"inlineBlock",position:"relative",role:"img",width:18*o,children:s})}},706563:function(e,a,l){function n({m:e=0,h:a=0}){let l;return l=a<=0?a:e>45?a+1:e>15?a+.5:a,{m:e,h:a,rm:a>0?0:e,rh:l}}function i(e){let a=Math.floor(e/3600);return n({m:Math.floor(e%3600/60),h:a})}l.d(a,{X:()=>n,u:()=>i})},492841:function(e,a,l){l.d(a,{Z:()=>m});var n=l(667294),i=l(883119),t=l(525839),r=l(274320),s=l(473728),o=l(785893);function d({category:e,ingredients:a,textSize:l="300"}){return(0,o.jsxs)(i.xu,{children:[e&&(0,o.jsx)(i.xu,{children:(0,o.jsx)(i.xv,{size:l,weight:"bold",children:e})}),(0,o.jsx)("ul",{children:a.map((e,a)=>(0,o.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,o.jsx)(i.xu,{marginTop:1,children:(0,o.jsxs)(i.xv,{size:l,children:["• ",e.amt||null," ",e.name]})})},a))})]})}function u({instructions:e}){return e?e.map((e,a)=>{let l=`Step ${a+1}`;return(0,o.jsxs)(i.xu,{children:[(0,o.jsx)(i.xv,{size:"200",weight:"bold",children:l}),(0,o.jsx)(i.xv,{size:"100",children:e})]},l)}):null}var c=l(54840),p=l(295429),g=l(747859);function m({recipeProps:e,marginOverrides:a}){var l;let m=(0,t.ZP)(),{checkExperiment:_}=(0,r.F)(),{image:y,name:h,categorizedIngredients:f,instructions:k}=e.recipe,{peekCloseupEnabled:x}=(0,g.x4)(),v=k&&_("web_food_indicator").anyEnabled,P=0;if(f&&f.length){let e=[];f.forEach(a=>(P+=a.ingredients.length,e.push(a.ingredients)))}let S=x?(l=P,(0,s.Z)(m.nbt(["{{ count }} ingredient", "{{ count }} ingredients"], l, "closeup.recipePin.heading.ingredientCount", true),{count:l.toString()})):m.bt("Ingredients", "Ingredients", "Ingredients title and count in closeup recipe description", undefined, true);return(0,o.jsx)(i.xu,{marginBottom:2,marginTop:2,children:(0,o.jsxs)(c.Z,{itemScope:!0,itemType:"https://schema.org/Recipe",children:[(0,o.jsx)("meta",{content:h,itemProp:"name"}),(0,o.jsx)("meta",{content:y,itemProp:"image"}),v&&(0,o.jsx)(p.Z,{collapseByDefault:!1,heading:"Instructions",children:(0,o.jsx)(i.xu,{children:(0,o.jsx)(u,{instructions:k})})}),(0,o.jsx)(p.Z,{heading:S,children:(0,o.jsx)(i.xu,{children:f.map(({category:e,ingredients:l},t)=>{let r=`ingredient-${t}`;return(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(i.xu,{marginBottom:a?.ingredientMarginBottom||4,children:(0,o.jsx)(d,{category:e,ingredients:l,textSize:"200"})})},r)})})})]})})}},287819:function(e,a,l){l.d(a,{Z:()=>i});var n=l(302148);function i({m:e,h:a,rm:l,rh:t},r,s=!1){return e&&(!a||t<=0)?s?(0,n.nk)(r.bt("{{mins}} min", "{{mins}}min", "closeup.makeRecipeTimeText.minutes", undefined, true),{mins:l.toString()}):(0,n.nk)(r.nbt(["{{mins}} minute", "{{mins}} minutes"], l, "number showing the minutes to complete a recipe", true),{mins:l.toString()}):a?s?(0,n.nk)(r.bt("{{hrs}}hr {{mins}}min", "{{hrs}}hr {{mins}}min", "closeup.makeRecipeTimeText.hours", undefined, true),{hrs:a.toString(),mins:e.toString()}):(0,n.nk)(r.nbt(["{{hrs}} hour", "{{hrs}} hours"], t, "number showing the hours to complete a recipe", true),{hrs:t.toString()}):null}},63749:function(e,a,l){l.d(a,{Z:()=>r});var n=l(709311),i=l(302148),t=l(785893);function r({m:e,h:a,rm:l,rh:r},s){return e&&(!a||r<=0)?(0,i.nk)(s.bt("{{mins}} min", "{{mins}}min", "closeup.makeRecipeText.minutesLabel", undefined, true),{mins:(0,t.jsx)(n.Z,{maximumFractionDigits:2,value:l},"recipe-minutes")}):a?(0,i.nk)(s.bt("{{hrs}} hr", "{{hrs}}hr", "closeup.makeRecipeText.hoursLabel", undefined, true),{hrs:(0,t.jsx)(n.Z,{maximumFractionDigits:2,value:r},"recipe-hours")}):null}},169330:function(e,a,l){l.d(a,{Z:()=>i});var n=l(302148);function i(e,a){return e<60?(0,n.nk)(a.bt("{{mins}} min", "{{mins}}min", "recipe.minutes", undefined, true),{mins:e}):(0,n.nk)(a.bt("{{hrs}} hr {{mins}} min", "{{hrs}}h {{mins}} min", "recipe.time", undefined, true),{mins:e%60,hrs:Math.floor(e/60)})}},54840:function(e,a,l){l.d(a,{Z:()=>i});var n=l(785893);let i=e=>{let a=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,n.jsx)("div",{"data-test-id":"rich-pin-information",...a,children:e.children||null})}},166282:function(e,a,l){l.d(a,{Z:()=>s});var n=l(281218);function i({scrollPosition:e,containerSize:a,contentSize:l,intendedDistance:n,extendToEdgeDistance:i=0}){let t=l-a,r=n;return r=Math.max(r=Math.min(r,t-e),-e),n>0&&t-(e+r)<=i?r=t-e:n<0&&e+r<=i&&(r=-e),r}let t={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},r={linear:e=>e,"ease-in":e=>e*e,"ease-out":e=>e*(2-e),"ease-in-out":e=>e<.5?2*e*e:-1+(4-2*e)*e};function s(e,a,l,o={}){let d={...t,...o},{scrollLeft:u,scrollTop:c,scrollWidth:p,scrollHeight:g,clientWidth:m,clientHeight:_}=e,y=i({scrollPosition:u,containerSize:m,contentSize:p,intendedDistance:a,extendToEdgeDistance:d.extendToEdgeDistanceX}),h=i({scrollPosition:c,containerSize:_,contentSize:g,intendedDistance:l,extendToEdgeDistance:d.extendToEdgeDistanceY}),f=Math.max(Math.abs(Math.floor(y/d.scrollSpeedPxPerMs)),Math.abs(Math.floor(h/d.scrollSpeedPxPerMs)));d.minScrollDuration&&(f=Math.max(f,d.minScrollDuration));let k=r[d.easingFunction]||r["ease-in-out"];return(0,n.Z)({window,duration:f,run:a=>{e.scrollLeft=u+y*k(a),e.scrollTop=c+h*k(a),1===a&&d.onAnimationComplete&&setTimeout(d.onAnimationComplete,0)}})}},517250:function(e,a,l){l.d(a,{GZ:()=>n,OE:()=>i,zX:()=>t});let n=246,i=197,t=236},138758:function(e,a,l){l.d(a,{Z:()=>r});var n=l(97517);let i=/\{\s*(\w+)\s*\}/g,t=(e,a)=>(0,n.Z)(i,e,a);function r({args:e,format:a}){return t(a||"",(e||[]).reduce((e,a,l)=>({...e,[l]:a.text}),{}))}},91479:function(e,a,l){l.d(a,{Z:()=>u});var n=l(667294),i=l(883119),t=l(525839),r=l(15667),s=l(747859),o=l(785893);let d=({onClick:e,showShadow:a,size:l="lg",onMouseEnter:r})=>{let s=(0,t.ZP)();return(0,o.jsx)(n.Fragment,{children:(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{animation:a?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards"}},onMouseEnter:r,rounding:"circle",children:(0,o.jsx)(i.hU,{accessibilityLabel:s.bt("Back", "Back", "backButton.accessibilityLabel", undefined, true),bgColor:"white",dataTestId:"back-icon-button",icon:"directional-arrow-left",iconColor:"darkGray",onClick:e,size:l})},"back-button-icon")})};function u({handleScroll:e,marginTop:a,onClick:l,showShadow:t,onMouseEnter:u}){let{closeupWithinMasonryEnabled:c}=(0,s.x4)(),{isRTL:p}=(0,r.B)();return(0,n.useEffect)(()=>e?(window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)):()=>{},[e]),(0,o.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...p?{right:0}:{left:c?0:-12}}},"data-test-id":"back-button",display:"flex",paddingX:4*!c,position:"relative",children:(0,o.jsx)(d,{marginTop:a,onClick:l,onMouseEnter:u,showShadow:t,size:c?"xl":"lg"})})}},627925:function(e,a,l){l.d(a,{Z:()=>d});var n=l(883119),i=l(980787),t=l(525839),r=l(302148),s=l(644493),o=l(785893);function d({closeupLinkEnabled:e,nativeCreatorCloseupLinkEligible:a,peekCloseupEnabled:l,uriComponent:d}){let u=(0,t.ZP)(),{logContextEvent:c}=(0,i.v)();return a&&e&&d?(0,o.jsx)(n.xv,{align:"start",size:l?"200":"300",children:(0,r.nk)(u.bt("See original post on {{ instagramLink }}", "See original post on {{ instagramLink }}", "closeup.defaultMetadata.instagramLink", undefined, true),{instagramLink:(0,o.jsx)(n.xv,{color:"link",inline:!0,children:(0,o.jsx)(n.rU,{display:"inline",externalLinkIcon:"default",href:(0,s.Z)(d)??d,onClick:()=>{c({event_type:102,element:16198,component:135,aux_data:{is_claimed_domain:a}})},underline:"none",children:u.bt("Instagram", "Instagram", "closeup.defaultMetadata.instagramLink-linkText", undefined, true)})})})}):null}},244074:function(e,a,l){l.d(a,{Z:()=>i});var n=l(667294);let i=()=>{let e=(0,n.useRef)(!1);return(0,n.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},458963:function(e,a,l){l.d(a,{Z:()=>r});var n=l(581722);let i=[1000069,1000075],t={};function r(){var e;return e=(0,n.v9)(({experiences:e})=>e),i.forEach(a=>{e[a]&&(void 0===t[a]||t[a].id!==e[a].id)&&(t[a]=e[a])}),t}},973940:function(e,a,l){l.d(a,{Z:()=>i});var n=l(667294);let i=e=>{let a=(0,n.useRef)(null);return(0,n.useEffect)(()=>{a.current=e},[e]),a.current}},734871:function(e,a,l){l.d(a,{Z:()=>r});var n=l(667294),i=l(289032),t=l(159527);let r=(e="throttle")=>{let[a,l]=(0,n.useState)(0);return(0,n.useEffect)(()=>{let a="throttle"===e?(0,t.Z)(()=>l(window.scrollY),10):(0,i.Z)(()=>l(window.scrollY),10);return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[e]),a}},766033:function(e,a,l){l.d(a,{Z:()=>t});var n=l(274320),i=l(647709);function t(){let{checkExperiment:e}=(0,n.F)();return"desktop"===(0,i.ZP)()?e("dweb_pdm_shopping_module_gql").anyEnabled:e("mweb_shopping_module_gql").anyEnabled}},285491:function(e,a,l){l.d(a,{Z:()=>y});var n=l(667294),i=l(883119),t=l(744862),r=l(525839),s=l(274320),o=l(417245),d=l(324307),u=l(233624),c=l(271910),p=l(535701),g=l(785195),m=l(149728),_=l(785893);let y=function(e){let a=(0,r.ZP)(),{fullName:l,isVerifiedIdentity:y,imageUrl:h,isPromoted:f,isVerifiedMerchant:k,profileUrl:x,sponsorName:v,sponsorshipStatus:P,sponsorUsername:S="",verified:b,color:F="default",onAvatarClick:w,onNavigateClick:T,onNavigateSponsorClick:I,openNewTab:K}=e,C=(0,s.F)().checkExperiment("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,j=(0,p.Z)(),L=j.isAuth?j?.avatar_color_index:void 0,A=(0,o.Z)(a.bt("{{ fullName }} avatar link", "{{ fullName }} avatar link", "creatorCardProfile.avatar.accessibilityLabel", undefined, true),{fullName:l??""}),Z=(0,_.jsx)(c.q,{children:({active:e,focused:a,hovered:n,onBlur:r,onFocus:s,onMouseEnter:o,onMouseLeave:d})=>(0,_.jsx)(i.xu,{onBlur:r,onFocus:s,onMouseDown:()=>{w&&w()},onMouseEnter:o,onMouseLeave:d,children:(0,_.jsx)(i.zd,{rounding:"circle",wash:n||e||a,children:(0,_.jsx)(t.qE,{accessibilityLabel:A,color:L,name:l??"",size:j.isAuth?"xs":"md",src:h??"",verified:b})})})}),R=(0,d.ZP)(l,70),D=(0,_.jsxs)(n.Fragment,{children:[f&&(0,_.jsx)(i.xv,{lineClamp:1,size:"200",weight:"bold",children:a.bt("Promoted by", "Promoted by", "indicating the username of the person who promoted the pin", undefined, true)}),(0,_.jsx)(i.xu,{"data-test-id":"creator-profile-name",children:(0,_.jsx)(i.xu,{maxWidth:270,children:(0,_.jsx)(i.xv,{color:F,size:"200",weight:"normal",children:y||k?(0,_.jsx)(i.xu,{"data-test-id":"verified-name",children:(0,_.jsx)(m.Z,{badgeSize:"xs",badgeSpacing:2,fullName:R,isVerifiedIdentity:y,isVerifiedMerchant:k})}):l})})})]}),M=S&&v||g.j.includes(P)&&C,E=`/${S??""}/`;return(0,_.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"creator-card-profile",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,_.jsx)(i.xu,{"data-test-id":"creator-avatar",flex:"none",paddingX:1,children:x?(0,_.jsx)(i.Tg,{dataTestId:"creator-avatar-link",href:x,onTap:T,rel:(0,u.Z)(x)?"none":"nofollow",target:K?"blank":null,children:Z}):Z}),(0,_.jsxs)(i.xu,{children:[x?(0,_.jsx)(i.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingX:1,children:(0,_.jsx)(i.rU,{dataTestId:"creator-profile-link",href:x,onClick:T,rel:(0,u.Z)(x)?"none":"nofollow",target:K?"blank":null,underline:"none",children:D})}):D,M&&(0,_.jsx)(i.xu,{"data-test-id":"sponsor-title",display:"flex",paddingX:1,children:(0,_.jsx)(g.Z,{href:E,isPromoted:f,onNavigateSponsorClick:I,sponsorName:v,sponsorshipStatus:P,sponsorUsername:S})})]})]})}},368974:function(e,a,l){l.d(a,{Z:()=>o});var n=l(883119),i=l(209026),t=l(954689),r=l(525839),s=l(785893);let o=function(){let e=(0,r.ZP)();return(0,t.Z)()?(0,s.jsx)(n.xu,{display:"flex",justifyContent:"center",marginBottom:5,width:"100%",children:(0,s.jsx)(i.Z,{containerSize:320,description:e.bt("It looks as though something went wrong. That’s OK. Try refreshing this page.", "It looks like something went wrong. That’s okay—try refreshing this page.", "error404.page.gumball.illustrations.description", undefined, true),illustrationSize:186,message:e.bt("Something’s a little off", "Something’s a little off", "error404.page.gumball.illustrations.message", undefined, true),name:"gumball",primaryAction:(0,s.jsx)(n.ZP,{color:"red",href:"",onClick:()=>{window.location.reload()},text:e.bt("Refresh page", "Refresh page", "error404.page.pinjar.illustration", undefined, true)})})}):(0,s.jsx)("div",{className:"errorMessage",children:(0,s.jsx)("div",{className:"standaloneErrorPage",children:(0,s.jsx)("div",{children:e.bt("Oops! We couldn’t find that page.", "Whoops! We couldn’t find that page.", " - ", undefined, true)})})})}},534874:function(e,a,l){function n(e){let a=e.split("/");return[a[2],a[1]]}function i(e,a){return!e||!e.some(e=>e.pin_type===a)}l.d(a,{E:()=>i,J:()=>n})},272925:function(e,a,l){l.d(a,{Z:()=>g});var n=l(883119),i=l(525839),t=l(906553),r=l(302148),s=l(594414),o=l(15667),d=l(890788),u=l(785893);let c=({rating:e,textSize:a,type:l})=>{if("single"===l){let l=parseFloat(e);return Number.isNaN(l)?null:(0,u.jsxs)(n.kC,{alignItems:"center",children:[(0,u.jsx)(s.A,{fill:"full"}),(0,u.jsx)(n.xv,{size:a,children:l.toFixed(1)})]})}return(0,u.jsx)(s.Z,{display:"flex",rating:e})},p=({bracket:e,count:a,countFormat:l,countType:s,marginStart:d,textSize:c,underline:p,unauthPdp:g})=>{let{locale:m}=(0,o.B)(),_=(0,i.ZP)(),y=(0,t.Z)();if(null==a)return null;let h=y(m,a,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===l){let e="review"===s?_.nbt(["{{ count }} review", "{{ count }} reviews"], a, "webapp.app.www-unified.productStarRatings.RatingCountText", true):_.nbt(["{{ count }} rating", "{{ count }} ratings"], a, "webapp.app.www-unified.productStarRatings.RatingCountText", true);h=(0,r.nk)(e,{count:a}).join("")}return e&&(h=`(${h})`),(0,u.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:p?"1px solid gray":"none"}},marginStart:d,children:(0,u.jsx)(n.xv,{color:p?"subtle":"default",size:c,underline:p,children:(0,u.jsx)(n.xu,{"data-test-id":"ratings-count-text",display:"inlineBlock",children:g?`(${h})`:h})})})};function g({bracket:e,count:a,countFormat:l,countType:i,rating:t,textSize:r,underline:s,unauthPdp:o}){return(0,d.Z)({count:a,rating:t})?(0,u.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(c,{rating:t,textSize:r,type:"multiple"}),(0,u.jsx)(p,{bracket:e,count:a,countFormat:l,countType:i,textSize:r,unauthPdp:o,underline:s})]}):null}},890788:function(e,a,l){l.d(a,{Z:()=>n});function n({count:e,rating:a}){return!!(a&&"None"!==a&&Number.isFinite(e))}},785195:function(e,a,l){l.d(a,{Z:()=>c,j:()=>u});var n=l(883119),i=l(562915),t=l(525839),r=l(302148),s=l(274320),o=l(15667),d=l(785893);let u=[0,2,3];function c({hasAffiliateProducts:e,hasAffiliateLink:a,href:l,isPromoted:c,onNavigateSponsorClick:p,sponsorName:g,sponsorUsername:m,sponsorshipStatus:_,textWeight:y="bold",isGrid:h}){let f,k=(0,t.ZP)(),{isAuthenticated:x}=(0,o.B)(),{checkExperiment:v}=(0,s.F)(),P=v("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,S=(0,i.L)(),b=e=>"enabled"===e||"employees"===e,F=x&&(a||e)&&b(v("closeup_affiliate_ui_label_web").group)||b(v("mweb_closeup_affiliate_ui_label").group),w=!x&&(a||e)&&(b(v("closeup_unauth_affiliate_ui_label_web").group)||b(v("mweb_closeup_unauth_affiliate_ui_label").group)),T=l||(m?`/${m}/`:null),I=h&&e,K=["control_affiliate_text_removal","enabled_affiliate_text_removal","control_indicator_and_affiliate_removal","enabled_indicator_and_affiliate_removal","employees"].includes(v("web_grid_pin_rep_indicator_and_affiliate_cleanup",{dangerouslySkipActivation:!0}).group),C=I&&K&&v("web_grid_pin_rep_indicator_and_affiliate_cleanup").anyEnabled,j=T&&g?(0,d.jsx)(n.xv,{__dangerouslyOverrideLineHeight:S,size:"200",weight:y,children:(0,d.jsx)(n.rU,{dataTestId:"sponsorship-text-link",href:T,onClick:p,children:g})},g):void 0;return c?f=(0,r.nk)(k.bt("Promoted by {{ name }}", "Promoted by {{ name }}", "sponsorship.sponsorshipText.promotedByBrand", undefined, true),{name:j}):_||0===_?g&&!u.includes(_)?f=(0,r.nk)(k.bt("Paid partnership with {{ name }}", "Paid partnership with {{ name }}", "closeup.creator.sponsoredPinTitle", undefined, true),{name:j}):2!==_&&(f=k.bt("Paid partnership", "Paid partnership", "closeup.creator.sponsoredPinTitle", undefined, true)):!h&&(F||w)?f=k.bt("Paid link", "Paid link", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true):I&&!C&&(f=k.bt("Paid link", "Paid link", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true)),(0,d.jsxs)(n.xv,{__dangerouslyOverrideLineHeight:S,color:"subtle",inline:!0,lineClamp:2,size:"200",children:[P&&!c&&"Ad • "||"",f]})}},394887:function(e,a,l){l.d(a,{Z:()=>s});var n=l(255957),i=l(15667),t=l(653621),r=l(785893);function s({children:e,type:a}){let l=(0,i.B)();return(0,r.jsx)(n.Z,{annotateExperiments:[...l.isAuthenticated?["authDesktop"===a?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page"]:[],l.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth",..."authDesktop"===a?["closeup_dweb_side_by_side_redesign_fast_follow"]:[],..."authDesktop"===a?["auth_dweb_shuffle_renderer_closeup_v2"]:[]],constraints:"authDesktop"===a?[...t.d0]:["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],surface:"pin_closeup",children:e})}},685178:function(e,a,l){l.d(a,{Z:()=>j});var n,i=l(667294);l(167912);var t=l(883119),r=l(779548),s=l(369416),o=l(611282),d=l(887946),u=l(436475),c=l(54840),p=l(483180),g=l(535701),m=l(611499),_=l(747859),y=l(785893);let h=`
.CloseupTitleCard {
  color: #444;
  font-weight: bold;
}

.CloseupTitleCard .richPinInformation {
  padding: 0 40px 16px;
  padding-top: 0;
  width: 470px; /* 80% of closeup width */
}

.CloseupTitleCard a {
    color: #444;
}

.CloseupTitleCard a:hover,
.CloseupTitleCard a:active {
  color: #444;
}`,f=void 0!==n?n:n=l(176376),k=e=>{let{carouselData:a,title:l}=e??{};if(l)return!0;if(a){let{carouselSlots:e,index:l}=a;if(null!=l&&e?.[l]&&e[l].title)return!0}return!1},x=e=>{let{clientTrackingParams:a,children:l,isLink:n=!0,onClick:i,pin:r,carouselInfo:s}=e,u=(0,d.Z)(r),c=(0,g.Z)(),{closeupWithinMasonryEnabled:p,peekCloseupEnabled:m}=(0,_.x4)(),h=r.imageSpec_orig?.url&&r.imageSpec_orig.width&&r.imageSpec_orig.height?r.imageSpec_orig:null,f=l;if(s){let{carouselData:e}=s||{},{carousel_slots:a=[],index:l}=e||{};a&&null!=l&&a[l]&&(u=a[l].link||u,f=a[l].title||f)}let k=r?.originPinner&&c.isAuth&&c.id===r.originPinner.entityId||!r.isGoLinkless,x=(0,o.Z)({href:{pathname:u??h?.url??"",state:{trackingParams:a}},clientTrackingParams:a,target:"blank",externalData:{pin:r&&{advertiserId:r.advertiserId,attributionSourceId:r.attributionSourceId,board:r.board&&{url:r.board.url},campaignId:r.campaignId,entityId:r.entityId,isDownstreamPromotion:r.isDownstreamPromotion,isPromoted:r.isPromoted,pinner:r.pinner&&{username:r.pinner.username},pinPromotionId:r.pinPromotionId,promoter:r.promoter&&{entityId:r.promoter.entityId},storyPinDataId:r.storyPinDataId,trackingParams:r.trackingParams}}});if(!e.pin.entityId)return null;let v=f&&(0,y.jsx)(t.X6,{accessibilityLevel:1,lineClamp:m?2:void 0,size:p?"400":"600",children:f});return(0,y.jsx)("div",{itemProp:"name",children:(n||u)&&k?(0,y.jsx)(t.rU,{href:u??h?.url??"",onClick:({event:e,dangerouslyDisableOnNavigation:a})=>{a(),i&&i(),x({event:e})},rel:"nofollow",target:"blank",underline:"none",children:v}):v})},v=e=>{if(!e.pin.entityId)return null;let{entityId:a}=e.pin,l=e.pin.imageSpec_736x?.url&&e.pin.imageSpec_736x.width&&e.pin.imageSpec_736x.height?e.pin.imageSpec_736x:null;return(0,y.jsxs)(t.xu,{children:[(0,y.jsx)("meta",{content:`https://${p.Vi}/pin/${a}/`,itemProp:"url"}),l&&(0,y.jsx)("meta",{content:l.url,itemProp:"image"})]})},P=e=>{if(!e.pin.entityId)return null;let{pin:a}=e||{},{gridTitle:l,title:n}=a||{},t=l||n;return(0,y.jsx)(i.Fragment,{children:t&&(0,y.jsx)(c.Z,{children:(0,y.jsx)(x,{...e,children:t})})})},S=e=>{if(!e.pin.entityId)return null;let{pin:a}=e||{},{richMetadata:l,gridTitle:n}=a||{},{title:t}=l||{};return(0,y.jsx)(i.Fragment,{children:(n||t)&&(0,y.jsx)(c.Z,{itemType:m.iB.PRODUCT,children:(0,y.jsxs)(x,{...e,children:[n||t,(0,y.jsx)(v,{...e})]})})})},b=e=>{if(!e.pin.entityId)return null;let{pin:a}=e||{},{richMetadata:l,gridTitle:n}=a||{},{title:i}=l||{};return(0,y.jsx)(c.Z,{itemType:m.iB.ARTICLE,children:(0,y.jsx)(x,{...e,children:n||i})})},F=e=>{if(!e.pin.richMetadata?.recipe?.name)return null;let{name:a}=e.pin.richMetadata.recipe;return(0,y.jsx)(c.Z,{itemType:m.iB.RECIPE,children:(0,y.jsx)(x,{...e,children:a})})},w=e=>e.pin.richMetadata?.tutorial?.fromAggregatedData||!e.pin.richMetadata?.tutorial?.name?null:(0,y.jsx)(c.Z,{children:(0,y.jsx)(x,{...e,children:(0,y.jsx)(t.xu,{children:e.pin.richMetadata.tutorial.name})})}),T=e=>{let a=!!e.pin.richSummary?.displayName;return a?(0,y.jsx)(c.Z,{children:(0,y.jsx)(x,{...e,children:(0,y.jsx)(t.xu,{children:a})})}):null},I=e=>{if(!e.pin.entityId)return null;let{gridTitle:a}=e.pin||{};return(0,y.jsx)(c.Z,{itemType:m.iB.ARTICLE,children:(0,y.jsx)(x,{...e,children:a})})};function K(e){let{carouselInfo:a}=e,{carouselData:l}=a||{},{carousel_slots:n}=l||{};return((n||[])[0]||{}).title}let C=e=>{let{pin:a,...l}=e;if(!e.pin.entityId)return null;let n=K(l);return(0,y.jsx)(c.Z,{itemType:m.iB.ARTICLE,children:(0,y.jsx)(x,{...e,children:n})})},j=({pinKey:e,...a})=>{let l=(0,r.Z)(f,e),{carouselInfo:n,onTitleCheck:o}=a,d=!!l.entityId&&!!l.gridTitle,c=!!l.richMetadata?.tutorial?.name,p=!!l.richMetadata?.recipe?.name,g=!!l.richMetadata?.article?.name,m=!!l.richSummary?.displayName,x=(0,u.Z)(l),{clientTrackingParams:v}=(0,_.x4)(),j=I,L=!1;return n&&l.entityId&&K(a)?j=C:x?j=S:k(l)?j=P:c?j=w:p?j=F:g?j=b:m?j=T:d||(L=!0),(0,i.useEffect)(()=>{o?.(L)},[L,o]),(0,y.jsxs)(i.Fragment,{children:[(0,y.jsx)(s.Z,{unsafeCSS:h}),(0,y.jsx)("div",{className:"CloseupTitleCard",children:(0,y.jsx)(t.xu,{children:(0,y.jsx)(j,{...a,clientTrackingParams:v,pin:l})})})]})}},477464:function(e,a,l){l.d(a,{Z:()=>t});var n=l(453179),i=l(938287);let t=(e,a)=>{let l=e.action||void 0,t=(0,i.Z)({url:e.location.search});return"PUSH"===l?"click":("POP"!==l||e.location.key)&&"news_hub"!==t.entrySource?a&&(0,n.sV)(a)?"deeplink":"click":"deeplink"}},294868:function(e,a,l){l.d(a,{Yf:()=>n});let n=e=>{let{url:a,width:l,height:n}=e||{};return a&&l&&n?{url:a,width:l,height:n}:void 0}},711313:function(e,a,l){l.d(a,{Z:()=>d});var n,i=l(667294);l(167912);var t=l(779548),r=l(776250),s=l(431338);let o=void 0!==n?n:n=l(208540);function d({logCommerceAuxData:e,deepLinkBackGoesToBoard:a,element:l,goBack:n,pinKey:d,routePush:u,trafficSource:c,viewer:p,requestContext:g,viewType:m,viewParameterType:_,componentType:y},h){let f=(0,t.Z)(o,d),k=(0,s.Z)(f),x=p.isAuth&&p.partner;return{onHandleBackButtonClick:(0,i.useCallback)(()=>{let i=f.promotedLeadForm?.leadId,t=e?k():null;f.promotedIsLeadAd?(h({event_type:4100,view_type:175,view_parameter:null,component:null,object_id_str:f.entityId,aux_data:{...t,lead_form_id:i,is_lead_ad:1}}),h({event_type:10369,view_type:175,view_parameter:null,component:14307,duration_ns:13606e6,object_id_str:f.entityId,aux_data:{lead_form_id:i,is_lead_ad:1}})):h({aux_data:t,event_type:101,view_type:m||3,view_parameter:_||(0,r.Z)({hasPin:!0,hasPinRichMetadata:!!f.richMetadata,hasPinRichMetadataProducts:!!f.richMetadata?.products,hasPinRichMetadataArticle:!!f.richMetadata?.article,hasPinRichMetadataRecipe:!!f.richMetadata?.recipe,hasPinStoryPinData:!!f.storyPinData}),...y?{component:y}:void 0,element:l||34});let s="deep_linking"===c&&!a,{utm_source:o,news_hub_id:d}=function(e){let a=e.searchParams;return{utm_source:a.get("utm_source")??"",utm_medium:a.get("utm_medium")??"",utm_campaign:a.get("utm_campaign")??"",news_hub_id:a.get("news_hub_id")??""}}(new URL(g.fullPath,g.origin));return"31"==`${o}`&&d?u(`/news_hub/${d}`):s?u(x?"/homefeed/":"/"):n()},[y,a,l,k,n,e,h,f.entityId,f.promotedIsLeadAd,f.promotedLeadForm?.leadId,f.richMetadata,f.storyPinData,g.fullPath,g.origin,u,c,_,m,x])}}},607233:function(e,a,l){l.d(a,{Z:()=>n});function n(){return["aggregatedpindata.aggregated_stats","aggregatedpindata.creator_analytics","aggregatedpindata.id","aggregatedpindata.is_shop_the_look","aggregatedpindata.pin_tags","board.collaborated_by_me","board.followed_by_me","board.id","board.image_thumbnail_url","board.is_collaborative","board.layout","board.name","board.owner()","board.privacy","board.type","board.url","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","comment.commenter()","comment.created_at","comment.deletable_by_me","comment.id","comment.text","comment.type","domain.official_user()","pin.access","pin.ad_destination_url","pin.ad_match_reason","pin.additional_hide_reasons","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.board()","pin.carousel_data()","pin.collection_pin()","pin.comment_count","pin.comments(limit:5,resume:true)","pin.created_at","pin.creator_analytics","pin.debug_info_html","pin.description_html","pin.description","pin.domain","pin.dominant_color","pin.embed","pin.grid_description","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.image_square_url","pin.images[170x,136x136,236x,474x,736x,orig]","pin.images[236x]","pin.is_downstream_promotion","pin.is_eligible_for_pdp","pin.is_eligible_for_web_closeup","pin.is_native","pin.is_playable","pin.is_promoted","pin.is_quick_promotable","pin.is_repin","pin.is_uploaded","pin.is_video","pin.is_whitelisted_for_tried_it","pin.link_domain()","pin.link_user_website()","pin.link","pin.manual_interest_tags","pin.method","pin.native_creator()","pin.pinner()","pin.price_currency","pin.price_value","pin.privacy","pin.promoted_is_removable","pin.promoted_lead_form","pin.promoter()","pin.reaction_counts","pin.repin_count","pin.rich_summary()","pin.shopping_flags","pin.product_metadata()","product_metadata.shopping_flags","pin.sponsorship","pin.story_pin_data_id","pin.story_pin_data()","pin.title","pin.tracking_params","pin.type","pin.videos()","pin.view_tags","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","pintag.pin_tag_key","pintag.pins()","pintag.type","pintag.x_percent","pintag.y_percent","user.blocked_by_me","user.explicitly_followed_by_me","user.full_name","user.id","user.image_large_url","user.image_small_url","user.is_verified_merchant","user.type","user.username","user.verified_identity","userwebsite.official_user()","video.id","video.video_list[V_HLSV4,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]"]}},97781:function(e,a,l){l.d(a,{Z:()=>u});var n=l(883119),i=l(475498),t=l(525839),r=l(302148),s=l(274320),o=l(535701),d=l(785893);function u({boardName:e,boardUrl:a,isBoardlessPin:l,isFromPinBuilder:u,hasNewPin:c,onChangeButtonClick:p,onVisitButtonClick:g=()=>{},onHide:m,onUndo:_,pinImageUrl:y}){let h,f=(0,t.ZP)(),{checkExperiment:k}=(0,s.F)(),x=(0,o.Z)(),v=!!x.isAuth&&x.isPartner,P=l&&k("web_all_toasts_lead_to_boards").anyEnabled?v?"/me/pins/":"/me/_pins/":"/me/";return u?h={accessibilityLabel:f.bt("Visit Pin", "Visit Pin", "PostSavedPinToast.a11yVisitButton", undefined, true),label:f.bt("Visit", "Visit", "PostSavedPinToast.VisitButton", undefined, true),size:"lg",onClick:g}:(p||_)&&(h={accessibilityLabel:c&&l&&p?f.bt("Change Pin destination", "Change Pin destination", "PostSavedPinToast.a11yChangeButton", undefined, true):f.bt("Undo saved Pin", "Undo Saved Pin", "PostSavedPinToast.a11yUndoButton", undefined, true),label:c&&l&&p?f.bt("Change", "Change", "PostSavedPinToast.ChangeButton", undefined, true):f.bt("Undo", "Undo", "PostSavedPinToast.UndoButton", undefined, true),size:"lg",onClick:c&&l&&p?()=>p():_}),(0,d.jsx)(i.Z,{duration:l?6e3:3e3,imageUrl:y,onHide:m,primaryAction:h,text:(0,d.jsx)(n.xv,{overflow:"normal",size:"200",children:(0,r.nk)(f.bt("Saved to {{ destination }}", "Saved to {{ destination }}", "PostSavedPinToast.SavedToBoardLabel", undefined, true),{destination:(0,d.jsx)(n.rU,{href:l?P:a??"",children:(0,d.jsx)(n.xv,{lineClamp:1,size:"200",weight:"bold",children:e},"PostSavedPinToastBoardName")})})}),thumbnail:l?{icon:(0,d.jsx)(n.JO,{accessibilityLabel:f.bt("Saved to profile thumbnail", "Saved to profile thumbnail", "PostSavedPinToast.thumbnail.accessibilityLabel", undefined, true),color:"default",icon:"history",size:24})}:void 0})}},725191:function(e,a,l){l.r(a),l.d(a,{default:()=>g});var n=l(883119),i=l(980787),t=l(93966),r=l(351607),s=l(138758),o=l(902293),d=l(747859),u=l(396162),c=l(785893);let p=t.yF;function g({contextLogData:e,bubbles:a,id:l,referringSource:t,slotIndex:g,storyType:m,title:_,titleIcon:y,viewType:h,viewParameter:f}){let{logContextEvent:k}=(0,i.v)(),{closeupWithinMasonryEnabled:x}=(0,d.x4)(),v=a?.map(({type:e,id:a})=>e+":"+a).join("|"),P={story_type:m,...e,content_ids:v},S=!!y&&(0,o.Z)(y);return(0,c.jsx)(r.F,{componentType:200,contextLogData:P,impressionType:"Story",loggingId:l,objectIdStr:l,slotIndex:g,viewParameter:f,viewType:h,children:({impressionTrackerRef:e})=>(0,c.jsxs)(n.xu,{ref:e,children:[_&&(0,c.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:1,children:[S&&(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,c.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:S,size:14})}),(0,c.jsx)(n.xv,{weight:"bold",children:(0,s.Z)(_)})]}),a?.map((e,a)=>(0,c.jsx)(n.xu,{flex:"none",paddingY:1,children:(0,c.jsx)(u.Z,{bubble:e,contextLogData:P,height:103,onClick:e=>{k({event_type:101,object_id_str:e,view_type:h,view_parameter:f,component:200,aux_data:P})},referringSource:t,slotIndex:a,storyId:l,viewParameter:f,viewType:h,width:x?"100%":p})},`bubble-${e.id}`))]})})}},966838:function(e,a,l){function n(e){return{type:"PIN_QUICK_SAVE",payload:e}}function i(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}l.d(a,{X:()=>i,d:()=>n})},846051:function(e,a,l){l.d(a,{Z:()=>r});var n=l(706563),i=l(287819),t=l(169330);function r(e,a,l,r){switch(e){case 0:return function({isShortened:e,minutes:a,i18n:l}){if(!a)return"";if(e)return(0,t.Z)(a,l).join("");let r=(0,i.Z)((0,n.X)({m:a}),l);if(!r)return"";let s=r.join(""),o=l.bt("Cooking time", "Cook Time", "ideapin.basics.cookTime", undefined, true);return`${o}: ${s}`}({minutes:parseInt(a,10),i18n:l,isShortened:r});case 1:return function({servingSize:e,i18n:a}){return e?1===e?`${e} ${a.bt("serving", "serving", "ideapin.basics.servings", undefined, true)}`:`${e} ${a.bt("servings", "servings", "ideapin.basics.servings", undefined, true)}`:""}({servingSize:parseInt(a,10),i18n:l});case 2:return function({difficulty:e,i18n:a}){let l={1:a.bt("Easy", "Easy", "closeup.storyPin.basicsLayout.difficulty", undefined, true),2:a.bt("Intermediate", "Intermediate", "closeup.storyPin.basicsLayout.difficulty", undefined, true),3:a.bt("Expert", "Expert", "closeup.storyPin.basicsLayout.difficulty", undefined, true)},n=a.bt("Difficulty", "Difficulty", "ideapin.basics.difficulty", undefined, true);return`${n}: ${l[e??"1"]}`}({difficulty:a,i18n:l});default:return""}}},213967:function(e,a,l){l.d(a,{Z:()=>n});let n=e=>e.join(` \u2022 `)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/13040.en_GB-7709d6676a2a9400.mjs.map