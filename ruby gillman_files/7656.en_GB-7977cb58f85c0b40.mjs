(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["7656"],{17314:function(e,t,r){r.d(t,{Z:()=>u});var i,n,a=r(813653),o=r(831423),s=0,l=0;let u=function(e,t,r){var u=t&&r||0,d=t||Array(16),c=(e=e||{}).node||i,m=void 0!==e.clockseq?e.clockseq:n;if(null==c||null==m){var p=e.random||(e.rng||a.Z)();null==c&&(c=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==m&&(m=n=(p[6]<<8|p[7])&16383)}var f=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:l+1,g=f-s+(h-l)/1e4;if(g<0&&void 0===e.clockseq&&(m=m+1&16383),(g<0||f>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,l=h,n=m;var v=((0xfffffff&(f+=122192928e5))*1e4+h)%0x100000000;d[u++]=v>>>24&255,d[u++]=v>>>16&255,d[u++]=v>>>8&255,d[u++]=255&v;var b=f/0x100000000*1e4&0xfffffff;d[u++]=b>>>8&255,d[u++]=255&b,d[u++]=b>>>24&15|16,d[u++]=b>>>16&255,d[u++]=m>>>8|128,d[u++]=255&m;for(var w=0;w<6;++w)d[u+w]=c[w];return t||(0,o.Z)(d)}},897315:function(e,t,r){var i;r.r(t),r.d(t,{default:()=>a});let n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i=[{args:null,kind:"FragmentSpread",name:"PinRepInner_board"}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:i,storageKey:null},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};n.hash="4a14df4142363241fba79dec5c9e9f45";let a=n},249152:function(e,t,r){r.r(t),r.d(t,{default:()=>n});let i={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};i.hash="cf7ae619f5ec8cf58cf3302e69136b1d";let n=i},184139:function(e,t,r){r.r(t),r.d(t,{default:()=>n});let i={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};i.hash="bb4e0fc2e1a319a6b7c65cb9ad5c8cb6";let n=i},890479:function(e,t,r){r.d(t,{Z:()=>l});var i=r(667294),n=r(274320),a=r(603316),o=r(785893);let s=console,l=({id:e,children:t})=>{let r=(0,n.F)(),l=(0,i.useRef)(!1),u=(0,i.useRef)({renderCount:0,renderTime:{mount:0,slowestUpdate:0,average:0},totalRenderTime:0}),d=(0,i.useRef)(r.checkExperiment("perf_profiler_logs").anyEnabled);return(0,i.useEffect)(()=>()=>{l.current&&(d.current&&s.info(`ProfilerWithStats - ${e}`,u.current),(0,a.LY)("webapp.renderStats.mount",u.current.renderTime.mount,{sampleRate:.1,tags:{id:e}}),(0,a.LY)("webapp.renderStats.slowest",u.current.renderTime.slowestUpdate,{sampleRate:.1,tags:{id:e}}),(0,a.LY)("webapp.renderStats.average",u.current.renderTime.average,{sampleRate:.1,tags:{id:e}}),(0,a.S0)("webapp.renderStats.count",u.current.renderCount,{tags:{id:e}}))},[u,e]),(0,o.jsx)(i.Profiler,{id:`ProfilerWithStats-${e}`,onRender:(e,t,r)=>{l.current=!0,u.current.renderCount+=1,u.current.totalRenderTime+=r,u.current.renderTime.average=u.current.totalRenderTime/u.current.renderCount,"mount"===t?(u.current.renderTime.mount=r,u.current.renderTime.slowestUpdate=r):u.current.renderTime.slowestUpdate<r&&(u.current.renderTime.slowestUpdate=r)},children:t})}},390843:function(e,t,r){r.d(t,{Hv:()=>l,aX:()=>c,nK:()=>m});var i=r(667294),n=r(616550),a=r(729434),o=r(785893);let{Provider:s,useHook:l}=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),u=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){let r={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&u(e.forward[0].location)===u(r.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:r};default:return e}}function c(){let{current:e,previous:t}=l();return(0,i.useMemo)(()=>e?t.concat(e):t,[e,t])}function m({children:e}){let t=(0,n.k6)(),r=(0,n.TH)(),a=(0,n.$B)(),l={forward:[],current:{action:t.action,location:r,match:a},previous:[]},[u,c]=(0,i.useReducer)(d,l),m=(0,i.useRef)(r);if(m.current!==r){let{action:e}=t;c({type:e,location:r,match:a}),m.current=r}return(0,o.jsx)(s,{value:u,children:e})}},115247:function(e,t,r){r.d(t,{Z:()=>o});var i=r(667294);function n(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a extends i.Component{constructor(...e){super(...e),n(this,"ref",(0,i.createRef)()),n(this,"observer",null),n(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let o=a},278533:function(e,t,r){r.d(t,{Z:()=>a});var i=r(686319),n=r(378888);let a=(e=()=>{})=>{let t=(0,n.mB)(window.location.search),{invite_code:r}=t;if(!r)return void e(t);let a=encodeURIComponent(encodeURIComponent(r));(0,i.Z)({url:"/v3/invite_code/attribution/land/",method:"POST",data:{invite_code:a}})}},355363:function(e,t,r){r.d(t,{Z:()=>u});var i=r(336057),n=r(667294),a=r(392824),o=r(67831),s=r(594885),l=r(573746);function u({children:e,isAtEndOfFeed:t,pinData:r,itemCount:u,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:m=!1,isPlaceholderGrid:p,stopwatchSetVisuallyCompleteResult:f,stopwatchContext:h}){let{isAuthenticated:g}=(0,l.b)(),v=(0,s.Z)()?.isAuthenticated||g;v||(m=!0),(0,i.Z)({pinData:r,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:c,includeSections:m,isPlaceholderGrid:p,stopwatchSetVisuallyCompleteResult:f,isAuth:v,stopwatchContext:h});let b=(0,o.E)(),w=(0,n.useRef)(null);return(0,n.useEffect)(()=>{u!==w.current&&(w.current=u,b&&(0,a.ZP)(a.at))},[!!b,u]),e}},336057:function(e,t,r){r.d(t,{Z:()=>_,v:()=>g});var i=r(667294),n=r(274320),a=r(457636),o=r(592109),s=r(579358),l=r(901360),u=r(392824),d=r(67831),c=r(293169),m=r(754545),p=r(610046),f=r(603316);let h=(0,o.XV)("GridProfiler"),g=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,s.VZ)(),v=e=>"LAYOUT"===e.status&&500||"TIMING"===e.status&&100||null,b=(e,t)=>{if(!t){let t=(0,s.LM)();if(t===e)return h("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,s.F9)())return h("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}},w=(e,t)=>{let r=0,i=0,n=0,a=0,o=0;return e=e.filter(e=>"pin"===e.type),t.forEach((t,s)=>{let l,u=t.fileName.split(".")[0];l=e[s],u!==l?.image_signature&&(l=e.find(e=>u===e?.image_signature)),void 0===l?o+=1:l.is_promoted||l.recommendation_reason?.reason==="PROMOTED_PIN"||l?.promoter?.length?n+=1:null!==l.story_pin_data_id&&void 0!==l.story_pin_data_id?r+=1:l?.videos?.video_list?i+=1:a+=1}),{storyPinCount:r,videoCount:i,adCount:n,imageCount:a,unknownCount:o}},y=(e,t)=>{let r=()=>{window.removeEventListener(e,r),t()};return window.addEventListener(e,r),()=>window.removeEventListener(e,r)};function _({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:r,includeVideos:g=!1,includeSections:_,isPlaceholderGrid:P,stopwatchSetVisuallyCompleteResult:C,stopwatchContext:E,isAuth:S}){let A=(0,d.E)(),T=A?.getId()||(0,m.P9)(),L=A?.setVisuallyCompleteResult,k=({imageTimings:e})=>{C&&C(),L&&L({imageTimings:e}),(0,m.cB)(e)},[I,R]=(0,i.useState)({status:"DISABLED"}),O=(0,n.F)();(0,i.useEffect)(()=>{R({status:"LAYOUT",failedCount:0,numOfItemsChecked:0})},[T]),(0,i.useEffect)(()=>{if(h("new status",I),"LAYOUT"===I.status){let e=y("scroll",()=>{(0,u.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[I.status]),(0,p.Z)(()=>{let i="unknown",n="unknown",u=()=>{},d=e=>{A?A.abort(e):E?.abort()};if(A){let{getMetricId:e}=A,t=e();n=t.surface,i=(0,a.KJ)(t),u=A.addBinaryAnnotation}else n="stopwatch",i=`${n}_${E?.name}`,E?.addBinaryAnnotation&&(u=E?.addBinaryAnnotation);let p=(0,s.cQ)(r,g,_);if(P)return void h("bypassing PWT run due to skeleton pin grid");switch(I.status){case"LAYOUT":{let t=b(I.numOfItemsChecked,e);t.complete?R({status:"TIMING",failedCount:0,pinElements:p}):500*I.failedCount>6e4?((0,l.A9)(`images.${i}.visuallyComplete.maxLayoutAttempt`),d("visuallyComplete_layoutTimeout"),(0,m.JG)("visuallyComplete_layoutTimeout"),R({status:"DISABLED"})):R({...I,failedCount:I.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,c.Cg)(),r=I.pinElements.length,a=[],s=0,p=0,g=0,v=1/0,b=0;if(I.pinElements.forEach(({element:t,fileName:r})=>{let i=e.find(e=>e.name.endsWith(r));i?i.responseEnd?(a.push(i),(0,o.v5)(t,"green"),"search"===n&&(v=Math.min(v,i.requestStart),b=Math.max(b,i.responseEnd))):(g+=1,(0,o.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(p+=1,(0,o.v5)(t,"red")):(s+=1,(0,o.v5)(t,"greenyellow"))}),s||g)100*I.failedCount>6e4?((0,l.A9)(`images.${i}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:r,incompleteCount:s,noTimingCount:p,noTimingResponseEndCount:g}}),d("visuallyComplete_timingTimeout"),(0,m.JG)("visuallyComplete_timingTimeout"),R({status:"DISABLED"})):R({...I,failedCount:I.failedCount+1});else{if(h(`All ${a.length} images are fetched`),t&&t.length){let e=w(t,I.pinElements);if(Object.entries(e).forEach(([e,t])=>{u(e,t,"I16"),(0,m.XJ)(e,t,"I16")}),(0,l.A9)(`${i}.pinTypes`,{tags:e}),"search"===n){let e=b-v;t[0].display_options?.num_columns_requested===0?(0,f.LY)("full_width_story_image_fetch_time_true",e,{sampleRate:1}):(0,f.LY)("full_width_story_image_fetch_time_false",e,{sampleRate:.05})}}if(S&&"search"===n){let{group:e}=O.checkExperiment("dweb_grid_loading_state");e&&(0,f.S0)("webapp.gridVisuallyComplete.loadingState",r,{sampleRate:1,tags:{group:e}})}k({imageTimings:a}),R({status:"DISABLED"}),(0,l.A9)(`images.${i}.visuallyComplete.complete`,{tags:{totalImageCount:r,noTimingCount:p}})}}}},v(I))}},607001:function(e,t,r){r.d(t,{Z:()=>a});var i=r(417162),n=r(929915);let a=()=>{let e=(0,i.g)(),t=(0,n.l)();return r=>{let{mobileOptions:i,desktopOptions:n,reason:a,attributionLabel:o,pinId:s}=r;e?e.showDesktopSignupModal({signupFlow:n?.modalType==="login"?{type:"login"}:{type:"signup"},reason:a,attributionLabel:o,...n?.modalOptions}):t&&t.showMobileSignupModal({reason:a,attributionLabel:o,headingType:i?.headingType??"none",pinId:s})}}},591226:function(e,t,r){r.d(t,{N:()=>n,q:()=>i});let i=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(e){return window.console.error("Cannot access sessionStorage."),t}},n=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(e){window.console.error("Cannot access sessionStorage.")}}},123998:function(e,t,r){r.d(t,{Z:()=>v});var i=r(667294),n=r(883119),a=r(390843),o=r(115247),s=r(15667),l=r(734215),u=r(732888),d=r(738140),c=r(166641),m=r(169053),p=r(785893);function f(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h extends i.Component{constructor(e){super(e),f(this,"componentWillUnmount",()=>{this.unregisterComponent()}),f(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:r,objectId:i,timeSpentContext:n,view:a,viewParameter:o}=this.props;return{view:a||n?.view,viewParameter:o||n?.viewParameter,component:t||n?.component,element:r,objectId:i||n?.objectId,clientTrackingParams:e||n?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),f(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),f(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e?.getParentUuid?.()}),f(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),f(this,"getTimedPair",()=>this.state.timedPair),f(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),f(this,"isRegistered",!1),f(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),f(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),f(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:r,left:i,right:n,top:a}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===r&&0===i&&0===n&&0===a?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new u.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,l.Z)(e.auxData,this.props.auxData)&&(0,l.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverBoxHeight:t}=this.props;return(0,p.jsx)(d.$,{value:this.getContext(),children:(0,p.jsx)(o.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:r=>(0,p.jsx)(n.xu,{ref:r,height:t??"100%",children:i.Children.only(e)})})})}}function g(e){let t=(0,a.Hv)(),r=(0,d.Z)(),n=(0,c.Z)(),o=(0,m.H0)(),{requestIdentifier:l=""}=(0,s.B)(),u={app_instance_id:l.slice(0,8),...e.auxData??{}};return(0,i.useEffect)(()=>{n?.setHistoryStackContext(t)},[t,n]),(0,i.useEffect)(()=>{n?.setPins(o??{})},[o,n]),n?(0,p.jsx)(h,{...e,auxData:u,timeSpentContext:r,timeSpentManager:n,children:e.children}):e.children}g.displayName="DeprecatedTimeSpent";let v=g},738140:function(e,t,r){r.d(t,{$:()=>i,Z:()=>n});let{Provider:i,useMaybeHook:n}=(0,r(729434).Z)("timeSpentContext")},732888:function(e,t,r){r.d(t,{Z:()=>s,h:()=>o});var i=r(172045),n=r(17314);function a(e,t,r){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let o="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now(),s=class{constructor(e){a(this,"start",()=>(this.startTime=o(),this.startTime)),a(this,"end",()=>(this.endTime=o(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,i.Z)()}catch(e){this.uuid=(0,n.Z)()}e&&Object.assign(this,e)}}},734263:function(e,t,r){r.d(t,{Z:()=>a});var i=r(883119),n=r(785893);function a({ariaHidden:e=!1,color:t,size:r}){return(0,n.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,n.jsx)(i.xv,{color:t,inline:!0,size:r??"200",children:"\xb7"})})}},610046:function(e,t,r){r.d(t,{Z:()=>n});var i=r(667294);let n=(e,t)=>{let r=(0,i.useRef)(()=>{});(0,i.useEffect)(()=>{r.current=e},[e]),(0,i.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>r.current(),t);return()=>clearInterval(e)},[t])}},664897:function(e,t,r){r.d(t,{Z:()=>s});var i=r(667294);let n=()=>()=>{},a=()=>!1,o=()=>!0,s=()=>(0,i.useSyncExternalStore)(n,a,o)},821651:function(e,t,r){r.d(t,{K:()=>b,r:()=>w});var i=r(667294),n=r(729434),a=r(886981),o=r(535701),s=r(295317),l=r(591226),u=r(974705);let d=e=>{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&("object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?t[(0,u.Z)(r)]=e[r]:t[(0,u.Z)(r)]=d(e[r]));return t},c=(e,t)=>{let r=[];for(let i in e)i!==t&&r.push({id:i,...d(e[i])});let i=r.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),n=new Map;for(let e of i)n.set(e.id,e);return n},m={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},p=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},f=({dispatch:e,isEnabled:t,state:r})=>{let{orbacVisibility:n,disableProfileChanger:a,headerVisible:o}=r,s=(0,i.useCallback)(r=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:r})},[t,e]);return{changeProfile:s,toggleORBACVisibility:(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:r??!n})},[t,e,n]),toggleDisableProfileChanger:(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:r??!a})},[t,e,a]),toggleHeaderVisibility:(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:r??!o})},[t,e,o])}},h=e=>{let[t,r]=(0,i.useReducer)(p,m),n=f({dispatch:r,isEnabled:e,state:t}),{activeProfile:a,orbacVisibility:o}=t;return(0,i.useEffect)(()=>{let e=(0,l.q)("orbacActiveProfile",!1);e&&r({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,i.useEffect)(()=>{let e=(0,l.q)("orbacVisibilty",!1);e&&r({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,i.useEffect)(()=>{(0,l.N)("orbacVisibility",o)},[o]),(0,i.useEffect)(()=>{(0,l.N)("orbacActiveProfile",a)},[a]),{state:t,actions:n,receiveProfiles:(0,i.useCallback)((e,t)=>{r({type:"LOAD_PROFILES",payload:c(e,t)})},[r])}};var g=r(785893);let{Provider:v,useMaybeHook:b}=(0,n.Z)("RoleBasedAccessControlContext"),w=({children:e})=>{let t,r=(0,o.Z)(),n=!!(r.isAuth&&r.isPartner),{state:l,actions:u,receiveProfiles:d}=h(n),{activeProfile:c,headerVisible:m,profiles:p=[]}=l,f=p?Array.from(p.values()):[],b=(0,s.Z)(f),w=!!r.isAuth&&f.length>0&&b,y=r.isAuth?r.id:"",_=r.isAuth?r.username:"",{changeProfile:P,toggleORBACVisibility:C,toggleDisableProfileChanger:E,toggleHeaderVisibility:S}=u;(0,i.useEffect)(()=>{if(n){if("string"==typeof b)return void P(b);c||P(y)}},[b,y,n,P,c]),(0,i.useEffect)(()=>{n&&(w&&!m&&S(!0),!w&&m&&S(!1))},[S,w,n,m,p]);let{data:A}=(0,a.Z)(n?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),T=A?.profiles;r&&r.isAuth&&l.activeProfile===r.id?t={id:r.id,permissions:["OWNER"],user:{username:_,businessName:r.fullName,imgUrl:r.imageSmallUrl}}:c&&l.profiles&&(t=l.profiles.get(c)),(0,i.useEffect)(()=>{T&&d(T,y)},[d,T,y]);let L=l.profiles?Array.from(l.profiles.values()):[];return(0,g.jsx)(v,{value:{profiles:L,headerVisible:l.headerVisible,activeProfile:t,changeProfile:P,toggleORBACVisibility:C,toggleDisableProfileChanger:E,toggleHeaderVisibility:S},children:e})}},448505:function(e,t,r){r.d(t,{Z:()=>o});var i=r(274320),n=r(821651),a=r(295317);let o=()=>{let{checkExperiment:e}=(0,i.F)(),t=(0,n.K)(),{activeProfile:r}=t||{},o=(0,a.Z)(t?.profiles||[]),{anyEnabled:s}=e("useorbacroutematcher_in_useorbacactingas");return s&&!o?Object.freeze({}):r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:Object.freeze({})}},295317:function(e,t,r){r.d(t,{Z:()=>s});var i=r(616550),n=r(506662),a=r(535701),o=r(169053);let s=e=>{let t=(0,i.TH)(),r=(0,a.Z)(),s=(0,o.S6)(),l=(0,i.$B)("/:username"),u=l?.params?.username,d=(0,i.$B)("/pin/:id"),c=!!d?.params?.id&&s(d.params.id)?.pinner?.id;if((0,n.ej)(t))return!1;if((0,n.RU)(t)||(0,n.mY)(t))return!0;let m=e.concat(r.isAuth?{user:{username:r.username},id:r.id}:{}).find(e=>{let{user:t={},id:r}=e||{},{username:i}=t;return(!!i&&!!u||!!c&&!!r)&&(i===u||c===r)});return!!m&&m.id}},7872:function(e,t,r){r.d(t,{D3:()=>c,DX:()=>u,Fk:()=>i,KY:()=>m,Ms:()=>n,N1:()=>p,_P:()=>l,gJ:()=>a,lJ:()=>s,nl:()=>o,q6:()=>d});let i=(e,t)=>{let r=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(r=t.user.businessName),r},n=(e,t)=>{let r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},a=(e,t)=>{let r=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(r=t.user.imgUrl),r},o=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),s=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",l=(e,t,r)=>r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:e.advertiser?.merchant_id,u=(e,t,r)=>r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,d=(e,t,r)=>!!(e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t),c=(e,t,r)=>!!(d(e,t,r)||e&&e.isAuth&&t===e.id),m=(e,t,r)=>c(e,t&&t.owner&&t.owner.id||"",r);function p(e,t,r){return c(e,t?t.id:"",r)}},845421:function(e,t,r){r.d(t,{rX:()=>y,ZP:()=>w,Tw:()=>f}),r(167912);var i,n,a,o=r(890479),s=r(355940),l=r(221020),u=r(779548),d=r(975740),c=r(169053),m=r(78762),p=r(785893);let f=(0,m.Z)(()=>Promise.all([r.e("25418"),r.e("61947")]).then(r.bind(r,578916)),void 0,e=>578916,"DefaultPinRep"),h=void 0!==i?i:i=r(184139),g=void 0!==n?n:n=r(249152),v=void 0!==a?a:a=r(897315),b=e=>{var t,r,i,n;let{pinId:a,pinKey:m,...h}=e,g=m&&"GraphQL"===(0,l.o)(m),b=(0,u.Z)(v,m),w=(0,c.S6)()(a),y=(0,d.gC)(),_=(t=!!g,b||t?b:w?{type:"deprecated",data:w}:null);return _&&(0,p.jsx)(s.Z,{name:"DefaultPinRep",type:"critical",children:(0,p.jsx)(o.Z,{id:"DefaultPinRep",children:(0,p.jsx)(f,{...h,boardKey:(r=!!g,i=b?.pinnedToBoard||b?.board||null,n=y(w?.pinned_to_board?.id||w?.board?.id||""),r?i:n?{type:"deprecated",data:n}:null),pinKey:_})})})};function w({duploQueryRef:e,...t}){let r=(0,u.Z)(h,e);return(0,p.jsx)(b,{...t,pinKey:r})}function y(e){let t=(0,u.Z)(g,e.pinKey);return(0,p.jsx)(b,{...e,pinKey:t})}},975740:function(e,t,r){r.d(t,{bn:()=>s,fJ:()=>u,gC:()=>l});var i=r(581722),n=r(729434),a=r(785893);let{Provider:o,useHook:s}=(0,n.Z)("Boards");function l(){let e=s();return t=>e[t]}function u({children:e}){let t=(0,i.v9)(({boards:e})=>e,i.wU);return(0,a.jsx)(o,{value:t,children:e})}},151594:function(e,t,r){r.d(t,{f:()=>s,w:()=>l});var i=r(667294),n=r(729434),a=r(785893);let{Provider:o,useHook:s}=(0,n.Z)("Session");function l({children:e}){let[t,r]=(0,i.useState)(void 0),n=(0,i.useCallback)(()=>r(void 0),[]),s=(0,i.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:r,removeUnauthFollowUserId:n}),[t,n]);return(0,a.jsx)(o,{value:s,children:e})}},509120:function(e,t,r){r.d(t,{Z:()=>d});var i=r(667294),n=r(883119),a=r(785893);function o(e){return`${Math.min(100*e,100)}%`}function s({customCover:e,imgPos:t,imgUrl:r,isBoardCoverLoadEnabled:n}){let[a,s]=(0,i.useState)({height:0,loaded:!n,width:0}),{height:l,loaded:u,width:d}=a;if((0,i.useEffect)(()=>{let e=new Image;e.onload=()=>{s({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=r},[r]),!e||!t||!l||!d)return{loaded:u,position:"center center"};let c=d-t.width,m=l-t.height,p=c>0?o(t.x/c):"center",f=m>0?o(t.y/m):"center";return{loaded:u,position:`${p} ${f}`}}function l(e){let{loaded:t,position:r}=s(e),{imgUrl:i}=e,o={backgroundImage:`url(${i})`,backgroundPosition:r,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,a.jsx)(n.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:o},"data-test-id":"cover-image",children:(0,a.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function u(e){let{loaded:t,position:r}=s(e),{alt:i,color:o,imgUrl:l}=e;return(0,a.jsx)(n.zd,{height:"100%",width:"100%",children:t&&(0,a.jsx)("img",{alt:i||"",src:l,style:{backgroundColor:o||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:r,width:"100%"}})})}function d(e){let{isBoardCoverLoadEnabled:t,renderAsImage:r}=e;return r?(0,a.jsx)(u,{...e,isBoardCoverLoadEnabled:t}):(0,a.jsx)(l,{...e,isBoardCoverLoadEnabled:t})}},271597:function(e,t,r){r.d(t,{AC:()=>o,FC:()=>d,FP:()=>l,M0:()=>s,SA:()=>m,Xq:()=>c,Y_:()=>a,o2:()=>n,s0:()=>i,z9:()=>u});let i=44,n=40,a=49,o=69,s=236,l=157,u=320,d=213,c=7,m=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"]},732347:function(e,t,r){r.d(t,{N4:()=>a,Wh:()=>i,hr:()=>n});let i=e=>e.bt("Log in to continue", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),n=e=>e.bt("You're almost there! Log in to access all of Pinterest", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),a=({i18n:e,toFollow:t})=>t?e.bt("Log in to follow", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("Log in to unfollow", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/7656.en_GB-7977cb58f85c0b40.mjs.map