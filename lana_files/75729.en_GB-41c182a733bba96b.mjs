(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["75729"],{293565:function(e,t,i){i.d(t,{G6:()=>a,i7:()=>l,oi:()=>n,u$:()=>r,un:()=>o,vU:()=>s,w1:()=>d});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),r=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function a(e){return r(e)===n.SAFARI}function l(e){return r(e)===n.CHROME}function s(e){return r(e)===n.FIREFOX}function o(e){return r(e)===n.EDGE}function d(e){return r(e)===n.IE}},32499:function(e,t,i){i.d(t,{Z:()=>l});var n=i(255581),r=i(464332),a=i(403135);function l(e,t){let i=Math.round(1e3*Math.random())+"",l=Math.round(1e3*Math.random())+"";r.t8((0,n.GS)(i),l);let s={token:`${i}-${l}`,url:e,...t&&!t.params?t.queryParams:t?.params&&{pin:t.params.pinId??void 0,isThirdPartyAd:t.params.isThirdPartyAd??void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,a.Z)(s)}`}},392735:function(e,t,i){i.d(t,{Z:()=>l});var n=i(686319),r=i(440568),a=i(707079);let l=async({clientTrackingParams:e,href:t,pinId:i,spamCheckCallback:l})=>{let s=await function(e){let t=(0,r.Z)(e),i=a.y8.get("ApiResource",t);if(i)return i;let l=(0,n.Z)(e);return a.y8.add("ApiResource",t,l),l}({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:i,url:t}});if(!s.resource_response.error){let{message:e,redirect_status:t,url:i}=s.resource_response.data||{};l({blocked:["blocked","suspicious","porn"].includes(t),message:e,redirectStatus:t,sanitized_url:i})}}},189998:function(e,t,i){i.d(t,{Z:()=>n});function n({isOffsiteUrl:e,event:t}){return!e&&(t.metaKey||t.ctrlKey)}},641866:function(e,t,i){i.d(t,{Z:()=>d});var n=i(785873),r=i(16025);let a=e=>"string"!=typeof e&&e?e.state:null;var l=i(909816),s=i(576087),o=i(673079);let d=({event:e,onHistoryChange:t,href:i,history:d,target:u})=>{let c=(0,r.Z)(i),p=a(i)??{},_=(0,l.Z)(c);_===o.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===u?(0,n.Z)(c,"blank"===u):d&&_===o.Z.SAME_ORIGIN&&(d.push((0,s.Z)({url:c}),{from:d.location,...p}),t&&t({event:e}))}},664503:function(e,t,i){i.d(t,{Z:()=>a});var n=i(785873),r=i(32499);function a(e,t){(0,n.Z)((0,r.Z)(e,t),!0,t?.features)}},378957:function(e,t,i){i.d(t,{Z:()=>r});var n=i(678241);function r({location:e,pinId:t,surface:i}){return!!i&&!n.ZF.includes(i)||e.pathname.includes(t)}},611282:function(e,t,i){i.d(t,{Z:()=>m});var n=i(667294),r=i(616550),a=i(392735),l=i(189998),s=i(641866),o=i(378957),d=i(865637),u=i(16025),c=i(47426),p=i(28382),_=i(603316);function m(e){let{clientTrackingParams:t,externalData:i,href:m,onHistoryChange:h,target:f}=e,[g,k]=(0,n.useState)(null),I=(0,r.k6)(),y=(0,r.TH)(),P=(0,u.Z)(m),b=(0,c.Z)({url:P}),{showWarning:A}=(0,p.s)()??{},{pin:v,surface:E}=i||{},S=t||v?.trackingParams,Z=(0,d.Z)();return(0,n.useEffect)(()=>{b&&v&&null===g&&(!v.promoter||v.isDownstreamPromotion)&&(0,o.Z)({location:y,pinId:v.entityId,surface:E})&&(0,a.Z)({clientTrackingParams:S,pinId:v.entityId,spamCheckCallback:e=>k(e),href:P})},[S,v,E,P,b,y,g]),({event:e})=>{if(!(0,l.Z)({isOffsiteUrl:b,event:e})){if(e.preventDefault(),!m||"string"==typeof m&&m.startsWith("#"))return void(0,_.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:y.pathname,href:m}});b||i?.dangerouslyForceOffsiteUrl?Z({auxData:i?.auxData,clientTrackingParams:S,pin:i?.pin&&{attributionSourceId:i.pin.attributionSourceId,campaignId:i.pin.campaignId,isPromoted:i.pin.isPromoted,pinPromotionId:i.pin.pinPromotionId,isThirdPartyAd:i.pin.isThirdPartyAd,advertiserId:i.pin.advertiserId,destinationUrl:i.pin.destinationUrl,link:i.pin.link,domain:i.pin.domain},pinId:i?.pin?.entityId,queryParams:i?.queryParams,showWarning:A,spamCheck:g,url:P}):(0,s.Z)({event:e,href:m,history:I,onHistoryChange:h,target:"blank"===f?"blank":null})}}}},865637:function(e,t,i){i.d(t,{Z:()=>h});var n=i(898582),r=i(781011),a=i(915493),l=i(293565),s=i(785873),o=i(980787),d=i(32499),u=i(664503),c=i(756988);let p=(e,t,i)=>{let n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block",n.setAttribute(r.$N.ATTRIBUTION_SOURCE_ID,e),n.setAttribute(r.$N.ATTRIBUTE_DESTINATION,i),n.setAttribute(r.$N.ATTRIBUTE_ON,i),n.click()},_=(e,t,i,n,l,s,o)=>{let d=(0,a.Z)(e,[i,n,l],!0,s,o),u=document.createElement("a");u.setAttribute("href",t),u.setAttribute("target","_blank"),u.setAttribute("rel","noopener nofollow noreferrer"),u.style.cursor="pointer",u.style.display="block",u.setAttribute(r.NR.SOURCE,d),u.click()},m=()=>{let{logContextEvent:e}=(0,o.v)();return({attributionSourceId:t,auxData:i,campaignId:r,clientTrackingParams:a,href:s,isPromoted:o,pinId:u,pinPromotionId:c,isThirdPartyAd:m,advertiserId:h,destinationUrl:f,link:g,domain:k})=>{if(!o)return!1;let I=(0,n.Z)(),y={params:{pinId:u,csrId:null,clientTrackingParams:a,auxData:i,isThirdPartyAd:m}},P=(0,d.Z)(s,y);I?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&o&&s===f&&(fetch((0,d.Z)(f,y),{redirect:"manual"}),P=f);let b=I?.userAgent.browserName??"";if((0,l.G6)(b)){let i=I?.userAgent.browserVersion?I.userAgent.browserVersion:"0.0",n=parseFloat(i.split(".")[0]+"."+i.split(".")[1]);if(t&&n>=14.1)return p(t,P,s),e({event_type:101,clientTrackingParams:a,object_id_str:u||"",aux_data:{pin_id:u||"",click_measurement_ppid:c||"",click_measurement_campaign_id:r||"",is_pcm:!0,attribution_source_id:t,page_url:s}}),!0}else if((0,l.i7)(b)&&window.document.featurePolicy?.allowsFeature("attribution-reporting"))return _(t,P,f,g,k,r,h),e({event_type:101,clientTrackingParams:a,object_id_str:u||"",aux_data:{pin_id:u||"",click_measurement_ppid:c||"",click_measurement_campaign_id:r||"",is_arapi:!0,attribution_source_id:t,page_url:s}}),!0;return!1}},h=e=>{let t=m();return({auxData:i,clientTrackingParams:r,pin:a,pinId:l,queryParams:o,showWarning:p,spamCheck:_,url:m})=>{if("undefined"!=typeof window&&window.Windows)return void(0,c.Z)(m,{clientTrackingParams:r,pinId:l,hasPin:!!a,auxData:i,isThirdPartyAd:a?.isThirdPartyAd});if(!a&&!e?.isFromClickthroughLink)return void(0,u.Z)(m,o?{queryParams:o}:{params:{pinId:l}});if(_?.blocked)return void p?.(_);if(a&&t({attributionSourceId:a.attributionSourceId,auxData:i,campaignId:a.campaignId?String(a.campaignId):null,clientTrackingParams:r,href:m,isPromoted:a.isPromoted,pinId:l,pinPromotionId:a.pinPromotionId?String(a.pinPromotionId):null,isThirdPartyAd:a.isThirdPartyAd,advertiserId:a.advertiserId?a.advertiserId:null,destinationUrl:a.destinationUrl,link:a.link,domain:a.domain}))return;let h={params:{clientTrackingParams:r,auxData:i,pinId:l,isThirdPartyAd:a?.isThirdPartyAd}},f=(0,n.Z)();if(f?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&a?.isPromoted&&m===a?.destinationUrl){fetch((0,d.Z)(m,h),{redirect:"manual"}),(0,s.Z)(m,!0);return}(0,u.Z)(m,h)}}},724084:function(e,t,i){i.d(t,{RC:()=>p,Wr:()=>c,Hx:()=>_});var n=i(667294),r=i(729434),a=i(496406),l=i(914071),s=i(785893);let o=()=>Promise.resolve().then(i.bind(i,496406)),{Provider:d,useHook:u}=(0,r.Z)("IdeaPinVideoPlayer");function c({children:e}){let[t,i]=(0,l.Z)(o,a.initialState),r=(0,n.useMemo)(()=>({dispatch:i,ideaPinVideoPlayerControls:t}),[i,t]);return(0,s.jsx)(d,{value:r,children:e})}function p(){let{dispatch:e}=u();return(0,n.useMemo)(()=>({updateSeekTime:(t,i)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:i||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})}}),[e])}function _(){let{ideaPinVideoPlayerControls:e}=u();return e}},496406:function(e,t,i){i.r(t),i.d(t,{default:()=>r,initialState:()=>n});let n={seekTimes:{},currentProgressInfo:{currentTime:0,duration:0}};function r(e=n,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime}};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{}};default:return e}}},576087:function(e,t,i){i.d(t,{Z:()=>a});let n=(e,t)=>0===e.lastIndexOf(t,0);var r=i(869273);let a=({url:e})=>{let t=(0,r.Z)("/");return n(e,t)?e.substr(t.length-1):e}},792171:function(e,t,i){i.d(t,{W:()=>u,r:()=>d});var n=i(667294),r=i(980787),a=i(729434),l=i(274320),s=i(785893);let{Provider:o,useHook:d}=(0,a.Z)("VideoPlayer");function u({children:e}){let{logContextEvent:t,logImpression:i}=(0,r.v)(),{checkExperiment:a}=(0,l.F)(),[d,u]=(0,n.useState)(!1),[c,p]=(0,n.useState)([]),[_,m]=(0,n.useState)([]),[h,f]=(0,n.useState)({}),g=a("web_ads_mrc_video_impression").anyEnabled,k=e=>{f(t=>({...t,[e]:!0}))},I=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],i=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");g&&(t||i)&&p(t=>[...t,e].slice(-1e3))}},[g]),y=(0,n.useCallback)(e=>{18===e.eventType&&g&&m(t=>[...t,e].slice(-1e3))},[g]),P=e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}},b=e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null};(0,n.useEffect)(()=>{let e=c.filter(e=>{let{pinIdStr:i}=e.event_data.pinImpressions[0];return!h[i]||!g||(t(P(e)),!1)});e.length!==c.length&&p(e)},[c,g,t,h]),(0,n.useEffect)(()=>{let e=_.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(h[t]&&g){let t=b(e);return t&&i(t),!1}return!0});e.length!==_.length&&m(e)},[_,g,i,h]);let A=(0,n.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:y,logMrcVideoAdEventOnPlay:I,setCaptionsEnabled:u,setVideoPlayed:k,videosPlayed:h}),[d,I,y,h]);return(0,s.jsx)(o,{value:A,children:e})}},756988:function(e,t,i){i.d(t,{Z:()=>a});var n=i(686319),r=i(664503);function a(e,t){let{auxData:i,clientTrackingParams:a,hasPin:l,pinId:s,isThirdPartyAd:o}=t||{},d={pin_id:s,check_only:!0,client_tracking_params:l?a:void 0,url:e,aux_data:JSON.stringify(i)};o&&(d.third_party_ad=s,delete d.pin_id),(0,n.Z)({url:"/v3/offsite/",data:d}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:i,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(i)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,r.Z)(e,{params:l?{pinId:s,clientTrackingParams:a,auxData:i,isThirdPartyAd:o}:{pinId:s}})})}},678241:function(e,t,i){i.d(t,{Wv:()=>r,ZF:()=>n,zI:()=>a,zl:()=>l});let n=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],r=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],a=[...r,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","SearchAdsOnlyModule","ShoppingTool","ProductPinRetrieval"],l=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton"]},458460:function(e,t,i){i.d(t,{H8:()=>_,Ut:()=>p,fr:()=>c});var n=i(667294),r=i(729434),a=i(914071),l=i(987765),s=i(785893);let o=()=>i.e("77027").then(i.bind(i,145581)),{Provider:d,useHook:u}=(0,r.Z)("IdeaPin");function c({children:e}){let[t,i]=(0,a.Z)(o,l.Z),r=(0,n.useMemo)(()=>({dispatch:i,ideaPin:t}),[i,t]);return(0,s.jsx)(d,{value:r,children:e})}function p(){let{dispatch:e}=u();return(0,n.useMemo)(()=>({setIdeaPinActivePage:t=>{e({type:"IDEA_PIN_ACTIVE_PAGE",payload:{activePage:t}})},setIdeaPinDynamicWidth:t=>{e({type:"IDEA_PIN_DYNAMIC_WIDTH",payload:{dynamicWidth:t}})}}),[e])}function _(){let{ideaPin:e}=u();return e}},987765:function(e,t,i){i.d(t,{Z:()=>n});let n={activePage:0,dynamicWidth:0}},28382:function(e,t,i){i.d(t,{s:()=>h,Z:()=>f});var n=i(667294),r=i(729434),a=i(608575),l=i(883119),s=i(982166),o=i(525839),d=i(302148),u=i(785893);let c=()=>{let e=(0,o.ZP)(),{dismissWarning:t}=h()??{};return(0,u.jsx)(l.xu,{paddingX:3,children:(0,u.jsx)(l.zx,{color:"red",fullWidth:!0,onClick:t,text:e.bt("OK", "Okay", "Dismiss a modal stating that clicking through to a link has been blocked", undefined, true)})})},p=()=>{let e=(0,o.ZP)();return(0,u.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(l.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/community-guidelines#section-spam",target:"blank",underline:"hover",children:e.bt("Learn more", "Learn more", "Link text leading to policy website", undefined, true)})})},_=({message:e,sanitized_url:t})=>{let i=(0,o.ZP)(),{dismissWarning:n}=h()??{};return(0,u.jsx)(s.ZP,{accessibilityModalLabel:i.bt("We have blocked this link", "We have blocked this link", "Modal label when clicking a spammy link", undefined, true),footer:(0,u.jsx)(c,{}),heading:i.bt("Heads up!", "Heads up!", "Modal heading when clicking through to a link has been blocked", undefined, true),onDismiss:n,children:(0,u.jsxs)(l.xu,{padding:6,children:[(0,u.jsx)(l.xv,{children:(0,d.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,u.jsx)(p,{},"learnMoreLink")})}),(0,u.jsxs)(l.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,u.jsx)(l.xu,{marginEnd:3,children:(0,u.jsx)(l.JO,{accessibilityLabel:i.bt("Blocked link address", "Blocked link address", "Icon label preceding a block url", undefined, true),color:"error",icon:"report",inline:!0,size:24})}),(0,u.jsx)(l.xv,{inline:!0,lineClamp:1,weight:"bold",children:a.parse(t).hostname})]})]})})},{Provider:m,useMaybeHook:h}=(0,r.Z)("SpammyClickthrough");function f({children:e}){let[t,i]=(0,n.useState)(null),r=(0,n.useCallback)(()=>{i(null)},[i]),a=(0,n.useCallback)(e=>{i(e)},[i]),l=(0,n.useMemo)(()=>({dismissWarning:r,showWarning:a}),[r,a]);return(0,u.jsxs)(m,{value:l,children:[t&&(0,u.jsx)(_,{...t}),e]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/75729.en_GB-41c182a733bba96b.mjs.map