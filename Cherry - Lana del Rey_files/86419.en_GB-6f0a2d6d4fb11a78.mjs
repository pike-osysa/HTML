(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["86419"],{470131:function(e,t,n){n.d(t,{YD:()=>u,df:()=>d});var i=n(667294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var r=new Map,o=new Map,s=0;function l(e,t,n){if(void 0===n&&(n={}),!e)return function(){};var i=function(e){var t=Object.keys(e).sort().filter(function(t){return void 0!==e[t]}).map(function(t){var n;return t+"_"+("root"===t?(n=e.root)?(o.has(n)||(s+=1,o.set(n,s.toString())),o.get(n)):"0":e[t])}).toString(),n=r.get(t);if(!n){var i,a=new Map,l=new IntersectionObserver(function(t){t.forEach(function(t){var n,r=t.isIntersecting&&i.some(function(e){return t.intersectionRatio>=e});e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=r),null==(n=a.get(t.target))||n.forEach(function(e){e(r,t)})})},e);i=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:l,elements:a},r.set(t,n)}return n}(n),a=i.id,l=i.observer,c=i.elements,d=c.get(e)||[];return c.has(e)||c.set(e,d),d.push(t),l.observe(e),function(){d.splice(d.indexOf(t),1),0===d.length&&(c.delete(e),l.unobserve(e)),0===c.size&&(l.disconnect(),r.delete(a))}}function c(e){return"function"!=typeof e.children}var d=function(e){function t(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),c(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e;var n=t.prototype;return n.componentDidUpdate=function(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},n.componentWillUnmount=function(){this.unobserve(),this.node=null},n.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,i=e.rootMargin,a=e.trackVisibility,r=e.delay;this._unobserveCb=l(this.node,this.handleChange,{threshold:t,root:n,rootMargin:i,trackVisibility:a,delay:r})}},n.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},n.render=function(){if(!c(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var r=this.props,o=r.children,s=r.as,l=r.tag,d=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)t.indexOf(n=r[i])>=0||(a[n]=e[n]);return a}(r,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView"]);return(0,i.createElement)(s||l||"div",a({ref:this.handleNode},d),o)},t}(i.Component);function u(e){var t=void 0===e?{}:e,n=t.threshold,a=t.delay,r=t.trackVisibility,o=t.rootMargin,s=t.root,c=t.triggerOnce,d=t.skip,u=t.initialInView,p=(0,i.useRef)(),_=(0,i.useState)({inView:!!u}),h=_[0],m=_[1],g=(0,i.useCallback)(function(e){void 0!==p.current&&(p.current(),p.current=void 0),!d&&e&&(p.current=l(e,function(e,t){m({inView:e,entry:t}),t.isIntersecting&&c&&p.current&&(p.current(),p.current=void 0)},{root:s,rootMargin:o,threshold:n,trackVisibility:r,delay:a}))},[Array.isArray(n)?n.toString():n,s,o,c,d,r,a]);(0,i.useEffect)(function(){p.current||!h.entry||c||d||m({inView:!!u})});var f=[g,h.inView,h.entry];return f.ref=f[0],f.inView=f[1],f.entry=f[2],f}d.displayName="InView",d.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}},347073:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarketingPixelQuery",selections:r=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetThirdPartyTrackingSettingsQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PrivacyPolicyRules",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sendEventsToFacebook",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sendPixel",storageKey:null}],storageKey:null}],type:"V3GetThirdPartyTrackingSettings",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MarketingPixelQuery",selections:r},params:{id:"0af0ebc3d1bdfa898b3fb7209156a29f43e45a5762ade8f5909b21f8930336ca",metadata:{},name:"MarketingPixelQuery",operationKind:"query",text:null}};i.hash="d461335ac93d4f0aac1c624d0f23c98a";let a=i;var r,o=i.default||i;if("query"===o.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(o);else{let e=[o.params.name,o.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=o}},897315:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>r});let a={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepDefaultPinRep_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i=[{args:null,kind:"FragmentSpread",name:"PinRepInner_board"}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:i,storageKey:null},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};a.hash="4a14df4142363241fba79dec5c9e9f45";let r=a},249152:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRepVariant_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};i.hash="cf7ae619f5ec8cf58cf3302e69136b1d";let a=i},184139:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"shouldShowSeoDrawerOption"},{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"shouldShowSeoDrawerOption"},{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"UnifiedPinRepDefaultPinRep_pin"}],type:"Pin",abstractKey:null};i.hash="bb4e0fc2e1a319a6b7c65cb9ad5c8cb6";let a=i},473354:function(e,t,n){n.d(t,{Z:()=>a});var i=n(667016);async function a(e,t){let{api:n}=(0,i.t)(),a=(0,i.u)();try{a.attempt("getMultipleBizEntityProperties",t);let i=new Date().getTime(),r=await n.post("/ads/v4/business_entities",e,!1);return a.success("getMultipleBizEntityProperties",t),a.latency("getMultipleBizEntityProperties",new Date().getTime()-i,t),r}catch(e){throw a.failure("getMultipleBizEntityProperties",t),e}}(0,i.u)()},717805:function(e,t,n){n.d(t,{Z:()=>a});var i=n(667016);async function a(e,t){let{api:n}=(0,i.t)(),a=(0,i.u)();try{a.attempt("setMultipleBizEntityProperties",t);let i=new Date().getTime(),r=await n.patch("/ads/v4/business_entities",e,!1);return a.success("setMultipleBizEntityProperties",t),a.latency("setMultipleBizEntityProperties",new Date().getTime()-i,t),r}catch(e){throw a.failure("setMultipleBizEntityProperties",t),e}}(0,i.u)()},576140:function(e,t,n){n.d(t,{q:()=>_});var i=n(667294),a=n(581722),r=n(616550),o=n(400267),s=n(274320),l=n(378888),c=n(535701),d=n(469817),u=n(932370),p=n(261228);let _=()=>{let{checkExperiment:e}=(0,s.F)(),t=e("ap_dweb_nux_hf_use_case_request",{dangerouslySkipActivation:!0}).anyEnabled,n=e("ap_dweb_nux_in_sync_closeup_request",{dangerouslySkipActivation:!0}).group,_="control_baseline"===n||"enabled_closeup"===n,h=e("ap_dweb_nux_revamp_v3_iteration",{dangerouslySkipActivation:!0}).anyEnabled,m=e("activation_foundation_dweb_autofollow_v2",{dangerouslySkipActivation:!0}).anyEnabled,g=(0,r.TH)(),f=(0,c.Z)(),b=(0,a.I0)(),{selectedUseCases:v,selectedPins:w}=(0,u.B)(),y=(0,d.rQ)(v,w);return(0,i.useCallback)(()=>{let e=f.isAuth&&f.firstHomeFeedRequestAfterNux,n=(0,o.Z)({viewerIsPartner:f.isAuth&&f.isPartner,inNux:(e&&b((0,p.H5)(!1)),e),staticFeed:!!(g&&(g.pathname.includes("pwt_performance_testing")||void 0!==(0,l.mB)(g.search).pwt_performance_testing)),inNewsHub:g?.pathname.includes("news_hub")??!1});return{name:"UserHomefeedResource",options:(t||_||h||m)&&y.length>0?{...n,nux_signals_map:y}:n}},[b,f,g,t,_,h,m,y])}},822464:function(e,t,n){n.d(t,{Z:()=>s,g:()=>r});var i=n(616550),a=n(591226);let r="lastOnHomefeed",o=["/","/homefeed/"];function s(){let{pathname:e}=(0,i.TH)(),t=(0,i.k6)(),n=o.includes(e),s=t&&"POP"!==t.action;if(n&&s){let e=JSON.parse((0,a.q)(r,null)),t=e?.time?Date.now()-e.time:0;return{shouldMaintainHomefeed:t>0&&t/6e4<2.5,lastHFScrollPosition:e?.scrollPosition}}return{shouldMaintainHomefeed:!1}}},400267:function(e,t,n){n.d(t,{Z:()=>i});let i=({inNux:e,inNewsHub:t,staticFeed:n,viewerIsPartner:i})=>({field_set_key:i?"hf_grid_partner":"hf_grid",in_nux:e,in_news_hub:t,static_feed:n})},766576:function(e,t,n){n.d(t,{Z:()=>u});var i=n(667294),a=n(616550),r=n(355940),o=n(15667),s=n(821806),l=n(181444),c=n(785893);let d=(0,i.lazy)(()=>n.e("15279").then(n.bind(n,412997)));function u(e){let{removeInSiteFeedbackModal:t,submitInSiteFeedback:n,inSiteFeedback:i}=(0,l.y)(),{actionFrom:u,isSubmitting:p,modalOpen:_,modalTitle:h,nextPageToRedirect:m,prompt:g,submissionComplete:f,submissionFailure:b}=i,v=(0,a.TH)(),w=(0,o.B)();return _?(0,c.jsx)(r.Z,{name:"SafeSuspense_InSiteFeedbackManager_InSiteFeedbackManagerInternal",children:(0,c.jsx)(s.Z,{children:(0,c.jsx)(d,{...e,actionFrom:u,hideModal:()=>t(),isSubmitting:p,location:v,modalOpen:_,nextPageToRedirect:m,prompt:g,requestContext:w,submissionComplete:f,submissionFailure:b,submitFeedback:e=>n(e),title:h})})}):null}},890479:function(e,t,n){n.d(t,{Z:()=>l});var i=n(667294),a=n(274320),r=n(603316),o=n(785893);let s=console,l=({id:e,children:t})=>{let n=(0,a.F)(),l=(0,i.useRef)(!1),c=(0,i.useRef)({renderCount:0,renderTime:{mount:0,slowestUpdate:0,average:0},totalRenderTime:0}),d=(0,i.useRef)(n.checkExperiment("perf_profiler_logs").anyEnabled);return(0,i.useEffect)(()=>()=>{l.current&&(d.current&&s.info(`ProfilerWithStats - ${e}`,c.current),(0,r.LY)("webapp.renderStats.mount",c.current.renderTime.mount,{sampleRate:.1,tags:{id:e}}),(0,r.LY)("webapp.renderStats.slowest",c.current.renderTime.slowestUpdate,{sampleRate:.1,tags:{id:e}}),(0,r.LY)("webapp.renderStats.average",c.current.renderTime.average,{sampleRate:.1,tags:{id:e}}),(0,r.S0)("webapp.renderStats.count",c.current.renderCount,{tags:{id:e}}))},[c,e]),(0,o.jsx)(i.Profiler,{id:`ProfilerWithStats-${e}`,onRender:(e,t,n)=>{l.current=!0,c.current.renderCount+=1,c.current.totalRenderTime+=n,c.current.renderTime.average=c.current.totalRenderTime/c.current.renderCount,"mount"===t?(c.current.renderTime.mount=n,c.current.renderTime.slowestUpdate=n):c.current.renderTime.slowestUpdate<n&&(c.current.renderTime.slowestUpdate=n)},children:t})}},865540:function(e,t,n){n.d(t,{Z:()=>l});var i=n(274320),a=n(647709),r=n(535701),o=n(448505),s=n(7872);function l(e){let t=(0,a.HG)(),{checkExperiment:n}=(0,i.F)(),l=(0,o.Z)(),c=(0,r.Z)(),d=(0,s.lJ)(c,l),u=!t||n("web_sce_organic_pinbuilder_dep").anyEnabled,p=n("uid_sce_lightswitch_advertisers").anyEnabled;return!d&&(e&&n("sce_lightswitch_organic"),!t||!!(u||p))}},676122:function(e,t,n){n.d(t,{p:()=>l,t:()=>s});var i=n(667294),a=n(729434),r=n(785893);let{Provider:o,useHook:s}=(0,a.Z)("VisualShopContext");function l({children:e}){let[t,n]=(0,i.useState)({}),a=(0,i.useRef)(0),s=(0,i.useRef)("");return(0,r.jsx)(o,{value:{cachedOneBarModules:t,setCachedOneBarModules:n,imageContainerScrollTop:a,imageContainerScrollTopForPinId:s},children:e})}},47244:function(e,t,n){n.d(t,{Z:()=>o});var i=n(667294),a=n(883119),r=n(785893);function o({color:e="red",duration:t,finalProgress:n,shape:o="pill"}){let[s,l]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=setTimeout(()=>{l(!0)},0);return()=>{clearTimeout(e)}},[]);let c="pill"===o;return(0,r.jsx)(a.xu,{color:e,dangerouslySetInlineStyle:{__style:{transform:c?`translateX(${s?"-5px":"-100%"})`:`scaleX(${+!!s})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}},height:c?8:6,rounding:c?"pill":2,width:`${n}%`})}},551969:function(e,t,n){let i;n.d(t,{Z:()=>u,e:()=>o});var a=n(293565),r=n(785873);let o="data-pinterest-extension-installed",s=()=>Promise.resolve().then(n.bind(n,966872)),l=100,c={},d={[a.oi.CHROME]:{url:"https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",newWindow:!0},[a.oi.FIREFOX]:{url:"https://addons.mozilla.org/en-US/firefox/addon/pinterest/",newWindow:!1},[a.oi.SAFARI]:{url:"https://apps.apple.com/us/app/save-to-pinterest/id6473649042",newWindow:!0},[a.oi.EDGE]:{url:"https://microsoftedge.microsoft.com/addons/detail/pinterest-save-button/bkgoflemacdadndiohhdnphcmdhacabg/",newWindow:!0}};c.handleExtensionInstall=(e,t)=>{let n=(0,a.u$)(e),i=n?d[n].url:void 0;i&&((0,r.Z)(i,n?d[n].newWindow:void 0),t())},c.isExtensionInstalled=()=>i,c.isBrowserExtensionSupported=e=>(0,a.i7)(e)||(0,a.vU)(e)||(0,a.un)(e)||(0,a.G6)(e),c.extensionReady=(e,t=l)=>new Promise(n=>{setTimeout(()=>{document.body&&(i=document.body.hasAttribute(o),c.isBrowserExtensionSupported(e)||(i=!0),n(i))},t)}),c.initBrowserExtension=()=>{s().then(({default:e})=>{e.logToServer(e.SERVER_LOG_TYPE.BROWSER_EXTENSION,e.HTTP_METHOD.POST,{browser_extension_installed:i})})};let u=c},509207:function(e,t,n){n.d(t,{Z:()=>i});let i='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},99e4:function(e,t,n){n.d(t,{Z:()=>_});var i=n(667294),a=n(883119),r=n(876594),o=n(636755),s=n(525839),l=n(369416),c=n(694955),d=n(941404),u=n(572227),p=n(785893);let _=({displayLocation:e})=>{let t=(0,s.ZP)(),n=(0,u.Z)(),[_,h]=(0,i.useState)((0,o.a)());return(0,i.useEffect)(()=>{h((0,o.a)())},[]),(0,p.jsxs)(a.xu,{paddingX:2,paddingY:4,children:[(0,p.jsx)(l.Z,{unsafeCSS:`
          [data-test-id="pinterest-terms-and-privacy"]:hover {
            border-radius: ${r.Zy6};
            background: ${r.CK8};
          }
          /* These two selectors ensure that the hover state for the link encompasses the background color and padding. */
          [data-test-id="pinterest-terms-and-privacy"] {
            position: relative;
          }
          [data-test-id="pinterest-terms-and-privacy"] a::before {
            content: '';
            position: absolute;
            inset: 0;
          }
        `}),(0,p.jsxs)(a.kC,{alignItems:"stretch",dataTestId:"unauth-settings-flyout",direction:"column",justifyContent:"start",children:[(0,p.jsx)(a.xu,{"data-test-id":"pinterest-terms-and-privacy",padding:3,children:(0,p.jsx)(a.xv,{color:"default",weight:"bold",children:(0,p.jsx)(a.rU,{href:c.U5h,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,d.NC)("click_terms_and_privacy"),n({action:"click",item:"pinterest-terms-and-privacy"})},underline:"none",children:t.bt("See Terms & Privacy", "See terms & privacy", "Text for the terms section in setting button in the header", undefined, true)})})}),(0,p.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",padding:3,children:[(0,p.jsx)(a.xu,{flex:"grow",marginEnd:2,children:(0,p.jsx)(a.__,{htmlFor:"StopModalsRequest",children:(0,p.jsx)(a.xv,{color:"default",weight:"bold",children:t.bt("Stop requests to login", "Stop requests to log in", "A button to prevent the login/signup prompts from popping up", undefined, true)})})}),(0,p.jsx)(a.xu,{"data-test-id":"stop-login-request",right:!0,children:(0,p.jsx)(a.rs,{id:"StopModalsRequest",onChange:()=>{h(!_),(0,o.B)(!_),(0,d.NC)("click_stop_login_request"),n({action:"click",item:_?"stop-login-request":"enable-login-request",within:`unauth-${e}`})},switched:_})})]})]})]})}},681970:function(e,t,n){n.d(t,{Z:()=>p});var i=n(781011),a=n(378888),r=n(669442),o=n(817998);let s={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},l=e=>{let t={};return e&&(t={objectiveTypes:[e]}),t},c=e=>{let{campaignId:t,objectiveType:n,partialCreate:i,catalogsFeedId:a,managedClientId:o,catalogId:s,productGroupId:l,resumeLastDraft:c}=e,d={};return t&&i&&(d.campaignId=t),n&&(d.objectiveType=n),"CATALOG_SALES"===n&&a&&(d.catalogsFeedId=a),s&&(d.catalogId=s),l&&(d.productGroupId=l),o&&(d.managedClientId=o),c&&(d.resumeLastDraft=!0),(0,r.Z)("/ads/create/",d)},d=e=>{let{campaignToolPreference:t,...n}=e;return(0,r.Z)("/automated/ads/create/",n)},u={overview:()=>"/",reporting:e=>{let t=e.objectiveType||null;delete e.objectiveType;let n={...e,...l(t)};return(0,r.Z)("/reporting/campaigns/",n)},reportingAdGroup:e=>{let{campaignId:t,objectiveType:n,showAllEntities:i,adGroupId:a,message:o}=e,c={campaignIds:[t],...i?s:{},...l(n),...a?{adGroupIds:[a]}:{},message:o};return(0,r.Z)("/reporting/adgroups/",c)},campaign:e=>{let{id:t,objectiveType:n}=e;return(0,r.Z)("/reporting/adgroups/",{campaignIds:[t],...l(n)})},editCampaign:e=>e.isAutomatedCampaign?u.editAutomated({campaignId:e.id,view:"campaign"}):u.editV2({campaignId:e.id,view:"campaign"}),adgroup:e=>{let{id:t,objectiveType:n,showAllEntities:i,pinPromotionId:a,campaignId:o}=e;return"TEMPORARY_SHOPPING"===n||"CATALOG_SALES"===n?(0,r.Z)("/reporting/productgroups/",{adGroupIds:[t],...l(n)}):(0,r.Z)("/reporting/ads/",{adGroupIds:[t],...l(n),...i?s:{},...a?{pinPromotionIds:[a]}:{},...o?{campaignIds:[o]}:{}})},editAdGroup:e=>e.isAutomatedCampaign?u.editAutomated({campaignId:e.id,view:"campaign"}):u.editV2({adGroupId:e.id,view:"adgroup"}),pinPromotion:e=>{let{id:t,adFilter:n}=e;return(0,r.Z)("/reporting/ads/",{pinPromotionIds:[t],...n?{adFilter:n}:{}})},editPinPromotion:e=>{let t=e.isCreatingPins?{isCreatingPins:!0}:{},n=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return u.editV2({adGroupId:e.adGroupId,view:"ad",...n,...t})},productGroup:e=>{let{id:t,name:n}=e;return(0,r.Z)("/reporting/productgroups/",{productGroupIds:[t],name:n})},campaigns:()=>"/reporting/campaigns/",adgroups:()=>"/reporting/adgroups/",ads:()=>"/reporting/ads/",bulkEdit:e=>{let{entity_level:t,ids:n}=e;return(0,r.Z)("/ads/bulk_edit/",{entity_level:t,ids:n})},productgroups:()=>"/reporting/productgroups/",productitems:()=>"/reporting/productitems/",campaignNegativeKeywords:()=>"/reporting/campaignNegativeKeywords/",campaignSearchQueries:()=>"/reporting/campaignSearchQueries/",adGroupNegativeKeywords:()=>"/reporting/adGroupNegativeKeywords/",adGroupPositiveKeywords:()=>"/reporting/adGroupPositiveKeywords/",adGroupSearchQueries:()=>"/reporting/adGroupSearchQueries/",ad:e=>u.pinPromotion(e),createPreferred:e=>{switch(e.campaignToolPreference){case o.k.ADS_MANAGER:return c(e);case o.k.AUTOMATED_CAMPAIGN:return d(e);default:return(0,r.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)}},campaignMode:e=>(0,r.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),create:c,createAutomated:d,editV2:e=>(0,r.Z)("/ads/edit/",e),editAutomated:e=>(0,r.Z)("/automated/ads/edit/",e),editDraftCampaign:e=>(0,r.Z)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"}),duplicateCampaign:e=>(0,r.Z)("/ads/duplicate/",e),audiences:e=>(0,r.Z)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),audience_debug:()=>"/audience_debug/",prepaid_spend_campaign_breakdown:()=>"/billing/prepaid_spend_campaign_breakdown/",billing:e=>{let{page:t,subSection:n,nextStepUrl:a}=e;switch(t){case i.kM.BILLING_HISTORY:return"/billing/history/";case i.kM.ORDER_LINES:return"/billing/order_lines/";case i.kM.PROMOTIONS:return"/billing/promotions/";case i.kM.DOCUMENTS:return"/billing/documents/";case i.kM.TAX_DOCUMENTS:return"/billing/tax_documents/";case i.kM.PREPAID_CAMPAIGN_SPEND:return"/billing/prepaid_campaign_spend_summary/";default:let o={};return n&&(o.section=n),a&&(o.next_step_link_url=a),(0,r.Z)("/billing/",o)}},bulk:e=>{let{subSection:t,page:n,jobStarted:a}=e||{};switch(n){case i.fm.UPLOAD_TEMPLATE:return(0,r.Z)("/bulk_editor/upload_template/",{section:t});case i.fm.DOWNLOAD_TEMPLATE:return(0,r.Z)("/bulk_editor/download_template/",{section:t});case i.fm.HISTORY:return(0,r.Z)("/bulk_editor/history/",{section:t,job_started:a});case i.fm.BULK_ID_LIBRARY:return(0,r.Z)("/bulk_editor/bulk_id_library/",{section:t});case i.fm.RESOURCES:return(0,r.Z)("/bulk_editor/resources/",{section:t});default:return"/bulk_editor/"}},experiments:e=>{let{page:t,id:n}=e;switch(t){case i.S9.CREATE:return"/experiments/create/";case i.S9.MANAGE:return"/experiments/manage/";case i.S9.VIEW_REPORT:return`/experiments/manage/${n}`;case i.S9.AB_TEST_CREATE:return"/experiments/ab-test/create";default:return"/experiments/"}},history:e=>(0,r.Z)("/history/",e),shopping:e=>u.reporting(l("TEMPORARY_SHOPPING")),pinterest_tag:e=>{let{page:t,subSection:n,platform:a,source:o,origin:s}=e;switch(t){case i.qp.PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:return"/conversions/events-overview/";case i.qp.PINTEREST_EVENT_HISTORY:if(o)return(0,r.Z)("/conversions/event-history/",{source:o});return"/conversions/event-history/";case i.qp.CONVERSION_HEALTH:return"/conversions/health/";case i.qp.PINTEREST_TEST_EVENTS:return(0,r.Z)("/conversions/test-events/",{subPage:n,platform:a});case i.qp.PINTEREST_TAG:return(0,r.Z)("/conversions/tag/",{subPage:n,platform:a});case i.qp.PINTEREST_TAG_MANUAL_SETUP_FLOW:let l=(0,r.Z)("/conversions/tag_manual_setup/",{origin:s});if(a)return(0,r.Z)(l,{platform:a,source:o});return l;case i.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case i.qp.CONVERSION_UPLOAD:return(0,r.Z)("/conversions/upload/",{subPage:n});case i.qp.UPLOAD_HISTORY:return(0,r.Z)("/conversions/history/",{subPage:n});case i.qp.PCA_UPLOAD_HISTORY:return(0,r.Z)("/conversions/pca_history/",{subPage:n});case i.qp.PCA_UPLOAD:return(0,r.Z)("/conversions/pca_upload/",{subPage:n});case i.qp.CONVERSIONS_API_MANUAL_SETUP_FLOW:if(o||s)return(0,r.Z)("/conversions/api_manual_setup/",{source:o,origin:s});return"/conversions/api_manual_setup/";case i.qp.CONVERSIONS_API_PARTNER_SETUP_FLOW:if(o||s)return(0,r.Z)("/conversions/api_partner_setup/",{source:o,origin:s});return"/conversions/api_partner_setup/";case i.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case i.qp.PINTEREST_SETUP_API:return"/conversions/setup-api/";case i.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";case i.qp.PAYLOAD_HELPER:return"/conversions/payload-helper/";case i.qp.CONVERSIONS:return"/conversions/";case i.qp.NOCODE_CONVERSIONS_API_SETUP_FLOW:return"/conversions/pinterest_capi_connect/";case i.qp.PINTEREST_EVENT_HISTORY_CAPI_TAB:return"/conversions/event-history/#conversionsAPI";case i.qp.PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:return"/conversions/events-overview/#conversionsAPI";default:return"/conversions/tag/"}},"pin-builder":e=>(0,r.Z)("/pin-builder/",e),purchases:()=>u.reporting(l("PURCHASE")),awareness_reserved:()=>u.reporting(l("IMPRESSION")),engagement:()=>u.reporting(l("BILLABLE_ENGAGEMENT")),videos:()=>u.reporting(l("TEMPORARY_BIDDED_CPM_VIDEO")),videos_reserved:()=>u.reporting(l("TEMPORARY_IMPRESSION_VIDEO")),videos_cpv:()=>u.reporting(l("TEMPORARY_MRC_CPV_VIDEO")),conversions:()=>u.reporting(l("WEB_CONVERSION")),accounts_manager:()=>"/accounts_manager/",reporting_preferences:e=>(0,r.Z)("/reporting/preferences/",e),report_builder:e=>(0,r.Z)("/report-center/builder/",e),report_history:e=>(0,r.Z)("/report-center/history/",e),report_unsubscribe:e=>(0,r.Z)("/report-center/unsubscribe/",e),report_download:e=>(0,r.Z)("/report-center/download/",e),awareness:()=>u.reporting(l("AWARENESS")),traffic:()=>u.reporting(l("TRAFFIC")),app_installs:()=>u.reporting(l("APP_INSTALL")),catalog_sales:()=>u.reporting(l("CATALOG_SALES")),web_conversion:()=>u.reporting(l("WEB_CONVERSION")),video_view:()=>u.reporting(l("VIDEO_VIEW")),quick_promote:e=>(0,r.Z)("/quick-promote/",e),quick_promote_on_www:()=>"/advertiser/quick-promote/",recommendations:e=>(0,r.Z)("/recommendations/",e),catalog_view:()=>"/product-catalogs/data-source",campaign_insights:e=>{let t=`/campaign-insights/${e.campaignId}/`;if(e.queryParams){let{start_date:n,end_date:i,comp_start_date:r,comp_end_date:o}=e.queryParams;t+=`?${(0,a.XP)({start_date:n,end_date:i,comp_start_date:r,comp_end_date:o})}`}return t},product_group_reporting:e=>`/campaign-insights/${e.campaignId}/product-group/${e.productGroupId}`,media_planner:e=>(0,r.Z)("/media_planner/",e),ad_spend_optimizer:e=>(0,r.Z)("/msot-optimizer/",e)},p=u},176007:function(e,t,n){n.d(t,{default:()=>o});var i=n(681970),a=n(694955),r=n(869273);function o(e,t,n){var o;let s;if(!i.Z[e])throw Error(`unknown url key: ${e}`);n||(n={});let l=i.Z[e](n),c=(s=null,(o=n)&&(s=o.advertiserId||null),!s&&t&&(s=t.id),s),d=!!n.absolutify;return"string"==typeof c&&(l="/advertiser/"+c+l),d&&(l=(0,r.Z)(l,void 0,a.KUo)),l}},566848:function(e,t,n){n.d(t,{t:()=>c,Z:()=>d});var i=n(451208),a=n(255581),r=n(464332),o=n(686319),s=n(603316);let l=function(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}}(),c="default"===l||"granted"===l;async function d(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{let{permission:e}=window.Notification,t=await navigator.serviceWorker.ready;if("granted"===e)try{let e=await t.pushManager.getSubscription(),n=await fetch("/getWebPushKey"),{key:l}=await n.json();if(!e&&l){let e={userVisibleOnly:!0,applicationServerKey:(0,i.Mp)(l)};(0,s.nP)("getChromePushSubscription.no_subscription",{sampleRate:1});let n=await t.pushManager.subscribe(e);((e,t)=>{r.t8(a.L9,"allowed",(0,r.kZ)(a.L9)),t&&t(),(0,s.nP)("auth.web.notifications.allowed",{sampleRate:1});let n=e.subscriptionId&&"string"==typeof e.subscriptionId?e.subscriptionId:e.endpoint.split("/").pop(),i={subscription_endpoint:e.endpoint,subscription_info:JSON.stringify(e)};return(0,o.Z)({url:`/v3/users/devices/web/${n}/`,method:"PUT",data:i})})(n,void 0)}}catch(e){(0,s.nP)("getChromePushSubscription.error",{sampleRate:1})}}catch(e){(0,s.nP)("getChromePushSubscription.resubscribe.exception",{sampleRate:1})}}},716022:function(e,t,n){n.d(t,{$K:()=>c,dh:()=>i,ry:()=>s,xX:()=>d});let i=e=>/instagram/i.test(e||""),a=e=>/facebook/i.test(e||""),r=e=>/line/i.test(e||""),o=e=>/wechat/i.test(e||""),s=e=>i(e)||a(e)||r(e)||o(e),l="[Pinterest/Android]",c=e=>(e||"").includes("[Pinterest/iOS]")||(e||"").includes(l),d=e=>(e||"").includes(l)},689302:function(e,t,n){n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),r=n(383791),o=n(241538),s=n(525839),l=n(15667),c=n(785893);let d=({dismiss:e,errorMessage:t})=>{let n=(0,s.ZP)(),{isRTL:i}=(0,l.B)();return(0,c.jsx)(o.Z,{canClose:!1,hidden:!1,type:"error",children:(0,c.jsxs)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"6px"}},margin:"auto",width:380,zIndex:new a.Ry(2e3),children:[(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{fontSize:"20px",fontWeight:"bold",borderBottom:"1px solid #e7e7e7"}},padding:5,children:n.bt("Sorry.", "Oops!", "unauth.error.modal", undefined, true)}),(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:"#333",fontSize:"14px",lineHeight:"21px"}},padding:5,children:t}),(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{float:i?"left":"right"}},padding:4,children:(0,c.jsx)(a.zx,{color:"red",onClick:()=>e(),size:"sm",text:n.bt("OK", "Okay", "unauth.error.modal.okay", undefined, true)})})]})})},u=({children:e})=>{let[t,n]=(0,i.useState)(null),a=(0,i.useRef)(null);return(0,r.o)(e=>{n(e),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{n(null)},3e3)}),(0,i.useEffect)(()=>()=>{a.current&&clearTimeout(a.current)},[]),(0,c.jsxs)(i.Fragment,{children:[e,!!t&&(0,c.jsx)(d,{dismiss:()=>n(null),errorMessage:t})]})}},241538:function(e,t,n){n.d(t,{Z:()=>c});var i=n(667294),a=n(883119),r=n(396227),o=n(941404),s=n(785893);function l(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"state",{hidden:this.props.hidden||!1}),l(this,"handleKeyDown",e=>{let{canClose:t,type:n}=this.props;"Escape"===e.key&&((0,o.My)(`unauth.authentication_modal.esc_key_click.NOT_NOW_BUTTON.${n}.${t?"can":"cant"}_close`),t&&((0,o.My)(`unauth.authentication_modal.esc_key_click.DISMISSED.${n}`),this.close())),e.stopPropagation()}),l(this,"close",()=>{let{onCloseClick:e,onHide:t}=this.props;e?e():(this.setState({hidden:!0}),t&&t())})}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown)}render(){let{hidden:e}=this.state,{canClose:t,children:n,type:i}=this.props;return e?null:(0,s.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"closeup"===i?"rgba(239, 239, 239, 0.96)":"rgba(0, 0, 0, 0.6)",cursor:"closeup"===i?"zoom-out":void 0}},left:!0,opacity:1,position:"fixed",right:!0,top:!0,zIndex:r.P,children:(0,s.jsx)("div",{"aria-label":"modal",onClick:()=>{(0,o.My)(`unauth.full_page_modal.${i}.empty_space_click`),t&&this.close()},role:"dialog",style:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:0,left:0,right:0,top:0,position:"fixed",display:"flex"},children:(0,s.jsx)("div",{"aria-label":"modal",onClick:e=>{e.stopPropagation()},onKeyDown:e=>{t&&"Escape"===e.key&&e.stopPropagation()},role:"dialog",style:{height:"100%",display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},children:n})})})}}},126356:function(e,t,n){n.d(t,{Z:()=>a});var i=n(509207);let a=`
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
nav,
section,
ul {
  display: block;
}

audio,
canvas,
video {
  display: inline-block;
}

audio:not([controls]) {
  display: none;
}

html {
  font-size: 100%;
  text-size-adjust: none;
}

a:hover,
a:active {
  outline: 0;
}

sub,
sup {
  position: relative;
  font-size: 75%;
  line-height: 0;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}

img {
  max-width: 100%;
  width: auto;
  height: auto;

  vertical-align: middle;
  border: 0;
  -ms-interpolation-mode: bicubic;
}

#map_canvas img {
  max-width: none;
}

fieldset {
  border: 0;
  margin: 0;
  padding: 0;
}

button,
input,
select,
textarea {
  font-size: 100%;
  margin: 0;
  vertical-align: middle;
}
button,
input {
  overflow: visible;
  line-height: normal;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  padding: 0;
  border: 0;
}
button,
input[type='button'],
input[type='reset'],
input[type='submit'] {
  cursor: pointer;
  -webkit-appearance: button;
}
textarea {
  overflow: auto;
  vertical-align: top;
}
body {
  margin: 0;
}
h1, h2, h3, h4, h5, h6 {
  margin: 0;
}
figure {
  margin: 0;
}
html {
  background-color: #fff;
}

html, body {
  font-family: ${i.Z};
  color: rgb(33, 25, 34);
  font-size: 12px;
  height: 100%;
}

body {
  position: relative;
  overflow-y: overlay;
  overflow-x: hidden;
}

input::-ms-clear {
  display: none;
}

ul {
  margin: 0;
  padding: 0;
}

ul li {
  list-style: none;
  padding: 0;
}

button, input, select, textarea {
  font-family: ${i.Z};
  font-size: 100%;
  vertical-align: middle;
  margin: 0px;
}

.SkipToContent {
  display: none;
}
`},863419:function(e,t,n){n.d(t,{Z:()=>a,z:()=>r});var i=n(451218);function a(e){let t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){let e=t[1],n=e&&-1!==e.indexOf(".")?e.split("."):[];if(n.length>=2&&"gmail"===n[0]&&"com"!==n.slice(1).join("."))return!0;let a=(0,i.Z)(e,"gmail.com");if("g"===e.charAt(0)&&(1===a||2===a))return!0}return!1}function r(e,t){let n=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==n.length)return!1;let a=n[1],r=a&&-1!==a.indexOf(".")?a.split("."):[],o=r[0];if(o===t&&r.length>3)return!0;if(r.length>=2){let e=(0,i.Z)(o,t);return o.charAt(0)===t.charAt(0)&&(1===e||2===e)}return(2!==r.length||o!==t||2!==r[1].length&&"com"!==r[1])&&(r.length,!1)}},933855:function(e,t,n){n.d(t,{Z:()=>i});let i="M19.1 7.5c-.2-.7-.6-1.3-1-1.8l2.7-2.8-1.5-1.5L16.7 4c-1.4-1.1-3-1.6-4.7-1.6-3.3 0-6.2 2-7.2 5.2-2.9.7-4.8 3.1-4.8 6 0 2 1 3.9 2.5 5L.1 21.1l1.6 1.5 2.9-3c.3.1.7.2 1 .2H18.3c3.2-.2 5.7-2.9 5.7-6.2.1-3-2-5.5-4.9-6.1zm-2.6-.2c.2.4.4.7.5 1.1l.4 1.2 1.2.2c1.9.3 3.3 1.9 3.3 3.9s-1.5 3.8-3.6 4H6.6l9.9-10.4zM2.3 13.6c0-1.8 1.4-3.5 3.1-3.9l1.1-.2.3-1.1c.7-2.3 2.8-3.8 5.1-3.8 1.2 0 2.2.4 3.2 1.1L4.1 17c-1.1-.8-1.8-2-1.8-3.4z"},529575:function(e,t,n){n.d(t,{Z:()=>i});let i="M24.4 8.1c0-4.3-3.6-7.9-7.9-7.9-2.6 0-4.9 1.3-6.4 3.2-2.5.5-4.5 2.3-5.4 4.8-2.7.7-4.7 3.1-4.7 6 0 3.2 2.5 5.9 5.7 6.1H18.3c3.2-.2 5.7-2.9 5.7-6.1 0-.9-.2-1.7-.6-2.4.7-1.1 1-2.4 1-3.7zm-6.2 10H5.9c-2-.1-3.6-1.8-3.6-4 0-1.8 1.3-3.5 3.1-3.9l1.1-.1.3-1.1c.3-1 1-2 1.9-2.6 0 .5-.1 1.1-.1 1.6 0 4.3 3.6 7.9 7.9 7.9 2 0 3.9-.8 5.3-2v.3c0 2-1.6 3.8-3.6 3.9zm-1.7-4.3c-3.2 0-5.8-2.6-5.8-5.8s2.6-5.8 5.8-5.8 5.8 2.6 5.8 5.8-2.6 5.8-5.8 5.8z M18.9 5.5l-3.3 3.3-1.3-1.3c-.4-.4-.9-.4-1.3 0s-.4.9 0 1.3l1.9 1.9.6.6.6-.6L20 6.8c.4-.4.4-.9 0-1.3-.3-.3-.7-.3-1.1 0z"},427171:function(e,t,n){n.d(t,{Z:()=>i});let i=e=>Object.keys(e).reduce((e,t)=>({...e,[t]:t}),{})},451218:function(e,t,n){n.d(t,{Z:()=>i});function i(e,t){let n,i;if(0===e.length)return t.length;if(0===t.length)return e.length;let a=[];for(n=0;n<=t.length;n+=1)a[n]=[n];for(i=0;i<=e.length;i+=1)a[0][i]=i;for(n=1;n<=t.length;n+=1)for(i=1;i<=e.length;i+=1)t.charAt(n-1)===e.charAt(i-1)?a[n][i]=a[n-1][i-1]:a[n][i]=Math.min(a[n-1][i-1]+1,Math.min(a[n][i-1]+1,a[n-1][i]+1));return a[t.length][e.length]}},740762:function(e,t,n){n.d(t,{Z:()=>r});var i=n(506662),a=n(579275);function r(e){return(0,i.C$)(e)||(0,i.L6)(e)||(0,i.l4)(e)||(0,i.am)(e)||(0,i.En)(e)||(0,i.$V)(e)||(0,i.Zz)(e)||(0,a.Z)(e)||(0,i.Ni)(e)}},96327:function(e,t,n){n.d(t,{DL:()=>r,DO:()=>s,J7:()=>a,SL:()=>c,X:()=>o,a0:()=>i,gM:()=>d,kq:()=>l,xJ:()=>u});let i="home",a="closeup",r="news_hub",o="board",s="profile",l="topic",c="today",d="business",u="search"},870443:function(e,t,n){n.d(t,{Z:()=>o});var i=n(506662),a=n(579275),r=n(96327);function o(e){if((0,i.C$)(e))return r.a0;if((0,i.L6)(e))return r.J7;if((0,i.l4)(e))return r.DL;if((0,i.am)(e))return r.X;if((0,a.Z)(e))return r.DO;if((0,i.En)(e))return r.xJ;if((0,i.$V)(e))return r.kq;else if((0,i.Zz)(e))return r.SL;else if((0,i.Ni)(e))return r.gM;return"undefined"}},923301:function(e,t,n){n.d(t,{Z:()=>r});var i=n(96327),a=n(870443);function r(e){switch((0,a.Z)(e)){case i.a0:return{viewType:1,viewParameter:92};case i.J7:return{viewType:3,viewParameter:void 0};case i.DL:return{viewType:107,viewParameter:3081};case i.X:return{viewType:5,viewParameter:void 0};case i.xJ:return{viewType:2,viewParameter:43};case i.kq:return{viewType:210,viewParameter:void 0};case i.DO:return{viewType:4,viewParameter:void 0};case i.gM:return{viewType:409,viewParameter:3397};case i.SL:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}}},451208:function(e,t,n){n.d(t,{FK:()=>o,Mp:()=>l,dO:()=>s,e$:()=>c,hy:()=>d,z5:()=>u});var i=n(952949),a=n(941404);let r=e=>e[e.length-1],o=({subscriptionId:e,endpoint:t})=>e||r(t.split("/")),s=(e,t)=>(0,a.tj)(e,{...t});function l(e){let t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(n),a=new Uint8Array(i.length);for(let e=0;e<i.length;e+=1)a[e]=i.charCodeAt(e);return a}let c=e=>e.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", "RequestDataUI.Toast.unknownFailure", undefined, true),d=e=>e.bt("Chrome users can activate browser notifications when push is turned on", "Chrome users can activate browser notifications when push is turned on", "notification_settings.permissions.chrome_browser_enabling.description", undefined, true),u=(e,t)=>{switch(t){case i.b.PUSH:return e.bt("You won't get any more push notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "You won't get any more push notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "profile.settings.notifications.settingsConfirmation.description", undefined, true);case i.b.EMAIL:return e.bt("You won't get any more email notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "You won't get any more email notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "profile.settings.notifications.settingsConfirmation.description", undefined, true);case i.b.NEWS:return e.bt("You won't get any more in-app notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "You won't get any more in-app notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "profile.settings.notifications.settingsConfirmation.description", undefined, true);case i.b.WEB_PUSH:return e.bt("You won't get any more web push notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "You won't get any more web push notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "profile.settings.notifications.settingsConfirmation.description", undefined, true);default:return e.bt("You won't get any more notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "You won't get any more notifications from Pinterest for your personal account (except important updates, account settings and privacy)", "profile.settings.notifications.settingsConfirmation.description", undefined, true)}}},952949:function(e,t,n){n.d(t,{b:()=>i});let i={PUSH:"push",EMAIL:"email",NEWS:"news",WEB_PUSH:"web_push"}},951908:function(e,t,n){n.d(t,{i:()=>a,x:()=>r});var i=n(2420);let a=["shopping_rec_disabled","featureMap","comments_disabled","allow_mentions","messaging_permissions","opt_in_private_account","ads_customize_from_conversion","personalize_from_offsite_browsing","third_party_marketing_tracking_enabled","ccpa_opted_out","third_party_ads_personalization","video_rec_enabled"];function r({apiErrorCode:e,onShowMessage:t,onPassCodeRequired:n,onPassCodeSkipConfirmation:a}){e&&(({[i.RR]:t,[i.mX]:n,[i.q6]:a})[e]||t)()}},640452:function(e,t,n){n.d(t,{Z:()=>a});var i=n(575108);let a=e=>i.Z.create("UserPasswordResource",e).callUpdate({showError:!1})},795134:function(e,t,n){n.d(t,{I:()=>d,L:()=>s,Z:()=>p,mO:()=>l,qK:()=>u});var i=n(575108),a=n(686319),r=n(356075);let o=async(e,t)=>{let n=(await (0,a.Z)({url:`/v3/ppm/advertiser_kpis/${t}/spend/${e}`})).resource_response.data||{};return n&&Object.keys(n).length>0?n:{}},s=async e=>{let t=(await (0,a.Z)({url:`/v3/ppm/advertiser_kpis/${e}/ever_spend/`})).resource_response.data||null;t&&Object.keys(t).length>0&&"0"===t[e]&&(0,r.eP)(e)},l=async(e,t)=>{let n=await o(e,t);n&&Object.keys(n).length>0&&(0,r.M7)(n,e)},c=async e=>{let t=(await (0,a.Z)({url:`/v3/ppm/advertiser_kpis/${e}/catalog/`})).resource_response.data||{};return t&&Object.keys(t).length>0?t:{}},d=async e=>{let t=await c(e);t&&Object.keys(t).length>0&&(0,r.F8)(t,e)},u=async()=>1===((await i.Z.create("UserStateResource",{state:"GPC_BROWSER_SIGNAL_EVER_DETECTED"}).callGet()).resource_response.data||null),p=async()=>{let e=(await i.Z.create("UserStateResource",{state:"GPC_BROWSER_SIGNAL_EVER_DETECTED",value:1}).callCreate()).resource_response;return!!e&&Object.keys(e).length>0}},343989:function(e,t,n){n.d(t,{Z:()=>o});var i=n(667294),a=n(616550),r=n(822464);function o({children:e,scrollOn:t="animationFrame",disableForHashLinks:n}){let{action:o}=(0,a.k6)(),{hash:s,key:l,pathname:c}=(0,a.TH)(),d=(0,i.useRef)(l),u=(0,i.useRef)(c),p=(0,i.useRef)(!0),_=(0,i.useRef)({}),{shouldMaintainHomefeed:h,lastHFScrollPosition:m}=(0,r.Z)();return l!==d.current&&"PUSH"===o&&(_.current[d.current]=[window.scrollX,window.scrollY]),d.current=l,(0,i.useEffect)(()=>{window.history.scrollRestoration="manual"},[]),(0,i.useEffect)(()=>{let e=!p.current;p.current=!1;let i=n&&c===u.current&&!!s;if(u.current=c,!e||i)return;let a=()=>{h?window.scrollTo(...m):"PUSH"===o||"REPLACE"===o?window.scrollTo(0,0):Object.hasOwnProperty.call(_.current,l)?window.scrollTo(..._.current[l]):window.scrollTo(0,0)};"timeout"===t?setTimeout(a,0):requestAnimationFrame(a)},[o,l]),i.Children.only(e)}},467366:function(e,t,n){n.d(t,{Z:()=>o});var i=n(15667);let a={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};var r=n(535701);function o(){let e=(0,i.B)(),t=(0,r.Z)(),n=t.isAuth?t.country:e.country;if(void 0===e||void 0===e.locale)return!1;let o=e.locale.substring(0,2);return!!a[o]?.includes(n)}},973940:function(e,t,n){n.d(t,{Z:()=>a});var i=n(667294);let a=e=>{let t=(0,i.useRef)(null);return(0,i.useEffect)(()=>{t.current=e},[e]),t.current}},757319:function(e,t,n){n.d(t,{A6:()=>o,A9:()=>E,AJ:()=>b,BO:()=>R,Eb:()=>V,Eq:()=>j,F$:()=>a,GF:()=>W,G_:()=>C,H:()=>ea,HJ:()=>f,Ht:()=>k,Hv:()=>u,Io:()=>g,Iu:()=>H,Iv:()=>er,Ix:()=>q,KW:()=>K,LN:()=>I,LZ:()=>T,Mj:()=>c,Mr:()=>s,NM:()=>i,Pc:()=>$,RX:()=>h,TL:()=>S,Tw:()=>M,Uf:()=>m,VI:()=>X,ZA:()=>Q,ZH:()=>L,Zg:()=>z,_7:()=>w,bH:()=>N,bn:()=>Z,c:()=>d,dt:()=>A,eE:()=>l,eZ:()=>U,g:()=>G,gN:()=>ee,he:()=>P,iE:()=>y,iQ:()=>D,jP:()=>F,kG:()=>v,kR:()=>p,kS:()=>J,lT:()=>et,nM:()=>O,oq:()=>_,oz:()=>B,rl:()=>Y,sC:()=>x,wt:()=>ei,xA:()=>r,y6:()=>en});let i="/product-catalogs/",a="/business/catalogs/",r="/business/catalogs/overview/",o="/business/catalogs/data-sources/",s="/business/catalogs/product-groups/",l="/business/catalogs/diagnostics/",c="/business/catalogs/diagnosticsv2",d="/business/catalogs/trends",u="/business/catalogs/listings/",p="/business/catalogs/products/",_="/business/catalogs/pins/",h="/business/catalogs/bulk/",m="/business/catalogs/add-items/",g="/business/catalogs/promotions/",f="/business/catalogs/promotions/history",b="/business/catalogs/:catalog_id/data-sources/feed-debugger/",v="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/",w="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/detail",y="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/",S="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/detail",x="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/",E="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/workflows/:workflow_id/",P="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/alert/:event_type_id",k="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/workflows/:workflow_id/alert/:event_type_id",I="/business/catalogs/:catalog_id/data-sources/",T="/business/catalogs/:catalog_id/data-sources/?tab=SUPPLEMENTAL_DATASOURCE",A="/business/catalogs/:catalog_id/data-sources/api/detail",O="/business/catalogs/:catalog_id/data-sources/regions/",C="/business/catalogs/:catalog_id/data-sources/stores/",R="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/trends/",j="/business/catalogs/:catalog_id/product-groups/edit/:product_group_id/",N="/business/catalogs/:catalog_id/product-groups/create/",Z="/business/catalogs/:catalog_id/product-groups/:product_group_id/",L="/business/catalogs/:catalog_id/product-groups/bulk/",U="/business/catalogs/:catalog_id/product-groups/",M="/business/website-content-manager/",D="/business/catalogs/:catalog_id/listings/",z="/business/catalogs/:catalog_id/products/",B="/business/catalogs/:catalog_id/diagnostics/",H="/business/catalogs/:catalog_id/diagnosticsv2/",G="/business/catalogs/:catalog_id/trends/",F="/business/catalogs/:catalog_id/pins/",V="/business/catalogs/:catalog_id/bulk/",W="/business/catalogs/:catalog_id/add-items/",$=[o,I],q=[s,U],Y=[l,B],K=[c,H],J=[d,R],Q=[d,G],X=[u,D],ee=[p,z],et=[_,F],en=[h,V],ei=[m,W],ea="/business/catalogs/product-listings/",er=[ea,"/business/catalogs/:catalog_id/product-listings/"]},817998:function(e,t,n){n.d(t,{T:()=>a,k:()=>i});let i={ADS_MANAGER:"ADS_MANAGER",AUTOMATED_CAMPAIGN:"AUTOMATED_CAMPAIGN"},a=e=>Object.values(i).includes(e)},717284:function(e,t,n){n.d(t,{ZP:()=>o});var i=n(898582),a=n(456858);class r extends a.ZP{constructor(e){super({config:e,logContextEvent:e=>r.contextLogger?.logContextEvent(e),requestContext:(0,i.Z)()})}}let o=r},667016:function(e,t,n){n.d(t,{t:()=>l,u:()=>s});var i=n(717284),a=n(603316);let r=()=>{let e=new i.ZP;return{delete:async(t,n,i)=>{await e.delete(t,n,i)},post:async(t,n,i)=>await e.postJSON(t,n||{},i),put:async(t,n,i)=>await e.putJSON(t,n||{},i),patch:async(t,n,i)=>await e.patchJSON(t,n||{},i),get:async(t,n,i)=>await e.get(t,n||{},i)}},o=()=>{let e=new i.ZP({useCache:!0});return{post:async(t,n,i,a)=>await e.postJSON(t,n||{},i,!1,a),get:async(t,n,i,a)=>await e.get(t,n||{},i,a)}},s=()=>({latency:(e,t,n)=>{(0,a.LY)(`sterling.ads_api_client.latency.${e}`,t,{sampleRate:.1,tags:n||{}})},attempt:(e,t)=>{(0,a.nP)(`sterling.ads_api_client.attempt.${e}`,{sampleRate:1,tags:t||{}})},success:(e,t)=>{(0,a.nP)(`sterling.ads_api_client.success.${e}`,{sampleRate:1,tags:t||{}})},failure:(e,t)=>{(0,a.nP)(`sterling.ads_api_client.failure.${e}`,{sampleRate:1,tags:t||{}})}}),l=()=>({api:r(),cachedApi:o(),statsLog:s()})},680202:function(e,t,n){function i(e){return null==e}function a(e){return!i(e)}n.d(t,{G:()=>a,k:()=>i})},428267:function(e,t,n){n.d(t,{I9:()=>l,OY:()=>d,ZP:()=>s,tb:()=>c});var i=n(111330),a=n(863419),r=n(753143),o=n(640924);function s(e){return!(!e.match(o.CU)||(0,a.Z)(e)||(0,a.z)(e,"yahoo")||(0,a.z)(e,"hotmail"))}let l=()=>{r.ZP.setItem(i.Z4,!0)},c=()=>{r.ZP.setItem(i.Z4,!1)};function d(e){let t=e.isAuth&&e.socialNetwork&&e.socialNetwork.facebook&&e.socialNetwork.facebook.connected,n=e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected,i=e.isAuth&&e.hasPassword;return t&&!n&&!i}},268675:function(e,t,n){let i;n.r(t),n.d(t,{default:()=>ro});var a,r=n(667294),o=n(274320),s=n(753143),l=n(238589),c=n(592900),d=n(790989),u=n(16590),p=n(883119),_=n(566848),h=n(647709),m=n(535701),g=n(581722),f=n(616550),b=n(575108),v=n(766576),w=n(35794),y=n(676122),S=n(293565),x=n(551969),E=n(901472),P=n(78762),k=n(785893);let I=(0,P.Z)(()=>n.e("34093").then(n.bind(n,285576)),void 0,e=>285576,"LimitedLoginModalCommon");function T(){return(0,k.jsx)(I,{fallback:(0,k.jsx)(p.xu,{})})}var A=n(355940),O=n(980787),C=n(697063),R=n(982166),j=n(525839);function N(){let{logContextEvent:e}=(0,O.v)(),t=(0,j.ZP)(),[n,i]=(0,r.useState)(),[a,o]=(0,r.useState)(),[s,l]=(0,r.useState)();(0,r.useEffect)(()=>{let n=t.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", " - ", undefined, true),a=t.bt("Something went wrong", "Something went wrong", " - ", undefined, true);return C.Z.setShowHtmlErrorCallback((t=n,r,s=a)=>{t===n&&s===a&&e({event_type:13,component:9,view_type:17,view_parameter:3237});let c=t.replace(/&#x27;/g,"'").replace(/&#39;/g,"'");i(r),o(s||""),l(c)}),()=>{C.Z.setShowHtmlErrorCallback(()=>{})}},[e,i,o,l,t]);let c=()=>{"function"==typeof n&&n(),i(null),o(null),l(null)};return s?(0,k.jsx)(R.ZP,{accessibilityModalLabel:t.bt("An error occurred", "An error occurred", " - ", undefined, true),footer:(0,k.jsx)(p.kC,{alignItems:"stretch",justifyContent:"end",children:(0,k.jsx)(p.zx,{color:"red",onClick:c,text:t.bt("OK", "Okay", " - ", undefined, true)})}),heading:a,onDismiss:c,size:"sm",children:(0,k.jsx)(p.xu,{"data-test-id":"error-modal",margin:5,children:(0,k.jsx)(p.xv,{children:s})})}):null}var Z=n(318215),L=n(816358),U=n(506662),M=n(740762),D=n(807860),z=n(15667);let B="web.com.pinterest.www";var H=n(444185),G=n(821806),F=n(159527),V=n(133011),W=n(378888),$=n(341742),q=n(757319);function Y({isPartner:e,location:t}){return e&&(t.pathname.includes(q.NM)||t.pathname.includes(q.F$))}var K=n(890),J=n(428267),Q=n(630835),X=n(78730),ee=n(25837),et=n(875723);class en extends r.Component{constructor(...e){var t,n,i;super(...e),n={mounted:!1},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){this.setState({mounted:!0})}render(){if(this.state.mounted)return null;let e=this.props.i18n.bt("Pinterest doesn't work unless you <a style=\"text-decoration: underline; color: #fff\" href=\"http://enable-javascript.com/\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">turn on JavaScript</a>.", "Oh no! Pinterest doesn't work unless you <a style=\"text-decoration: underline; color: #fff\" href=\"http://enable-javascript.com/\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">turn on JavaScript.</a>", "Nag to tell users Javascript is disabled and the site is broken without it", undefined, true);return(0,k.jsx)("noscript",{children:(0,k.jsx)(et.Z,{message:e},"noscriptNag")})}}function ei(e){let t=(0,j.ZP)();return(0,k.jsx)(en,{...e,i18n:t})}let ea=(0,r.lazy)(()=>n.e("87244").then(n.bind(n,799030))),er=(0,r.lazy)(()=>Promise.resolve().then(n.bind(n,718144))),eo=(0,r.lazy)(()=>n.e("65701").then(n.bind(n,187377))),es=(0,r.lazy)(()=>n.e("50646").then(n.bind(n,635827)));class el extends r.Component{constructor(e){var t,n,i;super(e),t="removeNag",n=e=>{this.setState(t=>({nags:t.nags.filter(t=>t!==e)}))},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n;let a=[...this.props.nags||[]];this.state={nags:a}}componentDidUpdate(){L.Z.updateObstructions()}render(){let{experience:e}=this.props;if(e?.experience_id===502597)return(0,k.jsx)(Z.a3,{eligibleTypes:[13],placementId:30,children:({complete:e})=>(0,k.jsx)(A.Z,{name:"SafeSuspense_Nags_CookieConsentBanner",children:(0,k.jsx)(G.Z,{children:(0,k.jsx)(er,{handleComplete:e,isNag:!0})})})});let{nags:t}=this.state,n=!!(e&&500711===e.experience_id);return(0,k.jsxs)("div",{className:"Nags","data-test-id":"nags-container",id:ee.OZ,children:[(0,k.jsx)(ei,{}),(0,k.jsx)(Z.a3,{eligibleTypes:n?[13]:[2],placementId:30,children:({complete:e,dismiss:t,experience:i})=>(0,k.jsx)(A.Z,{name:"SafeSuspense_Nags_HeroNag",children:(0,k.jsx)(G.Z,{children:n?(0,k.jsx)(eo,{complete:e,dismiss:t,experience:i}):(0,k.jsx)(ea,{complete:e,dismiss:t,experience:i})})})}),!e&&t[0]?(0,k.jsx)(A.Z,{name:"SafeSuspense_Nags_NonExperienceNags",children:(0,k.jsx)(G.Z,{children:(0,k.jsx)(es,{nag:t[0],removeNag:this.removeNag})})}):null]})}}function ec(e){let{experience:t}=(0,Z.Ow)(30);return(0,k.jsx)(el,{...e,experience:t})}var ed=n(532444);let eu=(0,P.Z)(()=>n.e("64253").then(n.bind(n,433525)),void 0,e=>433525,"ProPartnerHeaderDesktop"),ep=(0,P.Z)(()=>n.e("97955").then(n.bind(n,304291)),void 0,e=>304291,"SosAdminHeaderDesktop"),e_=(0,P.Z)(()=>Promise.all([n.e("74081"),n.e("52877")]).then(n.bind(n,337723)),void 0,e=>337723,"AuthDesktopHeader"),eh=e=>e.isSos?(0,k.jsxs)(p.xu,{children:[(0,k.jsx)(ep,{currentSite:e.currentSite}),(0,k.jsx)(eu,{...e})]}):(0,k.jsx)(eu,{...e});function em({isBPMPage:e,isShoppingCatalogs:t,isVMPStatusPage:n,viewer:i}){let a=(0,f.TH)(),r=(0,g.v9)(({experiences:e})=>e),o=i.isAuth&&i.isPartner,{currentSite:s}=(0,ed.wF)(),l=9===(r[11]||{}).type?null:(0,k.jsx)(ec,{experience:r[30],nags:i.nags||[]}),c=a.search&&(0,W.mB)(a.search).advertiserId,{is_sterling_on_steroids:d}=(0,X.u)(),u=Q.Li;return o&&d&&(u=Q.Li+Q.qJ),(0,k.jsx)(p.xu,{"data-test-id":`header-${o?"PartnerHeader":"Header"}`,children:(()=>{if(o)if(t||n&&c||e)return(0,k.jsx)(p.xu,{"data-test-id":"pro-partner-header",height:u,children:(0,k.jsx)(eh,{currentSite:s,isShoppingCatalogs:t,isSos:d,suppressSearchBox:!0,totalHeaderHeight:u})});else return(0,k.jsx)(p.xu,{"data-test-id":"pro-partner-header",height:u,children:(0,k.jsx)(eh,{currentSite:s,isSos:d,nags:l,totalHeaderHeight:u})});return(0,k.jsx)(e_,{fallback:(0,k.jsx)(p.xu,{height:ee.cI,width:"100%"}),nags:l,viewer:i})})()})}var eg=n(104659),ef=n(204263),eb=n(253464),ev=n(264251),ew=n(199593),ey=n(359982),eS=n(722194);let ex=(0,P.Z)(()=>n.e("21254").then(n.bind(n,38814)),{ssr:!1},e=>38814,void 0),eE=()=>{let e=(0,m.Z)(),t=(0,f.TH)(),n=!!e.isAuth&&e.isPartner,i=Y({isPartner:n,location:t})||(0,U.rk)(t)||(0,U.bb)(t),a=(0,U.O7)(t)||(0,U.RU)(t)&&n,r=(0,H.Z)({name:"UserSettingsResource"});return(0,k.jsx)(p.xu,{"data-test-id":"footer",children:(0,k.jsx)(eS.Z,{name:"SafeSuspense_DesktopApp_Footer",children:(0,k.jsx)(ex,{hideQuestionMarkButton:i,isPartner:n,settingsDataRef:r,showInsiteFeedback:a})})})};var eP=n(250905),ek=n(278964),eI=n(230543),eT=n(76743);function eA({children:e}){let[t,n]=(0,r.useState)(null),[i,a]=(0,r.useState)(!1),o=(0,r.useMemo)(()=>({logoButtonRef:t,setLogoButtonRef:n,isTooltipOnLogoButtonShown:i,toggleTooltipOnLogoButton:a}),[t,i]);return(0,k.jsx)(eT.e,{value:o,children:e})}var eO=n(819199),eC=n(848387),eR=n(167912),ej=n(227427),eN=n(795134),eZ=n(600861),eL=n(694955),eU=n(785807),eM=n(448303);let eD=(e,t,n)=>{setTimeout(()=>{t?e(t):e()},n||300)},ez=void 0!==a?a:a=n(347073);function eB(){let{unauthId:e,country:t,countryFromHostName:n,countryFromIp:i,regionFromIp:a}=(0,z.B)(),{checkExperiment:s}=(0,o.F)(),l=(0,m.Z)(),c=eL.nBl.includes(a),d=eL.PRI.includes(a),u=(0,eR.useLazyLoadQuery)(ez,{}),p=u.v3GetThirdPartyTrackingSettingsQuery?.data,[_,h]=(0,r.useState)(p&&p.sendPixel&&!d),[f,b]=(0,r.useState)(p&&p.sendEventsToFacebook&&!d),v=l.isAuth?l.id:null,w=v||"",y=(0,g.I0)(),[S,x]=(0,r.useState)(!1),E="undefined"!=typeof window&&!!window.navigator&&!!window.navigator.globalPrivacyControl&&window.navigator.globalPrivacyControl;return(0,r.useEffect)(()=>{let e=!1,r=e=>{y((0,eM._L)({field:"personalize_from_offsite_browsing",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eZ.i.SETTINGS,userId:w})),y((0,eM._L)({field:"ads_customize_from_conversion",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eZ.i.SETTINGS,userId:w})),y((0,eM._L)({field:"third_party_marketing_tracking_enabled",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eZ.i.SETTINGS,userId:w})),y((0,eM._L)({field:"ccpa_opted_out",value:!e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eZ.i.SETTINGS,userId:w})),y((0,eM._L)({field:"third_party_ads_personalization",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eZ.i.SETTINGS,userId:w}))};if(async function(){if(E&&c)try{let t=await (0,eN.qK)();e||t||(await (0,eN.Z)(),await r(!1),h(!1),b(!1))}catch{}e||x(!0)}(),S&&_){let e=s("ppm_p_gate").anyEnabled;eD(eU.jO,{pixelBlocked:e}),(0,ej.$)({country:t,countryFromHostName:n,countryFromIp:i,regionFromIp:a})&&eD(eU.Kv,{id:"flashtalking-d-ses",eventName:"Desktop"})}return()=>{e=!0}},[s,t,n,i,a,E,S,e,v,c,w,_,y]),(0,r.useEffect)(()=>{S&&f&&eD(eU.Um)},[t,n,i,f,S]),null}var eH=n(886981);function eG(){let e=(0,r.useRef)(0),t=(0,r.useRef)(null),n=(0,eH.Z)({name:"NewsHubBadgeResource",noCache:!0,headers:{"X-Pinterest-AppState":"background"}}),i=(0,eH.Z)({name:"ConversationsResource",noCache:!0}),{conversations:{unread:a}}=(0,ew.Z)();return(0,r.useEffect)(()=>(!function i(){t.current&&clearTimeout(t.current),n.refresh(),t.current=setTimeout(i,2e3+e.current),e.current=Math.min(2*(e.current||5e3),9e5)}(),function(){t.current&&clearTimeout(t.current)}),[]),(0,r.useEffect)(()=>i.refresh(),[a]),null}var eF=n(521009),eV=n(111330),eW=n(657043),e$=n(686319),eq=n(870443),eY=n(923301),eK=n(451208),eJ=n(603316);let eQ=(e,t,n,i)=>{let a=(0,eK.FK)(e),r={subscription_endpoint:e.endpoint,subscription_info:JSON.stringify(e)};(0,e$.Z)({url:`/v3/users/devices/web/${a}/`,method:"PUT",data:r}),(0,eK.dO)(`web.notifications_upsell.${(0,eq.Z)(t)}.subscribed`,n),(0,eJ.nP)("web.push_upsell.allowed",{sampleRate:1,tags:{web_push_exp_group:n.experimentName}});let o=(0,eY.Z)(t);i({component:13123,element:10355,event_type:102,view_type:o.viewType,view_parameter:o.viewParameter,aux_data:{experiment_name:n.experimentName,experiment_group:n.experimentGroup}})},eX=(e,t,n)=>{(0,eK.dO)(`web.notifications_upsell.${(0,eq.Z)(e)}.denied`,t),(0,eJ.nP)("web.push_upsell.denied",{sampleRate:1,tags:{web_push_exp_group:t.experimentName}});let i=(0,eY.Z)(e);n({component:13123,element:14371,event_type:102,view_type:i.viewType,view_parameter:i.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})};async function e0(e,t,n,a){let r="undefined"!=typeof navigator?navigator.serviceWorker:null,o="Notification"in window&&"default"!==Notification.permission;if(o)return;let l=s.ZP.getItem(eV.X_);if(l){let e=parseInt(l,10);if(Date.now()-e<2592e6)return}try{let e=await r?.register("/sw.js");if(!e?.showNotification)return}catch(e){return}if(r&&r.ready&&_.t&&!o){let o;t({event_type:13,view_type:4015,component:13123,aux_data:{experiment_name:n,experiment_group:a}});let l={experimentName:n||"noExperiment",experimentGroup:a||"noGroup",...{browser:i?.getState().session.browser,version:Math.floor(parseInt(i?.getState().session.browserVersion,10))}};(0,eK.dO)(`web.notifications_upsell.${(0,eq.Z)(e)}.viewed`,l);try{let e=await fetch("/getWebPushKey"),{key:t}=await e.json();o=t}catch(e){(0,eJ.nP)("web.push_upsell.getWebPushKey.err",{sampleRate:1,tags:{errMessage:(0,eW.Z)(e,"message")}});return}let c={userVisibleOnly:!0,applicationServerKey:(0,eK.Mp)(o)};try{let n=await r.ready,i=await n.pushManager.subscribe(c);if(!i)throw Error();eQ(i,e,l,t)}catch(n){(0,eJ.nP)("web.push_upsell.serviceWorkerSubscribe.err",{sampleRate:1,tags:{errMessage:(0,eW.Z)(n,"message"),web_push_exp_group:a}}),"denied"===Notification.permission?eX(e,l,t):"default"===Notification.permission&&s.ZP.setItem(eV.X_,Date.now().toString())}}}function e1({experimentName:e="",experimentGroup:t=""}){let n=(0,f.TH)(),i=(0,eF.Z)();return(0,r.useEffect)(()=>{e0(n,i,e,t)},[n,i,e,t]),null}var e3=n(168590),e2=n(498951),e6=n(169053);let e4=(0,r.createContext)(!1);var e5=n(28382),e9=n(77836);let e7=new p.H3([e9.mT]);function e8(){let{appUI:{showTypeaheadOverlay:e}}=(0,eg.I)();return e?(0,k.jsx)(p.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.4)"}},left:!0,position:"fixed",right:!0,top:!0,zIndex:e7}):null}var te=n(666811),tt=n(138),tn=n(318812);function ti({anchor:e,dropDownId:t,isIdeaPinRenamingEnabled:n,isInBoardCreateEntryPointsExperiment:i,isInCollageOnDwebExp:a,setIsBoardCreateModalOpen:r,onDismiss:o,zIndex:s}){let l=(0,j.ZP)(),c=(0,eF.Z)(),d=l.bt("Create board", "Create Board", "header.createOptionsMenu.boardOption", undefined, true),u=l.bt("Create Pin", "Create Pin", "header.createOptionsMenu.pinOption", undefined, true),_=l.bt("Create collage", "Create collage", "header.createOptionsMenu.collageOption", undefined, true),h=e=>{c(ed.$L[e]),o()};return(0,k.jsxs)(p.Lt,{anchor:e,disableMobileUI:!0,headerContent:(0,k.jsx)(p.X6,{align:"start",id:"create-options-header",size:"400",children:l.bt("Create", "Create", "header.createOptionsMenu.title", undefined, true)}),id:t,idealDirection:"right",isWithinFixedContainer:!1,onDismiss:o,zIndex:s,children:[(0,k.jsxs)(p.Lt.Link,{href:(0,tt.Z)(n),onClick:()=>h("createPin"),option:{label:u,value:u},children:[(0,k.jsx)(p.xu,{color:"secondary",padding:4,rounding:4,children:(0,k.jsx)(p.JO,{accessibilityLabel:u,color:"dark",icon:"pin",size:28})}),(0,k.jsxs)(p.xu,{marginStart:3,children:[(0,k.jsx)(p.xv,{align:"start",color:"dark",size:"300",children:l.bt("Pin", "Pin", "header.createOptionsMenu.pinOption", undefined, true)}),(0,k.jsx)(p.xv,{align:"start",color:"subtle",size:"200",children:l.bt("Post your photos or videos and add links, stickers, effects and more", "Post your photos or videos and add links, stickers, effects and more", "header.createOptionsMenu.pinOption.description", undefined, true)})]})]}),i&&(0,k.jsxs)(p.Lt.Item,{onSelect:()=>{c(ed.$L.createBoard),r(!0),o()},option:{label:d,value:d},children:[(0,k.jsx)(p.xu,{color:"secondary",padding:4,rounding:4,children:(0,k.jsx)(p.JO,{accessibilityLabel:d,color:"dark",icon:"board",size:28})}),(0,k.jsxs)(p.xu,{marginStart:3,children:[(0,k.jsx)(p.xv,{align:"start",color:"dark",size:"300",children:l.bt("Board", "Board", "header.createOptionsMenu.boardOption", undefined, true)}),(0,k.jsx)(p.xv,{align:"start",color:"subtle",size:"200",children:l.bt("Organise a collection of your favourite Pins by creating a board", "Organize a collection of your favorite Pins by creating a board", "header.createOptionsMenu.boardOption.description", undefined, true)})]})]}),a&&(0,k.jsxs)(p.Lt.Link,{href:tn.ZP,onClick:()=>h("createCollage"),option:{label:_,value:_},children:[(0,k.jsx)(p.xu,{color:"secondary",padding:4,rounding:4,children:(0,k.jsx)(p.JO,{accessibilityLabel:_,color:"dark",icon:"collage",size:28})}),(0,k.jsxs)(p.xu,{marginStart:3,children:[(0,k.jsx)(p.xv,{align:"start",color:"dark",size:"300",children:l.bt("Collage", "Collage", "header.createOptionsMenu.collageOption", undefined, true)}),(0,k.jsx)(p.xv,{align:"start",color:"subtle",size:"200",children:l.bt("Put together a style, goal or vibe that sparks your imagination, and create something new", "Put together a style, goal or vibe that sparks your imagination and create something new", "header.createOptionsMenu.collageOption.description", undefined, true)})]})]})]})}var ta=n(812540),tr=n(525958),to=n(369416),ts=n(72918),tl=n(61110),tc=n(789302),td=n(393107),tu=n(314708),tp=n(30536),t_=n(375363),th=n(150381),tm=n(901971),tg=n(963930),tf=n(631395),tb=n(921825);function tv(e){let{preload:t}=(0,tb.G)(),{onClick:n,onMouseEnter:i,route:a,preloadExtent:r="Both",...o}=e;return(0,k.jsx)(tf.Td,{href:(0,f.Gn)(a.kind,a.routeParams),onClick:e=>{try{n?.(e)}catch{}t(a,"Both")},onMouseEnter:()=>{try{i?.()}catch{}"None"!==r&&t(a,r)},...o})}var tw=n(30228),ty=n(228421);let tS={selectedNav:void 0,isPanelOpen:e=>!1,updatePanelState:(e,t)=>{},togglePanelState:e=>{}},tx=(0,r.createContext)(tS);function tE({children:e,isIdeaPinRenamingEnabled:t}){let{pathname:n}=(0,f.TH)(),i=(0,m.Z)(),a=(0,tw.Z)({username:i.isAuth?i.username:void 0,isIdeaPinRenamingEnabled:t}),o=(0,ty.Z)({pathname:n,iconRoutes:a})||void 0,[s,l]=(0,r.useState)({news:!1,conversations:!1,settings:!1,create:!1,categories:!1}),[c,d]=(0,r.useState)(!1),u=(0,r.useCallback)((e,t)=>{l(n=>(t||n[e]===t||(d(!0),setTimeout(()=>{d(!1)},125)),{...n,[e]:t}))},[]),p=(0,r.useCallback)(e=>{u(e,!s[e])},[s,u]),_=(0,r.useCallback)(e=>s[e],[s]),h=Object.values(s).some(e=>e)||c?void 0:o,g=(0,r.useMemo)(()=>({selectedNav:h,isPanelOpen:_,updatePanelState:u,togglePanelState:p}),[h,_,u,p]);return(0,k.jsx)(tx,{value:g,children:e})}function tP(){return(0,r.useContext)(tx)||tS}function tk({children:e,justifyContent:t,height:n}){return(0,k.jsx)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{gap:`${e9.df}px`}},direction:"column",display:"flex",height:n,justifyContent:t,children:e})}function tI({children:e,dataTestId:t,position:n}){return(0,k.jsx)(p.xu,{"data-test-id":t,position:n,children:e})}var tT=n(562915),tA=n(871099);let tO=function({onClick:e}){let t=(0,tT.Z)(),n=(0,j.ZP)(),i="pinterest-logo-home-button";return(0,k.jsxs)(r.Fragment,{children:[!t&&(0,k.jsx)(to.Z,{unsafeCSS:`
          /* Target the Pinterest logo home button */
          [data-test-id="${i}"] a[aria-label="Home"], [data-test-id="${i}"] a[aria-label="Home"] > div {
            border-radius: ${e9.Dk}px !important;
          }
        `}),(0,k.jsx)(tI,{dataTestId:i,children:(0,k.jsx)(tA.Z,{defaultPaddingBasedOnSize:!0,onClick:e,size:e9.yg,tabIndex:null,tooltip:{text:n.bt("Home", "Home", "verticalNav.homeButton.section", undefined, true),idealDirection:e9.Mh,zIndex:e9.BO}})})]})},tC=`1px solid ${e9.bd}`;function tR({children:e,showTypeaheadOverlay:t}){let{isRTL:n}=(0,z.B)();return(0,k.jsx)(p.xu,{alignItems:"center",as:"nav",color:"default",dangerouslySetInlineStyle:{__style:n?{borderLeft:tC}:{borderRight:tC}},direction:"column",display:"flex",height:"100vh",id:e9.Lc,overflow:"auto",position:"fixed",top:!0,width:e9.Qf,zIndex:t?e9.mT:e9.pS,children:(0,k.jsx)(p.xu,{height:"100%",paddingY:4,children:e})})}let tj=({currentSite:e,isTodayTabEligible:t,isIdeaPinRenamingEnabled:n,onMouseDownHomefeedPrefetch:i,onNavigateToHomefeedMousedownPrefetch:a,siteParametersProviderValue:s})=>{let l=(0,m.Z)(),c=(0,Z.oS)(ed.nu),d=(0,td.Z)()(!0),{checkExperiment:u}=(0,o.F)(),_=(0,j.ZP)(),[h,b]=(0,r.useState)(!1),v=(0,g.I0)(),w=(0,f.k6)(),y=(0,eF.Z)(),{selectedNav:S,updatePanelState:x,togglePanelState:E,isPanelOpen:P}=tP(),I=(0,r.useRef)(null),T=(0,r.useRef)(null),A="VerticalNav-MoreOptions-Flyout",O="VerticalNav-CreationOptions-Flyout",C=P("settings"),{appUI:{showTypeaheadOverlay:R}}=(0,eg.I)(),N=/\/(pin|collage)-creation-tool/.test(w.location.pathname),L=P("create"),U=u("hfp_dweb_topic_nav").anyEnabled,M=u("web_curation_board_create_entry_points",{dangerouslySkipActivation:!0}).anyEnabled,D=(0,tg._)(),z=(0,th.c)();return(0,k.jsx)(tp.F,{value:s,children:(0,k.jsx)(tR,{showTypeaheadOverlay:R,children:(0,k.jsxs)(tk,{height:"100%",justifyContent:"between",children:[(0,k.jsxs)(tk,{children:[(0,k.jsx)(tO,{onClick:()=>(0,eJ.nP)(ed.P8.PINTEREST_LOGO)}),(0,k.jsx)(tI,{children:(0,k.jsx)(tf.Td,{accessibilityLabel:_.bt("Home", "Home", "verticalNav.homeButton.section", undefined, true),dataTestId:"home-tab",href:"/",iconName:"home",onClick:()=>{(0,eJ.nP)(ed.P8.HOME),a()},onMouseDown:i,selected:"home"===S})}),U?(0,k.jsx)(tI,{position:"relative",children:(0,k.jsx)(tf.Qj,{accessibilityControls:"ideas-flyout",accessibilityLabel:_.bt("Explore", "Explore", "verticalNav.exploreButton.section", undefined, true),dataTestId:"today-tab",iconName:"today",onClick:()=>{(0,eJ.nP)(ed.P8.TODAY),y(ed.$L.today)},preloadExtent:z.preloadExtent,route:{kind:"/ideas",routeParams:{}},selected:"ideas"===S,variant:"enabled_long"===u("hfp_dweb_topic_nav").group?"long":"short"})}):null,t&&!U?(0,k.jsxs)(tI,{position:"relative",children:[(0,k.jsx)(tv,{accessibilityLabel:_.bt("Explore", "Explore", "verticalNav.exploreButton.section", undefined, true),dataTestId:"today-tab",iconName:"today",onClick:()=>{(0,eJ.nP)(ed.P8.TODAY),c.completeExperience(ed.nu,ed.wo),y(ed.$L.today)},preloadExtent:D.preloadExtent,route:{kind:"/today/",routeParams:{}},selected:"today"===S}),(0,k.jsx)(Z.a3,{eligibleIds:[ed.wo],placementId:ed.nu,children:(0,k.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{top:"10px",right:"8px",pointerEvents:"none"}},position:"absolute",children:(0,k.jsx)(p.z$,{accessibilityLabel:_.bt("Notifications", "Notifications", "header.headerTab.notifBadge", undefined, true)})})})]}):null,(0,k.jsxs)(tI,{children:[(0,k.jsx)(tf.Td,{ref:T,accessibilityLabel:_.bt("Create", "Create", "verticalNav.createButton.section", undefined, true),dataTestId:"create-tab",href:d||M?void 0:(0,tt.Z)(n),iconName:"create",onClick:()=>{(0,eJ.nP)(ed.P8.CREATE),d||M?E("create"):y(ed.$L.createPin)},selected:N||L}),(0,k.jsx)(to.Z,{unsafeCSS:`
              #${O} [role="menuitem"] > div {
                padding: ${e9.qM.menuItemPadding} !important;
              }
              div:has(> #${O}) {
                left: ${e9.qM.anchorOffset} !important;
              }
              #${O} {
                max-width: ${e9.GJ}px !important;
                width: ${e9.GJ}px !important;
              }
              div:has(> #create-options-header) {
                align-self: start;
              }
        `}),L&&(0,k.jsx)(ti,{anchor:T.current,dropDownId:O,isIdeaPinRenamingEnabled:n,isInBoardCreateEntryPointsExperiment:u("web_curation_board_create_entry_points").anyEnabled,isInCollageOnDwebExp:d,onDismiss:()=>{x("create",!1)},setIsBoardCreateModalOpen:b,zIndex:e9.m6}),h&&(0,k.jsx)(tc.Z,{boardCreateSource:"vertical_nav",onBoardCreate:e=>{v((0,ts.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),w.push(`${e.url||""}`,{newBoard:!0}),b(!1)},onClose:()=>b(!1),shouldShowAddCollaborators:!0})]}),(0,k.jsx)(tI,{children:(0,k.jsx)(tu.Z,{onPanelChange:e=>{x("news",e),e&&(0,eJ.nP)(ed.P8.NEWS)},tooltipText:_.bt("Updates", "Updates", "verticalNav.newsButton.tooltip", undefined, true)})}),l.isAuth&&l.should_show_messaging?(0,k.jsx)(tI,{children:(0,k.jsx)(t_.Z,{onPanelChange:e=>{x("conversations",e),e&&(0,eJ.nP)(ed.P8.CONVERSATIONS)}})}):null]}),(0,k.jsxs)(tI,{children:[(0,k.jsx)(tf.Td,{ref:I,accessibilityControls:A,accessibilityLabel:_.bt("More options", "More options", "verticalNav.moreOptionsButton.tooltip", undefined, true),accessibilityPopupRole:"menu",dataTestId:"vertical-nav-more-options-button",iconName:"moreOptions",onClick:()=>{C||(0,eJ.nP)(ed.P8.MORE_OPTIONS),E("settings")},selected:C}),(0,k.jsx)(to.Z,{unsafeCSS:`
              /* Subtitle text tied to the Dropdown.Section */
              #${A} [aria-label] > [role="presentation"] {
                padding: ${e9.qM.menuItemPadding} !important;
              }
              /* Adjust spacing for each highlightable menu item */
              #${A} [role="menuitem"] > div {
                padding: ${e9.qM.menuItemPadding} !important;
              }
              div:has(> #${A}) {
                left: ${e9.qM.anchorOffset} !important;
              }
              #${A} {
                max-width: ${e9.GJ}px !important;
                width: ${e9.GJ}px !important;
              }
        `}),(0,k.jsx)(tl.T,{children:(0,k.jsx)(tm.j,{children:C?(0,k.jsx)(ta.Z,{anchor:I.current,dropdownId:A,idealDirection:e9.dg,isWwwSite:(0,tr.YG)(e),onDismiss:()=>{x("settings",!1)},showAccountSwitcher:!1,showMoreOptions:!0,zIndex:e9.m6}):null})})]})]})})})},tN=()=>{let e=(0,ed.wF)();return(0,k.jsx)(tE,{isIdeaPinRenamingEnabled:e.isIdeaPinRenamingEnabled,children:(0,k.jsx)(tj,{...e})})};var tZ=n(244529),tL=n(74459);let tU=(0,P.Z)(()=>n.e("1557").then(n.bind(n,737945)),{ssr:!1},e=>737945,"BrowserExtensionUpsellModal"),tM=(0,P.Z)(()=>Promise.all([n.e("83324"),n.e("4866")]).then(n.bind(n,335450)),{ssr:!1},e=>335450,void 0),tD=(0,P.Z)(()=>Promise.all([n.e("79290"),n.e("11615")]).then(n.bind(n,631566)),{ssr:!1},e=>631566,void 0),tz=(0,P.Z)(()=>n.e("83576").then(n.bind(n,654708)),{ssr:!1},e=>654708,"WindowsPWACommon"),tB=(0,P.Z)(()=>n.e("48259").then(n.bind(n,959363)),void 0,e=>959363,"app-www-Authentication-PersonalizedLoginFlyout"),tH=(0,P.Z)(()=>Promise.all([n.e("40173"),n.e("44391"),n.e("16060"),n.e("46396")]).then(n.bind(n,511232)),void 0,e=>511232,"FullHeightInboxDesktop"),tG=(0,P.Z)(()=>Promise.all([n.e("90998"),n.e("57425")]).then(n.bind(n,494256)),void 0,e=>494256,"AuthDesktopCSSImports"),tF=({isPartner:e,location:t})=>e&&t.pathname.includes(ef.GW),tV=({isPartner:e,location:t})=>e&&t.pathname.includes(eb.GW),tW=()=>{let e=(0,e6.AF)(),t=(0,f.TH)(),n=(0,f.LX)(t.pathname,{path:"/pin/:id",exact:!0}),i=n&&n.params.id||null,a=i&&((e[i]||{}).images||{})["474x"];return a?{url:a.url,width:a.width,height:a.height}:null};function t$({children:e}){let{appUI:{viewportSize:t},setIsAutoplay:n,setViewportSize:i}=(0,eg.I)(),{dismiss:a,reportData:o}=(0,te.f)(),{loginForMore:s}=(0,eC.H)(),l=(0,r.useRef)(null),{enabled:c}=(0,tZ.Z)(),d=(0,tL.Z)(),u=(0,m.Z)(),[_,h]=(0,r.useState)(!1),P=!!u.isAuth&&u.isPartner,I=!!u.isAuth&&u.isLimitedLogin,O=u.isAuth&&!u.isLimitedLogin,C=u.isAuth?u.username:"",R=(0,f.k6)(),j=(0,f.TH)(),q=(0,z.B)(),{pathname:Q}=j,X=l.current,et=!((0,U.jC)(j)||(0,U.x7)(j))&&O,en=(0,W.mB)(j.search),{conversation_id:ei,tab:ea}=en,{conversations:{showConversationsDropdown:er},conversationOpen:eo,dropdownOpen:es}=(0,ew.Z)(),el=u.isAuth&&!u.isLimitedLogin&&(0,M.Z)(j),ec=(0,g.I0)(),ed=tW(),{userAgent:{browserName:eu},isRTL:ep}=q,e_=(0,g.v9)(e=>e.pinbuilder&&e.pinbuilder.pinDraftIdUploadStatusMap||{});(0,$.Z)(()=>{function e(e){Object.keys(e_||{}).length>0&&e.preventDefault()}return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),(0,$.Z)(()=>{if(window.safari&&window.safari.pushNotification&&u.isAuth)try{let e=window.safari.pushNotification.permission(B);if("default"===e.permission){let e=u.push_package_user_id;window.safari.pushNotification.requestPermission("https://"+window.location.hostname+"/_/_/push",B,{uid:e},()=>{})}}catch(e){}}),(0,r.useEffect)(()=>{x.Z.extensionReady(eu).then(x.Z.initBrowserExtension)},[eu]),(0,$.Z)(()=>{setTimeout(()=>{n(!0)},300)}),(0,r.useEffect)(()=>{I||(ei&&eo(ei),"inbox"===ea&&es())},[ei,ea,eo,es,I]);let eh=(0,e3.b)(j);(0,r.useEffect)(()=>(X instanceof HTMLElement&&L.Z.addObstruction("top",X),()=>{X instanceof HTMLElement&&L.Z.removeObstruction("top",X)}),[X]);let[ef,eb]=(0,r.useState)(!!s?.visible||!I),eS=(0,F.Z)(()=>{let e="lg";window&&window.innerWidth<1056&&(e=window.innerWidth<680?"sm":"md"),t!==e&&(0,r.startTransition)(()=>i(e))},200);return(0,$.Z)(()=>(window.addEventListener("resize",eS),eS(),()=>{window.removeEventListener("resize",eS)})),(0,r.useEffect)(()=>{h(Q!==`/${C}/`)},[Q,C]),(0,r.useEffect)(()=>{b.Z.create("BoardsResource",{page_size:1,privacy_filter:"all",sort:"last_pinned_to",username:C}).callGet().then(e=>{let{resource_response:t}=e||{},n=(t.data||[])[0];n&&n.id&&n.name&&ec((0,e2.p)(n.id,n.name,n.url))})},[ec,C]),(0,H.Z)(_?{name:"UserResource",options:{field_set_key:"profile",username:C}}:null),(0,H.Z)(_?{name:"UserMetadataResource",options:{user:{id:C}}}:null),(0,k.jsxs)(e4,{value:!!en.social_debug,children:[(0,k.jsx)(tG,{}),(0,k.jsx)(K.Z,{children:(0,k.jsx)(ev.Z,{children:(0,k.jsx)(e5.Z,{children:(0,k.jsx)(D.T,{children:(0,k.jsx)(ey.N,{children:(0,k.jsx)(w.b,{children:(0,k.jsx)(y.p,{children:(0,k.jsxs)(E.c4,{value:ed,children:["undefined"!=typeof window&&window.Windows&&(0,k.jsx)(A.Z,{name:"SafeSuspense_DesktopApp_WindowsPWA",children:(0,k.jsx)(tz,{onActivated:e=>{R.push(e)}})}),!s?.visible&&u.isAuth&&u.isLimitedLogin&&!(0,U.Xn)(j)&&!(0,U.OK)(j)&&!(0,U.FO)(j)&&!(0,U.re)(j)&&(0,k.jsx)(tB,{attributionLabel:j.state?.attributionLabel,fallback:(0,k.jsx)(p.xu,{}),shouldHideFlyout:ef,triggerModal:()=>{s&&s.setVisible(!0),eb(!0)},viewer:u}),(0,k.jsx)(eO.Hv,{children:(0,k.jsx)(eA,{children:(0,k.jsx)(eP.i3,{children:(0,k.jsx)(ek.Z,{children:(0,k.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1,paddingTop:1}},minWidth:320,children:[(0,k.jsxs)(p.xu,{role:"banner",children:[(0,k.jsx)(V.Z,{}),(0,k.jsxs)(p.xu,{ref:l,dangerouslySetInlineStyle:{__style:{left:ep?0:d,right:ep?d:void 0}},"data-test-id":"header",id:ee.WZ,position:"fixed",right:!0,top:!0,zIndex:new p.Ry(ee.fe),children:[s?.visible&&!(0,U.re)(j)||I&&j.pathname.includes("/repin/")?(0,k.jsx)(T,{}):null,eh&&u.isAuth&&(0,k.jsx)(A.Z,{name:"AuthDesktopHeader",type:"critical",children:(0,k.jsx)(em,{isBPMPage:tF({isPartner:P,location:j}),isShoppingCatalogs:Y({isPartner:P,location:j}),isVMPStatusPage:tV({isPartner:P,location:j}),viewer:u})}),et&&(0,k.jsx)(eG,{})]})]}),c?(0,k.jsx)(tN,{}):null,(0,k.jsxs)("div",{className:"appContent",role:"main",children:[(0,k.jsx)(eI.c,{children:t=>(0,k.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:eh?t:0,paddingLeft:ep?void 0:d,paddingRight:ep?d:void 0}},children:(0,k.jsxs)("div",{className:"mainContainer",children:[e,O&&(0,J.OY)(u)&&(0,k.jsx)(A.Z,{name:"PostLogin_AlternativeAuthCollection",children:(0,k.jsx)(tM,{})}),(0,k.jsx)(Z.O9,{placementId:1000421}),u.isAuth&&"/"===j.pathname&&!x.Z.isExtensionInstalled()&&(0,S.i7)(eu)&&(0,k.jsx)(Z.a3,{eligibleIds:[506046],placementId:11,children:({complete:e,dismiss:t,view:n})=>(0,k.jsx)(A.Z,{name:"AuthDesktopAppShell_BrowserExtensionUpsellModal",children:(0,k.jsx)(tU,{handleComplete:e,handleDismiss:t,handleView:n})})}),(0,k.jsx)(e8,{})]})})}),er&&!I&&(0,k.jsx)(tH,{"data-test-id":"full-height-inbox"})]}),(0,k.jsx)(eE,{})]})})})})}),P&&(0,k.jsx)(v.Z,{}),(0,k.jsx)(N,{}),el&&(0,k.jsx)(A.Z,{name:"DesktopApp_WebPushUpsell",children:(0,k.jsx)(G.Z,{children:(0,k.jsx)(e1,{})})}),(0,k.jsx)(A.Z,{name:"DesktopApp_MarketingPixel",children:(0,k.jsx)(eB,{})}),o&&(0,k.jsx)(p.xu,{"data-test-id":"report-pin",children:(0,k.jsx)(A.Z,{name:"SafeSuspense_DesktopApp_ReportContent",children:(0,k.jsx)(tD,{data:o,dismiss:a})})})]})})})})})})})})]})}var tq=n(971323),tY=n(121836),tK=n(614667),tJ=n(636755);let tQ=()=>{(0,l.Nl)().setItem(tY.EZ,"OPEN_UNAUTH")},tX=()=>(0,tJ.a)()||"OPEN_UNAUTH"===(0,l.Nl)().getItem(tY.EZ);var t0=n(349188),t1=n(859685);function t3(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let t2=(0,P.Z)(()=>n.e("92786").then(n.bind(n,568487)),{fallback:(0,k.jsx)(p.xu,{})},e=>568487,"app-packages-desktopLoginModal-UnauthHybridBannerSignupModal");class t6 extends r.Component{constructor(...e){super(...e),t3(this,"state",{scrollSessionCount:0,shouldShowBanner:!1,bannerViewed:!1,bannerDismissed:!1}),t3(this,"setShouldShowBanner",e=>this.setState({shouldShowBanner:e})),t3(this,"onScrollHybridBanner",e=>{let{isSafari:t,trackConversionUpsell:n,checkExperiment:i}=this.props;if(i("dweb_upsell_manager_mvp_2").anyEnabled){let i=tX();c.Z.emitEvent("onScrollHybridBanner",{evt:e,isSafari:t,trackConversionUpsell:n,isInOpenModalExperience:i,UnauthHybridBannerClassComponent:this});return}let a=0,r=e&&e.target instanceof Document?e.target:null;if(r&&r.documentElement&&r.documentElement.scrollTop>0?a=r.documentElement.scrollTop:r&&r.body&&r.body.scrollTop>0&&(a=r.body.scrollTop),a<64)this.state.shouldShowBanner&&!this.state.bannerDismissed&&(n({element:13893,eventType:10243}),this.state.bannerDismissed=!0),this.setShouldShowBanner(!1);else if(a<4e3){let e=this.state.shouldShowBanner;this.setState(e=>({shouldShowBanner:tX()||t||3!==e.scrollSessionCount,scrollSessionCount:Math.ceil(a/800)}),()=>{e||!this.state.shouldShowBanner||this.state.bannerViewed||(n({eventType:14688,element:13319,component:14479,upsellReason:"scroll_down"}),this.state.bannerViewed=!0)})}else!l.ZP.getItem("HAS_SEEN_LOGIN_MODAL")&&!tX()&&t&&e&&e.preventDefault()}),t3(this,"onScrollHybridBannerThrottled",(0,F.Z)(this.onScrollHybridBanner,10))}componentDidMount(){window.addEventListener("scroll",this.onScrollHybridBannerThrottled)}componentWillUnmount(){window.removeEventListener("scroll",this.onScrollHybridBannerThrottled)}render(){let{inviter:e,setHasDismissedBottomRightUpsell:t,checkExperiment:n,showScrollDownUpsell:i,showSocialPopoverUpsell:a,showSocialReplyBannerUpsell:r}=this.props,{shouldShowBanner:o}=this.state,s=(a||o&&i&&n("dweb_upsell_manager_redux").anyEnabled||o)&&!r;return(0,k.jsx)(p.xu,{children:(0,k.jsx)(t2,{inviter:e,setHasDismissedBottomRightUpsell:t,shouldShowBanner:s})})}}let t4=e=>{let{isBot:t}=(0,z.B)(),{logContextEvent:n}=(0,O.v)(),{userAgent:{browserName:i}}=(0,z.B)(),{trackConversionUpsell:a}=(0,t0.Z)(),{checkExperiment:r}=(0,o.F)(),s=(0,g.v9)(e=>e.upsell.showScrollDownUpsell),l=(0,f.TH)().state||{},c=(0,t1.cO)(),d=c?.data?.popoverData,u=d?.expGroup||"",p=!!(u.startsWith("enabled_popover")||l.isSocialPinToProfile),_="enabled_banner_reply"===u;return t?null:(0,k.jsx)(t6,{...e,checkExperiment:r,isSafari:(0,S.G6)(i),logContextEvent:n,showScrollDownUpsell:s,showSocialPopoverUpsell:p,showSocialReplyBannerUpsell:_,trackConversionUpsell:a})};var t5=n(664897);let t9=(0,P.Z)(()=>Promise.all([n.e("91062"),n.e("34454"),n.e("32796"),n.e("45565")]).then(n.bind(n,329694)),void 0,e=>329694,"app-packages-desktopLoginModal-SignupUpsellModal"),t7=["passwordReset","passwordUserName","topic","flashlight","todayTab","todayArticleFeed","todayArticleInterestFeed","ideasHub","ideasRoot","invited","pinBookmarklet","shoppingRoot","shoppingCategory","videosRoot","videosCategory"];function t8({hideDesktopSignupModal:e,inviter:t,pageType:n,signupModalState:i,shouldShowSignupWelcomeLoading:a,setShouldShowSignupWelcomeLoading:o}){let s=(0,t5.Z)(),c=(0,f.TH)(),[d,u]=(0,r.useState)(l.ZP.getItem(tY.EA)??!1);(0,r.useEffect)(()=>{l.ZP.setItem(tY.EA,d)},[d]);let _=!s&&!(({pageType:e,location:t})=>t7.includes(e)||(0,U.Ni)(t)||(0,U.C$)(t)||(0,U.Xn)(t)||"/invited/"===t.pathname||t.pathname.startsWith("/about/"))({location:c,pageType:n});return(0,k.jsxs)(r.Fragment,{children:[_&&!d&&(0,k.jsx)(t4,{inviter:t,setHasDismissedBottomRightUpsell:u}),i.modal.isShown&&(0,k.jsx)(G.Z,{children:(0,k.jsx)(t9,{displayProps:i.modal.displayProps,hideDesktopSignupModal:e,inviter:t,pageType:n,setShouldShowSignupWelcomeLoading:o})}),a&&(0,k.jsx)(p.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},left:!0,opacity:1,position:"fixed",right:!0,top:!0,zIndex:new p.Ry(100),children:(0,k.jsx)(tK.Z,{})})]})}var ne=n(689302),nt=n(417162),nn=n(785873),ni=n(346955);let na=(e,t)=>(0,eJ.nP)(`pinner_conversion.upsell.dweb_signup_modal.${e}`,{flushImmediate:!0,sampleRate:1,tags:t}),nr=(e,t)=>{switch(t.type){case"dismiss":return{...e,modal:{isShown:!1}};case"show":return{...e,modal:{isShown:!0,displayProps:t.displayProps}};default:return e}},no=()=>(0,r.useReducer)(nr,{modal:{isShown:!1}}),ns=604800,nl=(e,t=ns)=>{let n=(0,s.M0)().getItem(e);return n&&Date.now()-parseInt(n,10)>1e3*t},nc=(e=ns)=>{let t=(0,s.M0)().getItem(eV.TO);return nl(eV.On,e)||!t?0:parseInt(t,10)||0},nd=(e=ns)=>{let t=nc(),n=(0,s.M0)();if(nl(eV.On,e)||!t)try{n.setItem(eV.TO,1),n.setItem(eV.On,Date.now())}catch(e){console.error(e)}else try{n.setItem(eV.TO,t+1)}catch(e){console.error(e)}};var nu=n(695263),np=n(941404),n_=n(572227),nh=n(966980),nm=n(669442);let ng=e=>{switch(e){case"todayArticleFeed":return{eligible:!0,container:"todayArticleFeed"};case"todayTab":return{eligible:!0,container:"todayTab"};default:return{eligible:!1}}},nf=({pageType:e})=>{let[t,n]=no(),i=(0,g.I0)(),{loginForMore:a}=(0,eC.H)(),d=(0,f.k6)(),p=(0,n_.Z)(),{viewType:_,viewParameter:h}=(0,ni.SU)(),{trackConversionUpsellForContext:m}=(0,t0.A)(),{unauthUserStateDispatch:b}=(0,u.R)(),{checkExperiment:v}=(0,o.F)(),w=v("dweb_upsell_manager_mvp_2"),y=v("dweb_upsell_manager_redux"),S=({shouldDoSideEffects:t})=>{if(w.anyEnabled){let i=ng(e).eligible;c.Z.emitEvent("hideDesktopSignupModal",{shouldDoSideEffects:t,loginForMore:a,isEligibilityLoginForMore:i,dispatchSignupModalAction:n,logDesktopSignupModalEvent:na});return}t&&a&&ng(e).eligible&&a.setVisible(!1),n({type:"dismiss"}),na("dispatch_dismiss",{shouldDoSideEffects:t}),y.anyEnabled&&i((0,nh.C5)())},x=e=>{if(w.anyEnabled)return void c.Z.emitEvent("showDesktopSignupModal",{displayProps:e,trackInteraction:p,viewType:_,viewParameter:h,trackConversionUpsellForContext:m,logDesktopSignupModalEvent:na,dispatchSignupModalAction:n});n({type:"show",displayProps:e});let{attributionLabel:t,signupFlow:i,reason:a}=e;p({action:"trigger",item:i.type.includes("signup")?"signup-modal":"login-modal"}),m({viewType:_,viewParameter:h,eventType:14688,element:{UPSELL_LOGIN_OR_SIGNUP:13319,ACTION_REQUIRES_LOGIN_OR_SIGNUP:13320,CLICK_LOGIN_OR_SIGNUP:13321}[a]||13322,component:"login"===i.type?14212:14214,upsellReason:t}),na("dispatch_show",{attributionLabel:t,modalType:i.type,reason:a})},E=(e,t)=>x({signupFlow:{type:"login"},attributionLabel:t,container:e,reason:"UPSELL_LOGIN_OR_SIGNUP"}),P=!!a?.visible,k=(0,r.useRef)(P);return(0,r.useEffect)(()=>{if(P!==k.current){k.current=P;let t=ng(e);t.eligible&&(P?E(t.container,"loginForMoreIsVisible"):S({shouldDoSideEffects:!0}))}}),(0,r.useEffect)(()=>{(0,np.My)(`unauth_web.unauth_page_wrapper.${e}.mounted.is_mobile_false`),"p100"===(0,W.mB)(window.location.search).utm_source&&tQ()},[]),{hideDesktopSignupModal:S,pinImageClickHandler:({event:e,pinId:t,seoUrl:n,linkTarget:a})=>{if(e&&e.preventDefault(),y.anyEnabled){tX()||i((0,nh.Li)(t,n??void 0));let e=(0,nm.Z)((0,nu.bN)({pinId:t,seoUrl:n}),{});if("duploClientNav"===a)d.push(e);else{let t=window.open(e,"_blank");t?.focus()}S({shouldDoSideEffects:!1});return}if(w.anyEnabled){let e=!1;if(tX()||c.Z.emitEvent("pinView",{pinId:t,seoUrl:n,history:d,linkTarget:a,onUpsellTriggerCallback:()=>{e=!0}}),!e){let e=(0,nu.bN)({pinId:t,seoUrl:n});if("fullPageLoad"===a)return void(0,nn.Z)(e,!1);if("duploClientNav"===a)d.push(e);else{let t=window.open(e,"_blank");t?.focus()}}return}let r=null;if(!tX()&&!v("dweb_unauth_nav_upsell_local_storage_deprecation").anyEnabled){let e=(0,s.M0)(),t=e.getItem(eV.cu)??0;t+1>=4&&!l.ZP.getItem("HAS_SEEN_LOGIN_MODAL")&&(l.ZP.setItem("HAS_SEEN_LOGIN_MODAL","true"),r={mt:"login"},(0,np.My)("dweb.navigational.upsell.show")),e.setItem(eV.cu,t+1),b({type:"UPDATE"})}let o=(0,nm.Z)((0,nu.bN)({pinId:t,seoUrl:n}),r||{});if("fullPageLoad"===a)return void(0,nn.Z)(o,!1);if("duploClientNav"===a)d.push(o);else{let e=window.open(o,"_blank");e?.focus()}S({shouldDoSideEffects:!1})},pinLinkClickHandler:()=>{if(nd(),tX())return;let e=nc();y.anyEnabled?i((0,nh.tW)(e)):(2===e||e%5==0)&&E("hybrid_clickthrough","pinLinkClickHandler_tier1")},modalOpened:!!t.modal.isShown,showDesktopSignupModal:x,signupModalState:t,showGoogleOneTapTriggeredModal:e=>{switch(e.type){case"CLICK_LOGIN_BUTTON":x({signupFlow:{type:"login"},attributionLabel:"tap_googleOneTap_login",source:"login",container:"google_one_tap_modal",reason:"CLICK_LOGIN_OR_SIGNUP"});break;case"LOGIN_ERROR":x({signupFlow:{type:"login"},source:"login",reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_googleOneTap_loginError"});break;case"MFA":x({signupFlow:{type:"loginMfa",creds:{google_open_id_token:e.mfaGoogleOpenId}},reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_googleOneTap_mfa"});break;case"GDPR_REQUIRES_AGE":x({signupFlow:{type:"socialSignupWithAge",registrationCredentials:e.socialRegistrationCredentials},reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_googleOneTap_gdprRequiresAge"})}},trackConversionUpsellForContext:m}};var nb=n(126356),nv=n(607001),nw=n(973940);function ny(){return!function(){let e=(0,g.I0)(),{pinViewCount:t,navigationalModalViewed:n,showSaveModal:i,pinId:a,attributionLabel:o,clickCloseUp:s,clickContextMenuSaveButton:l,clickContextMenuDownloadButton:c,clickFollowButton:d,followIsIdeaPin:u,followDesktopOptions:p,clickCloseUpContextMenuSaveButton:_,clickCloseUpContextMenuDownloadButton:h,clickFollowingButton:m,clickFollowersButton:f,clickCommentComposerUpsell:b,clickPinLinkUpsell:v,clickPinLinkCount:w,clickRelatedPinOpenLinkUpsell:y,uniqueNavigationalPagesSeen:S,navigationalPagesUpsellSeen:x,navigationalContainerPage:E}=(0,g.v9)(e=>e.upsell),P=(0,nv.Z)(),k=(0,nt.g)()?.showDesktopSignupModal,I=(0,nw.Z)(n);(0,r.useEffect)(()=>{k&&t>3&&!I&&!x&&(k({signupFlow:{type:"login"},attributionLabel:"navigation_1",container:"closeup",reason:"UPSELL_LOGIN_OR_SIGNUP"}),e((0,nh.mM)()))},[t,e,I,x,k]);let T=(0,nw.Z)(i);(0,r.useEffect)(()=>{!T&&i&&(P({attributionLabel:o??"",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:"save"},desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save"}},pinId:a}),e((0,nh.Yc)("showSaveModal")))},[T,i,a,o,P,e]);let A=(0,nw.Z)(s);(0,r.useEffect)(()=>{!A&&s&&(P({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),e((0,nh.Yc)("clickCloseUp")))},[A,s,P,e]);let O=(0,nw.Z)(l);(0,r.useEffect)(()=>{!O&&l&&(P({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_action_bar_ellipsis_save_button",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:a??""}}}),e((0,nh.Yc)("clickContextMenuSaveButton")))},[O,a,l,P,e]);let C=(0,nw.Z)(_);(0,r.useEffect)(()=>{!C&&_&&(P({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${o}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:a??""}}}),e((0,nh.Yc)("clickCloseUpContextMenuSaveButton")))},[C,a,o,_,P,e]);let R=(0,nw.Z)(h);(0,r.useEffect)(()=>{!R&&h&&(P({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${o}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:a??""}}}),e((0,nh.Yc)("clickCloseUpContextMenuDownloadButton")))},[R,a,o,h,P,e]);let j=(0,nw.Z)(c);(0,r.useEffect)(()=>{!j&&c&&(P({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_action_bar_ellipsis_download_button",desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:a??""}}}),e((0,nh.Yc)("clickContextMenuDownloadButton")))},[j,a,c,P,e]);let N=(0,nw.Z)(d);(0,r.useEffect)(()=>{!N&&d&&(P({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:u?"click_idea_pin_follow":"click_follow",desktopOptions:p?{modalType:"signup",modalOptions:{source:p.source,container:p.container}}:void 0}),e((0,nh.Yc)("clickFollowButton")))},[N,d,u,p,P,e]);let Z=(0,nw.Z)(m);(0,r.useEffect)(()=>{!Z&&m&&(P({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_following"}),e((0,nh.Yc)("clickFollowingButton")))},[Z,m,P,e]);let L=(0,nw.Z)(f);(0,r.useEffect)(()=>{!L&&f&&(P({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_followers"}),e((0,nh.Yc)("clickFollowersButton")))},[L,f,P,e]);let U=(0,nw.Z)(b);(0,r.useEffect)(()=>{!U&&b&&(P({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_comment_composer",desktopOptions:{modalType:"login",modalOptions:{source:"commentComposer",container:"closeup"}}}),e((0,nh.Yc)("clickCommentComposerUpsell")))},[U,b,P,e]);let M=(0,nw.Z)(w);(0,r.useEffect)(()=>{let t=w||0;k&&v&&t!==M&&(2===t||t%5==0)&&(k({signupFlow:{type:"login"},attributionLabel:"pinLinkClickHandler_tier1",container:"hybrid_clickthrough",reason:"UPSELL_LOGIN_OR_SIGNUP"}),e((0,nh.Yc)("clickPinLinkUpsell")))},[M,w,v,k,e]);let D=(0,nw.Z)(y);(0,r.useEffect)(()=>{!D&&y&&(P({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}}),e((0,nh.Yc)("clickRelatedPinOpenLinkUpsell")))},[D,y,P,e]),(0,r.useEffect)(()=>{k&&!x&&S.length>3&&!n&&(k({signupFlow:{type:"login"},attributionLabel:`navigation_${E}`,container:E,reason:"UPSELL_LOGIN_OR_SIGNUP"}),e((0,nh.KP)()))},[x,S,E,e,k,n])}(),null}var nS=n(551383),nx=n(729434);let{Provider:nE,useHook:nP}=(0,nx.Z)("NativeAppInstalled");function nk({children:e}){let[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),o=(0,r.useCallback)(e=>{n(e)},[]),s=(0,r.useCallback)(e=>{a(e)},[]);(0,r.useEffect)(()=>{!async function(){let e=await (0,nS.Z)();a(!0),e.length>0&&n(!0)}()},[]);let l=(0,r.useMemo)(()=>({isNativeAppInstalled:t,setIsNativeAppInstalledVal:o,isCheckComplete:i,setIsCheckCompleteVal:s}),[t,o,i,s]);return(0,k.jsx)(nE,{value:l,children:e})}var nI=n(940077),nT=n(634405),nA=n(326687),nO=n(542963),nC=n(867552);function nR({children:e}){let t,{isAuth:n}=(0,m.Z)(),{isBot:i}=(0,z.B)(),a=(0,f.TH)(),s=(0,f.$B)(),[l,c]=(0,r.useState)((0,U.uM)(a)?{isStoryPin:"unknown"}:null);(0,r.useEffect)(()=>{c((0,U.uM)(a)?{isStoryPin:"unknown"}:null)},[a]);let d=(0,r.useCallback)(e=>c({isStoryPin:e}),[]),{userAgent:u,userAgentPlatform:p}=(0,g.v9)(({session:e})=>({userAgent:e.userAgent,userAgentPlatform:e.userAgentPlatform}),g.wU),_=(0,nT.Z)()||(0,nA.Rp)({isBot:i,platform:p,userAgent:u}),{checkExperiment:h}=(0,o.F)(),[b,v]=(0,r.useState)(!1),[w,y]=(0,r.useState)(!1),[S,x]=(0,r.useState)(!1),[E,P]=(0,r.useState)(!1),I=(0,nO.Z)();return n||(t={appInstallBannerIsEnabled:_&&((0,U.uM)(a)||(0,U.am)(a)||(0,U.$Y)(a)||(0,U.E0)(a)||(0,U.Zz)(a)||(0,U.dr)(a)||(0,U.tZ)(a)||(0,U.Q0)(a)||(0,U.f1)(a)||(0,U.OX)(a)||(0,U.gT)(a)||(0,U.bW)(a)||(0,U.En)(a)||(0,U.wg)(a)||"/unauth-profile"===s.path||"/:username"===s.path||"/:username/:slug/:section_slug"===s.path||(0,U.Xn)(a)||("/:username/_created"===s.path||"/:username/_saved"===s.path)&&"enabled_add_tabs"===h("pcons_header_on_created_and_saved_tab").group),hasScrolledPastMainContent:b,setHasScrolledPastMainContent:v,hasDraggedDrawerToFullScreen:w,setHasDraggedDrawerToFullScreen:y,pinPageGlobalContext:l,onPinTypeLoad:d,shouldShowLearningUpsell:S,setShouldShowLearningUpsell:x,shouldShowHomepageAppUpsellSheet:E,setShouldShowHomepageAppUpsellSheet:P,unauthSavedPinsStore:I}),(0,k.jsx)(nC.D,{value:t,children:e})}var nj=n(351222),nN=n(435561),nZ=n(240794),nL=n(20140);function nU({left:e=0,transition:t}){let n=(0,h.ZP)(),i=(0,nL.Z)(),a=(0,nZ.Z)();if(!i)return null;let r="desktop"===n?nN.$:nN.J,o="phone"===n?nj.SB:nj.Pw;return a?(0,k.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{left:e,transition:t}},height:o,position:"fixed",right:!0,zIndex:r}):"desktop"===n?(0,k.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{left:e,transition:t}},height:o,right:!0}):(0,k.jsx)(p.Le,{top:0,zIndex:r,children:(0,k.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{left:e,transition:t}},height:o,right:!0})})}var nM=n(99e4),nD=n(708898),nz=n(124320);let nB=function(){let[e,t]=(0,r.useState)(!1),n=(0,r.useRef)(null),i=(0,nz.Z)(()=>{let e=n.current;e&&!Number.isNaN(e.scrollTop)&&t(e.scrollTop>0)},100);return{showHeaderShadow:e,scrollerRef:n,handleScrollShadow:i}},{Provider:nH,useHook:nG}=(0,nx.Z)("VerticalNavFullSizePopover"),nF=({children:e})=>{let{scrollerRef:t,showHeaderShadow:n,handleScrollShadow:i}=nB(),a=(0,r.useMemo)(()=>({showHeaderShadow:n,scrollerRef:t,handleScrollShadow:i}),[t,n,i]);return(0,k.jsx)(nH,{value:a,children:e})},nV=({children:e})=>(0,k.jsx)(p.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:e}),nW=({title:e})=>{let{showHeaderShadow:t}=nG();return(0,k.jsx)(p.xu,{alignItems:"center",borderStyle:t?"raisedBottomShadow":void 0,display:"flex",flex:"none",padding:4,children:(0,k.jsx)(p.X6,{accessibilityLevel:1,size:"400",children:e})})},n$=({children:e})=>(0,k.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},flex:"grow",height:"100%",children:e}),nq=({children:e})=>{let{scrollerRef:t,handleScrollShadow:n}=nG();return(0,k.jsx)(p.xu,{ref:t,height:"100%",onScroll:n,overflow:"auto",children:e})},nY=function({accessibilityLabel:e,anchor:t,onDismiss:n,popoverId:i,children:a}){let r=(0,tL.Z)();return t?(0,k.jsx)(nF,{children:(0,k.jsx)(p.mh,{zIndex:e9.Mf,children:(0,k.jsx)(p.J2,{accessibilityLabel:e,anchor:t,color:"white",coordinates:{top:e9.zz,bottom:e9.zz,start:r+e9.L7},disablePortal:!0,forceDirection:!0,id:i,idealDirection:e9.dg,onDismiss:n,position:"fixed",size:e9.GJ,children:(0,k.jsx)(p.xu,{height:"100%",width:e9.GJ,children:a})})})}):null};function nK({accessibilityLabel:e,anchor:t,onDismiss:n,popoverId:i,children:a,bottom:r,position:o}){let s=(0,tL.Z)();return t?(0,k.jsx)(p.mh,{zIndex:e9.Mf,children:(0,k.jsx)(p.J2,{accessibilityLabel:e,anchor:t,color:"white",coordinates:"fixed"===o?{start:s+e9.L7,bottom:r}:void 0,disablePortal:!0,forceDirection:!0,id:i,idealDirection:e9.dg,onDismiss:n,position:o,size:e9.GJ,children:(0,k.jsx)(p.xu,{width:e9.GJ,children:a})})}):null}var nJ=n(643928);let nQ=({isCategoriesEnabled:e})=>{let t=(0,j.ZP)(),{selectedNav:n,togglePanelState:i,isPanelOpen:a,updatePanelState:o}=tP(),{appUI:{showTypeaheadOverlay:s}}=(0,eg.I)(),{country:l,isAuthenticated:c}=(0,z.B)(),d=c||"JP"!==l?t.bt("Explore", "Explore", "unauth.header.tabs.ideas", undefined, true):t.bt("Explore ideas", "Explore ideas", "unauth.header.tabs.ideas.jp", undefined, true),u=(0,r.useRef)(null),_=(0,r.useRef)(null),h="VerticalNav-MoreOptions-Flyout",m=a("settings"),g=a("categories"),f=(0,nD.Z)(),[b,v]=(0,r.useState)(!1),[w,y]=(0,r.useState)(!1),{trackPinterestLogoClick:S,trackIdeasTabClick:x,trackShoppingClick:E,trackSettingsClick:P,trackCategoriesClick:I}=(0,nJ.Z)(),T=(0,th.c)();return(0,k.jsxs)(tR,{showTypeaheadOverlay:s,children:[(0,k.jsxs)(tk,{height:"100%",justifyContent:"between",children:[(0,k.jsxs)(tk,{children:[(0,k.jsx)(tO,{onClick:S}),(0,k.jsx)(tI,{children:(0,k.jsx)(tv,{accessibilityLabel:d,dataTestId:"ideas-tab",iconName:"today",onClick:x,preloadExtent:T.preloadExtent,route:{kind:"/ideas",routeParams:{}},selected:"ideas"===n})}),f?(0,k.jsx)(tI,{children:(0,k.jsx)(tf.Td,{accessibilityLabel:t.bt("Shop", "Shop", "unauth.header.tabs.shop", undefined, true),dataTestId:"shopping-tab",href:"/shopping",iconName:"shopping",onClick:E,selected:"shopping"===n})}):null,e?(0,k.jsx)(tI,{children:(0,k.jsx)(tf.Td,{ref:_,accessibilityLabel:t.bt("Categories", "Categories", "verticalNav.categoriesButton.label", undefined, true),dataTestId:"categories-tab",iconName:"categories",onClick:()=>{i("categories"),y(e=>!e),I()},selected:g})}):null]}),(0,k.jsx)(tf.Td,{ref:u,accessibilityControls:h,accessibilityLabel:t.bt("More options", "More options", "verticalNav.moreOptionsButton.tooltip", undefined, true),accessibilityPopupRole:"menu",dataTestId:"vertical-nav-more-options-button",iconName:"moreOptions",onClick:()=>{i("settings"),v(e=>!e),P()},selected:m})]}),b?(0,k.jsx)(A.Z,{name:"SafeSuspense_UnauthVerticalNav_UnauthSettingFlyout",children:(0,k.jsx)(nK,{anchor:u.current,bottom:e9.zz,onDismiss:()=>{o("settings",!1),v(!1)},popoverId:h,position:"fixed",children:(0,k.jsx)(nM.Z,{displayLocation:"vertical-nav"})})}):null,w?(0,k.jsx)(nY,{accessibilityLabel:t.bt("Categories popover", "Categories Popover", "verticalNav.categoriesPopover.label", undefined, true),anchor:_.current,onDismiss:()=>{o("categories",!1),y(!1)},popoverId:"VerticalNav-Categories-Flyout",children:(0,k.jsxs)(nV,{children:[(0,k.jsx)(nW,{title:t.bt("Category", "Category", "verticalNav.categoriesPopover.title", undefined, true)}),(0,k.jsx)(n$,{children:(0,k.jsx)(nq,{children:Array.from({length:25}).map((e,t)=>(0,k.jsx)(p.xu,{padding:6,children:(0,k.jsxs)(p.xv,{children:["Category ",t+1]})},t))})})]})}):null]})},nX=({isCategoriesEnabled:e=!1})=>(0,k.jsx)(tE,{isIdeaPinRenamingEnabled:!0,children:(0,k.jsx)(nQ,{isCategoriesEnabled:e})});var n0=n(403252);let n1=(0,P.Z)(()=>Promise.all([n.e("48292"),n.e("74081"),n.e("23900")]).then(n.bind(n,936935)),void 0,e=>936935,"app-www-PageWrapper-UnauthPageWrapperHeader"),n3=(0,P.Z)(()=>n.e("41222").then(n.bind(n,531118)),void 0,e=>531118,"app-www-PageWrapper-UnauthPageWrapperFooter");function n2({children:e,showDesktopSignupModal:t}){let{enabled:n}=(0,n0.Z)(),i=(0,tL.Z)();return(0,k.jsx)(nR,{children:(0,k.jsxs)(r.Fragment,{children:[(0,k.jsxs)(p.xu,{role:"banner",children:[(0,k.jsx)(V.Z,{}),(0,k.jsx)(n1,{fallback:(0,k.jsx)(nU,{left:i,transition:0===i?e9.rB:void 0}),showDesktopSignupModal:t})]}),n?(0,k.jsx)(nX,{}):null,(0,k.jsxs)(p.xu,{dangerouslySetInlineStyle:n?{__style:{paddingLeft:i}}:void 0,id:"mweb-unauth-container",role:"main",children:[e,(0,k.jsx)(e8,{})]}),(0,k.jsx)(n3,{})]})})}var n6=n(756334);let n4=nb.Z+tq.ZP,n5=({children:e})=>{let t=(0,nI.Z)(),{hideDesktopSignupModal:n,pinImageClickHandler:i,pinLinkClickHandler:a,showDesktopSignupModal:o,signupModalState:s,showGoogleOneTapTriggeredModal:l,trackConversionUpsellForContext:c}=nf({pageType:t}),d=(0,t1.cO)(),[u,p]=(0,r.useState)(!1),_=(0,r.useMemo)(()=>({isModalShown:s.modal.isShown,showDesktopSignupModal:o,pinImageClickHandler:i,pinLinkClickHandler:a,showGoogleOneTapTriggeredModal:l,trackConversionUpsellForContext:c}),[s.modal.isShown,o,i,a,l,c]),{setIsAutoplay:h}=(0,eg.I)();return(0,$.Z)(()=>{let e=Intl.DateTimeFormat().resolvedOptions().timeZone;(0,np.tj)("web.unauth.locale_data",{tz:e})}),(0,$.Z)(()=>{setTimeout(()=>{h(!0)},300)}),(0,k.jsxs)(nt.t,{value:_,children:[(0,k.jsx)(n2,{showDesktopSignupModal:o,children:e}),(0,k.jsx)(t8,{hideDesktopSignupModal:n,inviter:d?.data?.inviter||void 0,pageType:t,setShouldShowSignupWelcomeLoading:p,shouldShowSignupWelcomeLoading:u,signupModalState:s}),(0,k.jsx)(ny,{})]})};function n9({children:e}){return(0,k.jsx)(D.T,{children:(0,k.jsx)(ey.N,{children:(0,k.jsx)(nk,{children:(0,k.jsx)(t1.xM,{children:(0,k.jsx)(n6.Z,{metricName:"PageWrapper",children:(0,k.jsxs)(p.xu,{children:[(0,k.jsx)(to.Z,{unsafeCSS:n4}),(0,k.jsx)(ne.Z,{children:(0,k.jsx)(n5,{children:e})})]})})})})})})}var n7=n(716022),n8=n(410156),ie=n(226967),it=n(228544),ii=n(591003),ia=n(931073);let ir=e=>window.addEventListener("appinstalled",()=>{(0,np.My)("mweb.homescreen_install.installed"),e({event_type:13,view_type:170,component:13126,element:10802})}),io=(e,t)=>{try{(0,np.My)("mweb.homescreen_install.shown"),t({event_type:13,view_type:170,component:13126}),e.userChoice.then(e=>{(0,np.My)(`mweb.homescreen_install.${e.outcome}`),t({view_type:170,component:13126,element:"dismissed"===e.outcome?10359:10360,event_type:102})})}catch(e){window.console.error(e)}},is=(e,t)=>{let{userAgent:{browserName:n,browserVersion:i},isAuthenticated:a}=e,r=parseInt(i,10),o=!!n&&n.includes("Chrome");window.addEventListener("beforeinstallprompt",e=>a&&o&&r<=67?(io(e,t),!0):(e.preventDefault(),!1))};var il=n(822279),ic=n(929915);let id=(e,t)=>{(0,s.M0)().setItem(eV.cX,{version:t,data:e})},iu=()=>{try{let e=(0,s.M0)().getItem(eV.cX);return e&&{version:e.version,state:e.data}}catch{return null}};var ip=n(579275),i_=n(799635);let ih=e=>(0,U.uM)(e)?{name:"pin",viewType:3}:(0,U.am)(e)?{name:"board",viewType:5}:(0,ip.Z)(e)?{name:"profile",viewType:215}:null,im=e=>e<=10?e.toString():e<=20?"[11,20]":e<=50?"[21,50]":e<=100?"[51,100]":"101+",ig=e=>e?(0,U.bo)(e)&&"today"||(0,U.am)(e)&&"board"||(0,U.C$)(e)&&"home"||(0,U.dr)(e)&&"ideas"||(0,U.gT)(e)&&"ideas-root"||(0,U.Xn)(e)&&"login"||(0,U.uM)(e)&&"pin"||(0,ip.Z)(e)&&"profile"||(0,U.En)(e)&&"search"||"other":"unknown",ib=(e,t,n,i,a)=>{let{unauthID:r}=n.sessionContext,o="SHOW_MOBILE_SIGNUP_MODAL"===e.type&&e.options.navigationTriggeredUpsell?e.options.navigationTriggeredUpsell.newLocation:null,s=o?ih(o):null,l=s?.viewType||n.currentPageViewType||132;if("SHOW_MOBILE_SIGNUP_MODAL"===e.type&&n.modal.isShown){let{trigger:{attributionLabel:t,reason:i}}=n.modal.displayProps;(0,i_.Z)("dispatch_show",{reason:i,attributionLabel:t,oldPage:e.options.navigationTriggeredUpsell?ig(e.options.navigationTriggeredUpsell.oldLocation):"NOT_APPLICABLE",timesShownForSessionCount:im(n.timesShownForSessionCount)})}else if("DISMISS_MOBILE_SIGNUP_MODAL"===e.type&&t.modal.isShown){let{attributionLabel:e,reason:n}=t.modal.displayProps.trigger;(0,i_.Z)("dispatch_dismiss",{reason:n,attributionLabel:e})}if(!t.modal.isShown&&n.modal.isShown){let{attributionLabel:t}=n.modal.displayProps.trigger,o=t.replace(/\./g,"_");i({event_type:13,element:12403,component:13858,view_type:l,aux_data:{unauth_id:r}}),"SHOW_MOBILE_SIGNUP_MODAL"===e.type?((0,np.NC)(`show_dismissible_mobile_signup_modal_${e.type}_${o}`),a({viewType:l,eventType:14688,component:14216,element:{UPSELL_LOGIN_OR_SIGNUP:13319,ACTION_REQUIRES_LOGIN_OR_SIGNUP:13320,CLICK_LOGIN_OR_SIGNUP:13321}[e.options.reason]||13322,upsellReason:o})):(0,np.NC)(`show_dismissible_mobile_signup_modal_${e.type}`)}else"DISMISS_MOBILE_SIGNUP_MODAL"===e.type&&t.modal.isShown&&!n.modal.isShown&&(i({event_type:123,component:13858,view_type:l,aux_data:{unauth_id:r}}),(0,np.NC)("dismiss_mobile_signup_modal"))};var iv=n(113850);let iw=Object.freeze(["CO","ID"]),iy=e=>iw.includes(e),iS=e=>{if(!(0,n7.dh)(e))return!1;let t=(0,l.Nl)();return t.getItem(tY.QV)||((0,eJ.nP)("mobile_signup_modal.rules.suppress_for_instagram_in_app_browser"),t.setItem(tY.QV,"1")),!0},ix=({isUnauthSharingModalsShown:e,modalHasShown:t,sessionContext:{country:n,userAgent:i}})=>e||t&&iy(n)||(0,iv.P)()||iS(i),iE=(e,t)=>{switch(t.type){case"INCREMENT_UPSELL_ELIGIBLE_NAVIGATION_COUNT":return{...e,upsellEligibleNavigationCount:e.upsellEligibleNavigationCount+1};case"DISMISS_MOBILE_SIGNUP_MODAL":return{...e,modal:{isShown:!1}};case"UPDATE_SESSION_CONTEXT":return{...e,sessionContext:t.sessionContext};case"UPDATE_CURRENT_PAGE_VIEW_TYPE":return{...e,currentPageViewType:t.currentPageViewType};case"RESTORE_FROM_LOCAL_STORAGE":{let{upsellEligibleNavigationCount:n}=t;return{...e,upsellEligibleNavigationCount:n??e.upsellEligibleNavigationCount}}case"SHOW_MOBILE_SIGNUP_MODAL":return{...e,lastShownTime:t.now,timesShownForSessionCount:e.timesShownForSessionCount+1,scrollControllerHasDisplayed:e.scrollControllerHasDisplayed,modal:{isShown:!0,displayProps:{headingType:t.options.headingType,trigger:{attributionLabel:t.options.attributionLabel,reason:t.options.reason},allowCloseOnOutsideClick:t.options.allowCloseOnOutsideClick},pinId:t.options.pinId||null}};case"HIDE_UNAUTH_SHARING_MODALS":return{...e,isUnauthSharingModalsShown:!1};case"SHOW_UNAUTH_SHARING_MODALS":return{...e,isUnauthSharingModalsShown:!0};default:return e}};function iP({children:e,referrer:t}){let{country:n,unauthId:i,userAgent:{raw:a}}=(0,z.B)(),{viewType:o}=(0,ni.SU)(),s=(0,il.an)(t),l=(0,eF.Z)(),{trackConversionUpsellForContext:c}=(0,t0.A)(),[d,u]=(0,r.useReducer)(iE,{modal:{isShown:!1},scrollControllerHasDisplayed:!1,upsellEligibleNavigationCount:0,isUnauthSharingModalsShown:!1,lastShownTime:null,timesShownForSessionCount:0,sessionContext:{country:n,referrer:s,unauthID:i,userAgent:a},currentPageViewType:o});(0,r.useEffect)(()=>{u({type:"UPDATE_SESSION_CONTEXT",sessionContext:{country:n,referrer:s,unauthID:i,userAgent:a}})},[n,s,i,a]),(0,r.useEffect)(()=>{u({type:"UPDATE_CURRENT_PAGE_VIEW_TYPE",currentPageViewType:o})},[o]);let p=(0,r.useRef)(!1);(0,r.useEffect)(()=>{if(!p.current){p.current=!0;let e=iu(),t=e&&"v1"===e.version?e.state:null;if(t){let{upsellEligibleNavigationCount:e}=t;u({type:"RESTORE_FROM_LOCAL_STORAGE",upsellEligibleNavigationCount:e})}}},[]);let{scrollControllerHasDisplayed:_,upsellEligibleNavigationCount:h}=d;(0,r.useEffect)(()=>{p.current&&id({upsellEligibleNavigationCount:h},"v1")},[h]);let m=(0,r.useCallback)(()=>{let e={type:"DISMISS_MOBILE_SIGNUP_MODAL"},t=iE(d,e);ib(e,d,t,l,c),u(e)},[l,d,c]),g=(0,r.useCallback)(()=>u({type:"HIDE_UNAUTH_SHARING_MODALS"}),[]),f=(0,r.useCallback)(e=>{let t={type:"SHOW_MOBILE_SIGNUP_MODAL",now:Date.now(),options:e},n=iE(d,t);ib(t,d,n,l,c),u(t)},[l,d,c]),b=(0,r.useCallback)(()=>u({type:"SHOW_UNAUTH_SHARING_MODALS"}),[]),v=(0,r.useCallback)(()=>!d.modal.isShown&&!ix({isUnauthSharingModalsShown:d.isUnauthSharingModalsShown,sessionContext:d.sessionContext,modalHasShown:!!d.lastShownTime}),[d.modal.isShown,d.isUnauthSharingModalsShown,d.sessionContext,d.lastShownTime]),w=(0,r.useCallback)(()=>u({type:"INCREMENT_UPSELL_ELIGIBLE_NAVIGATION_COUNT"}),[]),y=(0,r.useMemo)(()=>({modal:d.modal,dismissMobileSignupModal:m,hideUnauthSharingModals:g,showMobileSignupModal:f,showUnauthSharingModals:b,upsellIsEnabledGlobally:v,incrementUpsellEligibleNavigationCount:w,scrollControllerHasDisplayed:_,upsellEligibleNavigationCount:h,trackConversionUpsellForContext:c}),[d.modal,m,g,f,b,v,w,_,h,c]);return(0,k.jsx)(ic.r,{value:y,children:e})}var ik=n(76774),iI=n(793698);let iT=(0,P.Z)(()=>Promise.all([n.e("48292"),n.e("14803")]).then(n.bind(n,424503)),void 0,e=>424503,"app-www-PageWrapper-AuthMobileHeader"),iA=(0,P.Z)(()=>Promise.all([n.e("83324"),n.e("48292"),n.e("6150")]).then(n.bind(n,57353)),void 0,e=>57353,"app-www-PageWrapper-AuthPageWrapperFooter"),iO=(0,P.Z)(()=>Promise.all([n.e("48292"),n.e("74081"),n.e("23900")]).then(n.bind(n,936935)),void 0,e=>936935,"app-www-PageWrapper-UnauthPageWrapperHeader"),iC=(0,P.Z)(()=>n.e("41222").then(n.bind(n,531118)),void 0,e=>531118,"app-www-PageWrapper-UnauthPageWrapperFooter"),iR=(0,P.Z)(()=>n.e("52700").then(n.bind(n,664372)),void 0,e=>664372,"app-www-NavFooter-NavFooter"),ij=({isAuthenticated:e,location:t,hasNux:n,hasEmailUpdate:i,shouldHideNavFooter:a,viewingUsername:r,experimentsClient:o,isAndroidUnauthExperience:s})=>r&&(0,U.J)(t,r)||t.pathname.endsWith("/organize/repin/")||t.pathname.endsWith("/profile-about/")||t.pathname.startsWith("/about/")||t.pathname.startsWith("/convert-business")||t.pathname.startsWith("/convert-personal")||t.pathname.startsWith("/close-account")||t.pathname.startsWith("/switch_account")||t.pathname.startsWith("/add-account")||t.pathname.startsWith("/request-data")||t.pathname.match(/pin\/.+\/repin/)||t.hash===`#${ii.v}`||t.pathname.startsWith("/board/create/")||"/inbox/compose/"===t.pathname||t.pathname.startsWith("/parental-passcode")||"/search/me/"===t.pathname||"/search/people/"===t.pathname||t.pathname.startsWith("/today-articles")||t.pathname.startsWith("/for-you")||t.pathname.startsWith("/oauth")||(0,U.C$)(t)&&(n||i||!e)||(0,U.Xn)(t)||(0,U.gf)(t)||(0,U.re)(t)||(0,U.FO)(t)||(0,U.pV)(t)||(0,U.jC)(t)||(0,U.XE)(t)||(0,U.Fy)(t)||(0,U.AX)(t)||(0,U.pD)(t)||(0,U.Ui)(t)||(0,U.KY)(t)||(0,U.Ni)(t)||(0,U.b0)(t)||(0,U.mP)(t)||(0,U.bW)(t)||(0,U.dt)(t)||(0,U.e)(t,o)||s||a,iN=()=>{let e=(0,H.Z)({name:"UserSettingsResource"});return(0,k.jsx)(iA,{userSettingsResourceRef:e})},iZ=7*n8.F4,iL=({isAuth:e,children:t})=>{let n=(0,f.TH)(),{checkExperiment:i}=(0,o.F)(),a=nP(),s=(0,it.n)(),c=(0,iI.Tt)(),{userAgent:d}=(0,g.v9)(e=>e.session),[u,_]=(0,r.useState)(!0),h="true"===l.ZP.getItem(tY.m5);return(0,r.useEffect)(()=>{let{invite_code:t,utm_source:r}=(0,W.mB)(n.search);if(e&&!(0,n7.ry)(d)&&a.isCheckComplete&&!a.isNativeAppInstalled&&(0,nA.kp)((0,ie.Z)(c?.created_at),iZ)&&("email"===r||r===String(31))&&!((0,U.ej)(n)||(0,U.C$)(n)||(0,U.q_)(n))&&(s.setShowReferredAppUpsellVal(!0),""===s.uiType&&(s.setAppUpsellTypeVal("auth-email-referred"),s.setUiTypeVal("full"))),!(0,n7.ry)(d)&&a.isCheckComplete&&!a.isNativeAppInstalled&&(0,nA.kp)((0,ie.Z)(c?.created_at),iZ)&&t){let t="enabled_social"===i("mweb_on_land_full_page_signup_upsell").group,n=i("mweb_social_q2_upper_bound").anyEnabled,a=!e&&(i("sg_mweb_unauth_social_pin_landing_page").anyEnabled||i("mweb_q2_mau_push_pc").anyEnabled||i("mweb_q2_mau_push_pc_advanced").anyEnabled||i("mweb_q2_mau_push_pc_emergency").anyEnabled);t||n||a||(s.setShowReferredAppUpsellVal(!0),""===s.uiType&&(s.setAppUpsellTypeVal(e?"auth-social-referred":"unauth-social-referred"),s.setUiTypeVal("bottom")))}},[i,c,e,a.isCheckComplete,a.isNativeAppInstalled,n,s,d]),(0,r.useEffect)(()=>{if((0,n7.ry)(d)&&u){let t="enabled_social"===i("mweb_on_land_full_page_signup_upsell").group,n=i("mweb_social_q2_upper_bound").anyEnabled,a=!e&&(i("sg_mweb_unauth_social_pin_landing_page").anyEnabled||i("mweb_q2_mau_push_pc").anyEnabled||i("mweb_q2_mau_push_pc_advanced").anyEnabled||i("mweb_q2_mau_push_pc_emergency").anyEnabled),{anyEnabled:r,group:o}=!e&&i("mweb_unauth_social_iab_upsell_boost_experiment")||{};r&&(_(!1),s.showDelayedReferredAppUpsell("enabled_20"===o?2e4:45e3*("enabled_45"===o),"enabled_dismiss"!==o)),t||n||a||(_(!1),s.setShowReferredAppUpsellVal(!0),""===s.uiType&&(s.setAppUpsellTypeVal(e?"auth-social-iab":"unauth-social-iab"),s.setUiTypeVal("bottom")))}},[i,c,e,s,u,d]),(0,k.jsx)(n6.Z,{metricName:"PageWrapper",children:(0,k.jsxs)(p.xu,{color:"default",minHeight:"100vh",role:"main",children:[!h&&(e?(0,k.jsx)(iT,{}):(0,k.jsx)(iO,{fallback:(0,k.jsx)(nU,{})})),(0,k.jsx)(p.xu,{id:e?"":"mweb-unauth-container",children:t}),e?(0,k.jsx)(iN,{}):(0,k.jsx)(iC,{})]})})};function iU({children:e}){let t=(0,f.TH)(),n=(0,m.Z)(),{referrerFromCookie:i,isAuthenticated:a,isBot:s}=(0,z.B)(),{setIsAutoplay:c}=(0,eg.I)(),{checkExperiment:d}=(0,o.F)(),u=(0,o.F)(),{setIsNavFooterHiddenAfterScroll:_}=(0,ik.U)(),h=(0,g.I0)(),b=(0,z.B)(),v=(0,eF.Z)();(0,$.Z)(()=>{is(b,v),ir(v)});let w=(0,g.v9)(e=>e.experiences[40001]?.experience_id===500681),y=d("mweb_delay_renux_for_resurrected_user",{dangerouslySkipActivation:!0}).group||"",S=d("mweb_scroll_based_renux",{dangerouslySkipActivation:!0}).group||"",x=(0,g.v9)(({experiences:e})=>!y&&!S||y.includes("control")||S.includes("control")?[40002,500450].includes(e[40001]?.experience_id??0):[40002].includes(e[40001]?.experience_id??0)),E=(0,g.v9)(e=>e.session.shouldHideNavBar);(0,r.useEffect)(()=>{!t||s||(0,U.uM)(t)||_(!1)},[s,t,h,_]),(0,$.Z)(()=>{setTimeout(()=>{c(!0)},300)});let{userAgent:P}=(0,g.v9)(e=>e.session),I=new URLSearchParams(t.search),T="true"===l.ZP.getItem(tY.m5);"true"===I.get("ppm-unauth-android-experience")&&!T&&(0,n7.xX)(P)&&(l.ZP.setItem(tY.m5,"true"),T=!0);let A=!ij({isAuthenticated:a,location:t,hasNux:x,hasEmailUpdate:w,shouldHideNavFooter:E,viewingUsername:n.isAuth?n.username:void 0,experimentsClient:u,isAndroidUnauthExperience:T}),O={__style:{...A?{paddingBottom:68}:{}}};return(0,k.jsx)(p.xu,{dangerouslySetInlineStyle:O,children:(0,k.jsx)(nR,{children:(0,k.jsx)(iP,{referrer:i,children:(0,k.jsx)(it.P,{children:(0,k.jsx)(nk,{children:(0,k.jsx)(ia.Z,{graphqlRef:null,children:(0,k.jsxs)(t1.xM,{children:[A?(0,k.jsx)(p.xu,{as:"nav",children:(0,k.jsx)(iR,{})}):null,(0,k.jsx)(iL,{isAuth:n.isAuth,children:e})]})})})})})})})}function iM({children:e}){let{isAuth:t}=(0,m.Z)(),n=(0,h.HG)();return((0,_.Z)(),n&&t)?(0,k.jsx)(p.xu,{minHeight:"100vh",children:(0,k.jsx)(t$,{children:e})}):n&&!t?(0,k.jsx)(n9,{children:e}):(0,k.jsx)(iU,{children:e})}var iD=n(537685),iz=n(859249),iB=n(37264),iH=n(296086);async function iG(){let{default:e}=await n.e("71010").then(n.bind(n,565936)),t=Date.now(),i=await e.load(),a=await i.get(),r=Date.now();(0,eJ.LY)("fingerprint.time",r-t,{sampleRate:1});let{components:o}=a;for(let e in o){let{duration:t}=o[e];(0,eJ.LY)("fingerprint.componentDuration",t,{sampleRate:.1,tags:{component:e}})}return a.visitorId}var iF=n(981636),iV=n(895628),iW=n(249201),i$=n(38787),iq=n(802664),iY=n(20310),iK=n(343989),iJ=n(950948),iQ=n(936371),iX=n(724084),i0=n(414096),i1=n(699615),i3=n(792171),i2=n(570032),i6=n(226513),i4=n(105433),i5=n(933855),i9=n(529575);class i7 extends r.Component{constructor(e){super(e),this.state={bannerStatus:this.props.isOffline?"offline":"hidden"}}getSnapshotBeforeUpdate(e){let{isOffline:t}=this.props,{isOffline:n}=e;return n!==t&&(this.setState({bannerStatus:t?"offline":"backOnline"}),t||setTimeout(()=>{this.props.isOffline?this.setState({bannerStatus:"offline"}):this.setState({bannerStatus:"hidden"})},2e3)),null}componentDidUpdate(){}render(){let{bannerStatus:e}=this.state;return"hidden"!==e&&(0,k.jsx)(p.Le,{top:0,zIndex:new p.Ry(20),children:(0,k.jsx)(p.xu,{alignItems:"center",color:"backOnline"===e?"successBase":"secondary",display:"flex",flex:"grow",height:"100%",justifyContent:"center",padding:3,children:(0,k.jsxs)(p.xv,{align:"center",color:"backOnline"===e?"inverse":"default",size:"200",weight:"bold",children:[(0,k.jsx)(p.xu,{display:"inlineBlock",marginBottom:-1,marginEnd:1,marginStart:1,children:(0,k.jsx)(p.JO,{accessibilityLabel:e?this.props.i18n.bt("online", "online", "online icon label", undefined, true):this.props.i18n.bt("offline", "offline", "offline icon label", undefined, true),color:"backOnline"===e?"inverse":"default",dangerouslySetSvgPath:{__path:"backOnline"===e?i9.Z:i5.Z}})}),"backOnline"===e?this.props.i18n.bt("You're back online.", "You're back online!", "back online message", undefined, true):this.props.i18n.bt("You're offline. Please check your Internet connection.", "You're offline! Check your internet connection.", "not online message", undefined, true)]})})})}}let i8=function(e){let t=(0,j.ZP)();return(0,k.jsx)(i7,{...e,i18n:t})};var ae=n(146621);function at(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class an extends r.Component{constructor(...e){super(...e),at(this,"handleBeforeInstallPrompt",e=>{this.installPromptEvent=e}),at(this,"beforeInstallPromptGetter",()=>this.installPromptEvent),at(this,"installPromptEvent",null)}componentDidMount(){window.addEventListener("beforeinstallprompt",this.handleBeforeInstallPrompt)}componentWillUnmount(){window.removeEventListener("beforeinstallprompt",this.handleBeforeInstallPrompt)}render(){return(0,k.jsx)(ae.Z,{value:this.beforeInstallPromptGetter,children:this.props.children})}}var ai=n(902658),aa=n(101639),ar=n(470131),ao=n(323449);function as({children:e}){let[t,n]=(0,r.useState)(""),[i,a]=(0,ar.YD)({threshold:0}),[o,s]=(0,r.useState)(!1),l=(0,r.useMemo)(()=>({currentPin:t,hasClickedMoreLikeThisButton:o,moreLikeThisButtonRef:i,moreLikeThisButtonInView:a,setCurrentPin:n,setHasClickedMoreLikeThisButton:s}),[t,o,i,a,n,s]);return(0,k.jsx)(ao.j,{value:l,children:e})}var al=n(716751);function ac(){let e=(0,j.ZP)();return window.navigator.cookieEnabled?null:(0,k.jsx)(p.xu,{margin:2,children:(0,k.jsx)(p.ci,{iconAccessibilityLabel:"Error",message:e.bt("Please enable cookies and try again", "Please enable cookies and try again", "Message informing users to enable cookies", undefined, true),title:e.bt("Oh no! Pinterest doesn't work unless you enable cookies.", "Oh no! Pinterest doesn't work unless you enable cookies.", "Toast that displays when a user has cookies disabled", undefined, true),type:"error"})})}var ad=n(157322);function au(){let e=(0,m.Z)(),t=(0,z.B)(),{country:n}=t,i=t.countryFromIp,{countryFromHostName:a}=t,o=new Set(ad.Z),l=o.has(n)||o.has(i)||o.has(a),{allow_analytic_cookies:c,allow_personalization_cookies:d,epik:u,isAuth:p}=e.isAuth?e:{};return(0,r.useEffect)(()=>{if(p){if(l&&!(c&&d))(0,s.M0)().removeItem(eV.d1);else if(u){var e,t;let n=new Date;e=eV.d1,t=n.getTime()+n8.N1,(0,s.M0)().setItem(e,JSON.stringify({value:u,expiry:t}))}}},[p,u,l,c,d]),null}var ap=n(724847),a_=n(458460),ah=n(286036),am=n(993279),ag=n(877025),af=n(166641),ab=n(295976),av=n(60059),aw=n(594135),ay=n(578341),aS=n(747129);let ax=()=>{let e=(0,ay.Z)();return(0,r.useCallback)((t,n)=>e(t,{loggingOptions:n}),[e])};function aE({children:e}){let{country:t,isAuthenticated:n,userAgent:{browserName:i,platform:a}}=(0,z.B)(),o=(0,h.ZP)(),s=(0,m.Z)(),{loggedOutUserInfo:l}=(0,g.v9)(({session:e})=>({loggedOutUserInfo:e.loggedOutUserInfo}),g.wU),c=(0,g.v9)(({users:e})=>s.isAuth?e[s.id]:void 0),d=(0,r.useMemo)(()=>c&&(0,aS.xT)(c)?{type:"LIMITED_LOGIN",info:{connectedToFacebook:!!c.connected_to_facebook,connectedToGoogle:!!c.connected_to_google,email:c.email??"",firstName:c.first_name??"",hasPassword:!!c.has_password,imageUrl:c.image_xlarge_url??null}}:n?{type:"AUTH",info:null}:{type:"UNAUTH",info:l&&l.email&&l.first_name?{connectedToFacebook:!!l.connected_to_facebook,connectedToGoogle:!!l.connected_to_google,email:l.email,firstName:l.first_name,hasPassword:!!l.has_password,imageUrl:l.medium_image_url??null}:null},[n,l,c]),u=ax(),p="mobile"===o||"tablet"===o,_=(0,r.useMemo)(()=>({getDeviceAppTypeString:()=>`${p?"mobile":"desktop"}.${t}.${a}.${i||"unknown"}`.replace(/ /g,"_"),register:u,viewer:d}),[i,t,p,u,a,d]);return(0,k.jsx)(E.I7,{value:_,children:e})}var aP=n(547362),ak=n(598158),aI=n(550947);let aT=e=>{let t=Date.now(),n=(0,s.M0)().getItem(eV.RS);n=n?parseInt(n,10):null;let i="unknown";if(n){let e=(t-n)/36e5;0===e?i="0":e>0&&e<=6?i="0-6":e>6&&e<=12?i="6-12":e>12&&e<=24?i="12-24":e>24&&e<=48?i="24-48":e>48&&e<=72?i="48-72":e>72&&(i="72+")}return{elapsedTimeBucket:i,firstDelayTime:n,maxStalenessReached:n&&t-n>36e5*e}};var aA=n(314011),aO=n(502066),aC=n(469526),aR=n(932370),aj=n(137764),aN=n(969395),aZ=n(405463),aL=n(845421),aU=n(951121),aM=n(438556),aD=n(289032),az=n(542696);let aB=e=>"phone"===e?"sm":"tablet"===e?"md":"lg",aH=e=>e<768?"sm":e<1024?"md":"lg";function aG({children:e}){let{isTablet:t,isMobile:n}=(0,z.B)().userAgent,[i,a]=(0,r.useState)(aB(t?"tablet":n?"phone":"desktop")),o=()=>a(aH(window.innerWidth)),s=(0,r.useCallback)((0,aD.Z)(o,200),[]);return(0,r.useEffect)(()=>(o(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}),[]),(0,k.jsx)(az.I,{value:i,children:e})}var aF=n(702574),aV=n(643137);let aW={selectedStelaItem:null};function a$(e,t){return(e=e||aW,"STELA_SELECT"===t.type)?{...e,selectedStelaItem:t.payload.selectedStelaItem}:e}let{Provider:aq}=(0,nx.Z)("Stela");function aY({children:e}){let[t,n]=(0,r.useReducer)(a$,aW),i=(0,r.useCallback)(({selectedStelaItem:e})=>{n({type:"STELA_SELECT",payload:{selectedStelaItem:e}})},[]),a=(0,r.useMemo)(()=>({stela:t,selectStela:i}),[t,i]);return(0,k.jsx)(aq,{value:a,children:e})}var aK=n(46731),aJ=n(831373),aQ=n(151594);let aX="https://ct.pinterest.com/ct.html";function a0(e,t){let n=new Date,i={value:t,expiry:t?n.getTime()+n8.N1:null};e.contentWindow.postMessage({key:"_epik_localstore",value:JSON.stringify(i)},aX)}function a1(){let e=(0,r.useRef)(null),t=(0,m.Z)(),n=(0,z.B)(),{country:i}=n,a=n.countryFromIp,{countryFromHostName:o}=n,s=new Set(ad.Z),l=s.has(i)||s.has(a)||s.has(o),{allow_analytic_cookies:c,allow_personalization_cookies:d,epik:u,isAuth:p}=t.isAuth?t:{},_=e.current;return(0,r.useEffect)(()=>{_&&p&&_ instanceof HTMLIFrameElement&&_.contentWindow&&((!l||c&&d)&&u?a0(_,u):a0(_,null))},[t,c,d,u,p,l,_]),(0,k.jsx)("iframe",{ref:e,"aria-hidden":"true",id:"epik_localstore",src:aX,style:{display:"none"},title:"iframe to send EPIK"})}var a3=n(39435),a2=n(712511),a6=n(9734);function a4({children:e}){let t=(0,m.Z)(),{enabled:n}=(0,a2.Z)(),i=n?e9.Qf:0,a=(0,r.useMemo)(()=>({width:i}),[i]);return t.isAuth?(0,k.jsx)(a6.E,{value:a,children:(0,k.jsx)(a3.t,{children:e})}):(0,k.jsx)(a6.E,{value:a,children:e})}var a5=n(112114),a9=n(650422),a7=n(81580);let a8=(0,P.Z)(()=>n.e("93563").then(n.bind(n,363798)),{ssr:!1},e=>363798,"twaPinterestLite"),re=["utm_pai","utm_source","invite_code"],rt=({isMobile:e,isTablet:t,window:n,trackRegisterAction:i})=>{try{let a="desktop";e?a="mobile":t&&(a="tablet");let r="no_preference",o="no_preference",s="no_preference",l="no_preference";n.matchMedia&&(n.matchMedia("(prefers-color-scheme: dark)").matches?r="dark":n.matchMedia("(prefers-color-scheme: light)").matches&&(r="light"),n.matchMedia("(prefers-reduced-motion: reduce)")&&(o="reduced"),n.matchMedia("(prefers-reduced-data: reduce)")&&(s="reduced"),n.matchMedia("(prefers-contrast: more)")?l="more":n.matchMedia("(prefers-contrast: less)")&&(l="less")),i("accessibility_preferences.success",{prefersColorScheme:r,uiDevice:a,prefersReducedMotion:o,prefersContrast:l,prefersReducedData:s})}catch{i("accessibility_preferences.error")}};function rn({children:e,pwaContext:t}){let n=(0,h.ZP)(),i=(0,f.TH)(),a=(0,m.Z)(),l=(0,a7.U)(),c=(0,z.B)(),{appTypeDetailed:d,isAuthenticated:p,isBot:_,stage:b,userAgent:{isMobile:v,isTablet:w}}=c,y=!v&&!w,S=p&&y,x=(0,O.v)(),E=(0,n_.Z)(),P=(0,iY.l5)(),{unauthUserStateDispatch:I}=(0,u.R)(),T=(0,r.useRef)(i),C=(0,r.useRef)(p),j=(0,g.I0)(),{checkExperiment:N}=(0,o.F)(),M=(0,g.v9)(({session:e})=>e.isCachedRender),D=(0,g.v9)(({users:e})=>{let t=Object.keys(e).find(t=>void 0!==e[t].login_state);return!!t&&(0,aS.xT)(e[t])}),B=N("aid_exp_move_custom_shortcuts_context_provider").anyEnabled&&a.isAuth&&a.isPartner?iB.r:r.Fragment,{path:H}=(0,f.$B)(),G=(0,r.useRef)(!1);G.current||(aL.Tw.preload(),G.current=!0);let F=(0,h.ZP)();(0,r.useEffect)(()=>{"desktop"===F?R.bN.preload():R.p4.preload()},[F]),function(){let e=(0,g.v9)(({session:e})=>e.isPWA),t=(0,iY.yz)(),n=(0,iY.l5)(),i=(0,af.Z)(),a=(0,h.HG)(),r=(0,g.v9)(e=>e.session.isAuthenticated)&&a,o=(0,O.v)();(0,$.Z)(()=>{if(e){let e=t??"unknown",i="unknown"===e?(0,am.FB)(window)??"unknown":e;o.logContextEvent({view_type:170,view_parameter:(0,am.Kj)(i,n??"unknown")||void 0,component:13162,event_type:102,aux_data:{pwa_type:i}})}ah.Z.onSessionResume(()=>{r||(0,iH.Z)(),L.Z.resume()}).onSessionPause(e=>{L.Z.pause(),i?.unregisterApp(!0,{type:"PageVisibility.onSessionResume.unregisterApp",pauseReason:e}),"blur"!==e&&(o.flushContextEvents(),(0,ag.Z)()||(0,ab.Qi)())})})}();let V=(0,r.useRef)(!0),[q,Y]=(0,r.useState)(!navigator.onLine),[K]=(0,r.useState)((0,W.mB)(i.search).invite_code||null),{activateActivationHoldoutExperiments:J}=function(){let{checkExperiment:e}=(0,o.F)(),t=(0,m.Z)().isAuth;return{activateActivationHoldoutExperiments:(0,r.useCallback)(()=>{e("pinner_conversion_team_holdout_2024_h2")},[e]),userIsEligibleForShippedActivationExperiment:(n,i)=>!t||"h1"===i||"holdout"!==e("pinner_conversion_team_holdout_2024_h2").group}}(),{activateUnauthHoldoutExperiments:Q}=function(){let{checkExperiment:e}=(0,o.F)();return{activateUnauthHoldoutExperiments:(0,r.useCallback)(()=>{e("lop_holdout_unauth_id_h2_2024")},[e]),userIsEligibleForShippedLOPExperiment:()=>"holdout"!==e("lop_holdout_unauth_id_h2_2024").group}}();(0,r.useEffect)(()=>{let e=t=>{"offline"===t.type?(Y(!0),window.addEventListener("online",e)):(Y(!1),window.removeEventListener("online",e))};return window.addEventListener("offline",e),()=>{window.removeEventListener("offline",e)}},[]),(0,r.useEffect)(()=>{l&&S&&(l.preload?.((0,a9.ke)("index.js")),l.preload?.((0,a9.ke)("pin/[id].js")),l.preload?.((0,a9.ke)("search/[scope].js")),l.preload?.((0,a9.ke)("[username].js")))},[l,S]),(0,r.useEffect)(()=>{p&&J()},[p,J]),(0,r.useEffect)(()=>{p||Q()},[Q,p]),(0,r.useEffect)(()=>{D||setTimeout(async()=>{try{let e=await iG();(0,e$.Z)({url:"/v3/spam/fingerprints/",method:"POST",data:{fingerprint:e}})}catch(e){(0,eJ.nP)("webapp.generateClientFingerprint.failure",{sampleRate:1})}},300)},[D]),(0,r.useEffect)(()=>{(0,iV.ZP)({pageType:v||w||!p?"duplo":"web",requestContext:c,route:H})},[]),function({appType:e,isAuthDesktop:t,isBot:n,newVersionAvailable:i,stage:a}){let l=(0,f.TH)(),c=(0,r.useRef)(l),d=(0,r.useRef)(!1),u=(0,aI.Z)(),{checkExperiment:p}=(0,o.F)(),_=(0,s.M0)(),{anyEnabled:h,group:m}=p("web_optimized_page_refresh");(0,r.useEffect)(()=>{if(i&&!d.current){let t=!!window.navigator.connection&&["slow-2g","2g","3g"].includes(window.navigator.connection.effectiveType||""),n=parseInt(m.split("enabled_")[1]||"",10);if(window.Cypress)d.current=!1;else if(t||h&&!Number.isNaN(n)){let{maxStalenessReached:i,firstDelayTime:a,elapsedTimeBucket:r}=aT(t?24:n);i?(_.removeItem(eV.RS),(0,eJ.nP)("web_skip_hard_refresh_max_stale",{sampleRate:.1,tags:{appType:e,appVersion:u,connectionType:window.navigator.connection?.effectiveType||"unknown",elapsedTimeBucket:r,experimentGroup:m||"unknown"}}),d.current=!0):((0,eJ.nP)("web_skip_hard_refresh",{sampleRate:.1,tags:{appType:e,appVersion:u,connectionType:window.navigator.connection?.effectiveType||"unknown",elapsedTimeBucket:r,experimentGroup:m||"unknown"}}),a||_.setItem(eV.RS,Date.now()),d.current=!1)}else d.current=!0}}),(0,r.useEffect)(()=>{c.current!==l&&"latest.pinterest.com"!==window.location.hostname&&((0,ak.Z)({deviceType:t?"desktop":"mobile",eventType:d.current?"refresh":"skipped_refresh",eventName:d.current?"react_hardReloadOnRouteChange":"react_hardReloadOnRouteChange_skipped",stage:a,currVersion:u,isBot:n,appType:e,optimizedPageRefreshExperimentGroup:m||"unknown"}),d.current&&window.location.reload(!0)),c.current=l},[l])}({appType:d,isAuthDesktop:S,isBot:_,newVersionAvailable:iz.Z.isNewVersionRequired(),stage:b}),(0,r.useEffect)(()=>{M&&(async()=>{(0,eJ.nP)("webapp.UnifiedWWWApp.fetchState",{sampleRate:1,tags:{appTypeDetailed:d,isAuthenticated:p,isBot:_,isCachedRender:M,isDesktop:y,handler:(0,a5.H)()}});let e=new URLSearchParams({source_url:window.location.pathname}),t=await window.fetch("/_/_/state?"+e.toString(),{method:"GET",mode:"same-origin",keepalive:!0}),n=await t.json();j({type:"REPLACE_STATE",payload:n}),j({type:"FETCH_EXPERIENCES",payload:n.experiences})})()},[j,M]);{let e=document.getElementById("shell-loader");e instanceof HTMLElement&&document.body?.removeChild&&document.body.removeChild(e)}(0,r.useEffect)(()=>{if(!S){let e=setInterval(()=>x.flushContextEvents(),1e4);return()=>{clearInterval(e)}}},[x,S]),(0,r.useEffect)(()=>{p&&!y&&p!==C.current&&(0,iJ.Fv)(),(!C.current&&p||T.current!==i&&T.current.pathname.startsWith("/email/subscription"))&&(0,iH.Z)(),C.current=p},[p,y,i]);let X=a.isAuth?a.username:void 0;(0,r.useEffect)(()=>{let e={type:"SET_LANDING_PAGE_TYPE",payload:i?(0,U.bo)(i)?"today":(0,U.dr)(i)?"ideas":X&&(0,U.dZ)(i,X)?"own_section":X&&(0,U.J)(i,X)?"own_board":(0,U.OJ)(i)?"section":(0,U.am)(i)?"board":(0,U.L6)(i)?"closeup":(0,U.C$)(i)?"home":(0,ip.Z)(i)?"profile":(0,U.En)(i)?"search":(0,U.$V)(i)?"topic":"":""},t=i!==T.current;(t||V.current)&&j(e),!p&&(t||V.current)&&((0,aJ.Z4)(i.pathname,e.payload),I({type:"UPDATE"})),V.current&&(V.current=!1),T.current=i},[j,p,i,I,X,V]),(0,r.useEffect)(()=>{if(V.current){let e=new URLSearchParams(i.search);if(p)(0,iF.Z)();else{let t=(0,il.an)(""),n=t?new URL(t).hostname:"",i=new URLSearchParams;for(let t of re)e.has(t)&&i.set(t,e.get(t)||"");let a=i.toString();(n||a)&&(0,aP.C)(`${n}${a?"?"+a:""}`)}}},[i,p]),(0,$.Z)(()=>{rt({isAuthenticated:p,isMobile:v,isTablet:w,window,trackRegisterAction:np.My})}),(0,r.useEffect)(()=>{(0,np.tj)(`mweb.${p?"auth":"unauth"}.window_size`,{width:void 0!==window.screen&&window.screen.width,height:void 0!==window.screen&&window.screen.height})},[p]),(0,r.useEffect)(()=>{let e=(e,t)=>{(0,np.tj)(`mweb.connection_status_${e}`,{downlink:t.downlink,downlinkMax:t.downlinkMax,effectiveType:t.effectiveType,rtt:t.rtt,saveData:t.saveData,type:t.type,isAuth:p})},t=t=>{t&&t.currentTarget&&e("change",t.currentTarget)};if(window.navigator&&window.navigator.connection){let{connection:n}=window.navigator;e("initial",n),n.addEventListener("change",t)}return()=>{if(window.navigator&&window.navigator.connection){let{connection:e}=window.navigator;e.removeEventListener("change",t)}}},[p]);let{isAuthenticated:ee}=(0,z.B)(),et=(0,h.HG)();return(0,r.useEffect)(()=>{if(!ee)return;let e=et?av.f$:av.wQ,t=async t=>{let n=await (0,e$.Z)({url:"/v3/sessions/verify/",method:"PUT",data:{recaptcha_token:t}});(0,eJ.nP)("recaptcha_auth.done",{sampleRate:1,tags:{action:e,resp_code:n.status}})},n=()=>(0,av.rY)(t,()=>{},e);"requestIdleCallback"in window?setTimeout(()=>{requestIdleCallback(n,{timeout:av.oH-av.OA})},av.OA):setTimeout(n,av.OA)},[ee,et]),(0,r.useEffect)(()=>{(0,i$.RD)(e=>(0,np.My)(e),S?"web":"mweb")},[S]),(0,r.useEffect)(()=>{let e=()=>(0,np.qJ)(S?"auth_web_funnel":"mweb_funnel");return window.addEventListener("pagehide",e),window.addEventListener("beforeunload",e),()=>{window.removeEventListener("pagehide",e),window.removeEventListener("beforeunload",e)}},[S]),(0,r.useEffect)(()=>{let e=()=>{setTimeout(()=>{window.dispatchEvent(new Event("resize")),(0,eJ.nP)("webapp.UnifiedWWWApp.triggerResize",{sampleRate:1,tags:{handler:(0,a5.H)()}})},1e3),E({action:"trigger",item:window.innerHeight<window.innerWidth?"landscape-to-portrait":"portrait-to-landscape"})};return window.addEventListener("orientationchange",e),()=>{window.removeEventListener("orientationchange",e)}},[E]),(0,k.jsx)(A.Z,{name:"WWWRoot",children:(0,k.jsx)(iq.Z,{children:(0,k.jsx)(iD.Z,{children:(0,k.jsx)(aN.Z,{children:(0,k.jsx)(B,{children:(0,k.jsx)(a4,{children:(0,k.jsx)(i1.Z,{children:(0,k.jsxs)(i6.Z,{children:[(0,k.jsx)(an,{children:(0,k.jsx)(aw.H,{children:(0,k.jsx)(aF.l,{children:(0,k.jsx)(aV.l,{children:(0,k.jsx)(aK.US,{children:(0,k.jsx)(aY,{children:(0,k.jsx)(aA.C,{children:(0,k.jsx)(aj.t7,{children:(0,k.jsx)(i3.W,{children:(0,k.jsx)(i2.q,{children:(0,k.jsx)(iX.Wr,{children:(0,k.jsx)(i4.pb,{children:(0,k.jsx)(iY.of,{initialContext:t,children:(0,k.jsx)(a_.fr,{children:(0,k.jsx)(al.p,{children:(0,k.jsx)(aQ.w,{children:(0,k.jsx)(ai.X,{children:(0,k.jsx)(aO.vo,{children:(0,k.jsx)(aZ.T,{children:(0,k.jsx)(ik.m,{children:(0,k.jsx)(as,{children:(0,k.jsx)(aG,{children:(0,k.jsx)(iK.Z,{scrollOn:p&&"desktop"===n?"timeout":"animationFrame",children:(0,k.jsx)(aE,{children:(0,k.jsx)(aa.w,{children:(0,k.jsx)(iW.A,{children:(0,k.jsx)(aM.Q,{children:(0,k.jsxs)(iQ.o$,{value:K,children:[(0,k.jsx)(i8,{isOffline:q}),(0,k.jsx)(ac,{}),p&&(0,k.jsx)(Z.Uv,{}),(0,k.jsx)(ap.Z,{children:(0,k.jsx)(aR.W,{children:(0,k.jsx)(aC.B,{children:(0,k.jsx)(aU.f,{children:e})})})}),P&&"unknown"!==P&&(0,k.jsx)(A.Z,{name:"SafeSuspense_MobileApp_TwaPinterestLite",children:(0,k.jsx)(a8,{})}),(0,k.jsx)(au,{}),(0,k.jsx)(a1,{})]})})})})})})})})})})})})})})})})})})})})})})})})})})})}),(0,k.jsx)(i0.Z,{})]})})})})})})})})}var ri=n(253048),ra=n(183152);let rr=(0,P.Z)(()=>Promise.all([n.e("22843"),n.e("54787")]).then(n.bind(n,426920)),{ssr:!1},e=>426920,"InternalCommandBar");function ro({children:e,context:t,otaData:n,inContextTranslation:i,initialReduxState:a,pwaContext:p,requestContext:_,resourceCreator:h,traceLoggerData:m,store:g}){let{isAuthenticated:f,countryFromHostName:b,countryFromIp:v,regionFromIp:w,isInternalIP:y}=_,S=(0,ra.MM)(),{group:x}=(0,ri.DB)();(0,s.CS)({countryFromHostName:b||"",countryFromIp:v||"",regionFromIp:w||"",isAuthenticated:f}),(0,l.QT)({countryFromHostName:b||"",countryFromIp:v||"",regionFromIp:w||"",isAuthenticated:f});let{checkExperiment:E}=(0,o.F)();return c.Z.initExperiment(E),(0,r.useEffect)(()=>{(0,eJ.LY)("www.appWrapper.initialLoad",performance.now(),{tags:{earlyHydrationGroup:x,handler:S,isAuthenticated:f,isMobile:_.userAgent.isMobile||_.userAgent.isTablet}})},[]),(0,k.jsx)(d.Z,{context:t,inContextTranslation:i,otaData:n,reduxStore:g,requestContext:_,resourceCreator:h,serverState:a,traceLoggerData:m,children:(0,k.jsx)(u.M,{initialState:{isAuthenticated:f,countryFromHostName:b,countryFromIp:v,regionFromIp:w},children:(0,k.jsxs)(rn,{pwaContext:p,children:[(0,k.jsx)(iM,{children:e}),y?(0,k.jsx)(rr,{}):null]})})})}},204263:function(e,t,n){n.d(t,{FT:()=>p,GW:()=>c,HW:()=>u,PX:()=>g,V3:()=>d,Wo:()=>_,XA:()=>k,bJ:()=>h,cZ:()=>x,dF:()=>S,f6:()=>P,jY:()=>I,k:()=>v,kV:()=>w,nP:()=>y,nY:()=>f,pg:()=>E,qc:()=>m,tR:()=>b});var i=n(681970),a=n(427171),r=n(324307),o=n(694955),s=n(669442),l=n(483180);let c="/branded-pins",d={PENDING:"PENDING",APPROVED:"APPROVED",DENIED:"DENIED"},u=(0,a.Z)({REQUESTED:0,APPROVED:1,REJECTED:2}),p=e=>{let t;switch(e){case d.PENDING:t=u.REQUESTED;break;case d.APPROVED:t=u.APPROVED;break;case d.DENIED:t=u.REJECTED;break;default:t=u.REQUESTED}return t},_={APPROVED:"APPROVED",REJECTED:"REJECTED",ERROR:"ERROR"},h=(e,t,n)=>{let i,a={[_.APPROVED]:{icon:"workflow-status-ok",displayText:e.bt("Approved", "Approved", "brandedContentPinCard.footer.approvedIcon", undefined, true),color:"success"},[_.REJECTED]:{icon:"workflow-status-problem",displayText:e.bt("Denied", "Denied", "brandedContentPinCard.footer.deniedIcon", undefined, true),color:"error"},[_.ERROR]:{icon:"workflow-status-problem",displayText:e.bt("Try again", "Try again", "brandedContentPinCard.footer.errorIcon", undefined, true),color:"error"}};return 1===n&&(i=a.APPROVED),2===n&&(i=a.REJECTED),!0===t&&(i=a.ERROR),i},m=e=>{let t;return e===_.APPROVED?t=1:e===_.REJECTED&&(t=2),t},g=(e,t)=>(0,r.ZP)(e,t,"…",!0),f=`${l.C0}/branded-pins/`,b=(e,t)=>{let n=i.Z.create({entity:"campaign"});return e&&t?(0,s.Z)(o.auO+"/advertiser/"+e+n,{pinId:t,from:"bpm"}):o.auO},v={ERROR_APPROVING:"ERROR_APPROVING",ERROR_REJECTING:"ERROR_REJECTING",ERROR_DEFAULT:"ERROR_DEFAULT"},w=302,y=420,S=254,x=142,E=173,P=12,k=35,I=9},76743:function(e,t,n){n.d(t,{e:()=>i,p:()=>a});let{Provider:i,useHook:a}=(0,n(729434).Z)("headerButtonContext")},871099:function(e,t,n){n.d(t,{Z:()=>c});var i=n(883119),a=n(521009),r=n(525839),o=n(483180),s=n(535701),l=n(785893);function c({isWwwSite:e=!0,onClick:t,url:n,size:c,defaultPaddingBasedOnSize:d,tooltip:u,onMouseDown:p,tabIndex:_=-1}){let h=(0,r.ZP)(),m=(0,s.Z)(),g=(0,a.Z)(),f=e?"/":o.C0;m.isAuth&&m.partner&&(f=e?"/":o.Ag);let b=e&&n?n:f;return(0,l.jsx)(i.xu,{onMouseDown:p,children:(0,l.jsx)(i.I_,{accessibilityLabel:h.bt("Home", "Home", "header.homeButton.section", undefined, true),href:b,icon:"pinterest",iconColor:"brandPrimary",onClick:()=>{g({component:8,element:244,event_type:101}),t&&t()},padding:d?void 0:3,size:c||"xl",tabIndex:null===_?void 0:_,tooltip:u})})}},30228:function(e,t,n){n.d(t,{Z:()=>i});let i=({username:e,isIdeaPinRenamingEnabled:t})=>({bag:"shop_pins",explore:"discover",home:"/",profile:e,search:"search",today:"today",create:t?"pin-creation-tool":"idea-pin-builder",ideas:"ideas",shopping:"shopping"})},228421:function(e,t,n){n.d(t,{Z:()=>i});let i=({pathname:e,iconRoutes:t})=>{if("/"===e||""===e)return"home";let n=e.split("/",2)[1];if(n&&t){for(let e of Object.keys(t))if(n===t[e])return e}return null}},594135:function(e,t,n){n.d(t,{H:()=>c,N:()=>l});var i=n(667294),a=n(729434),r=n(791948),o=n(785893);let{Provider:s,useHook:l}=(0,a.Z)("LastSavedTo");function c({children:e}){let[t,n]=(0,i.useState)();(0,r.Z8)("BoardPickerBoardsShortlistResource",e=>{if(!t){let{data:t}=e.response.resource_response;n(t)}});let a=(0,i.useCallback)(e=>{let i=t?t.filter(t=>t.id!==e.id):[];n([e,...i])},[t]),l=(0,i.useMemo)(()=>({lastSavedTo:t,saveToBoard:a}),[t,a]);return(0,o.jsx)(s,{value:l,children:e})}},435561:function(e,t,n){n.d(t,{$:()=>o,J:()=>r});var i=n(883119),a=n(25837);let r=new i.Ry(5),o=a.NW},240794:function(e,t,n){n.d(t,{Z:()=>o});var i=n(616550),a=n(506662),r=n(647709);function o(){let e=(0,i.TH)();return"desktop"===(0,r.ZP)()?(0,a.mP)(e)||(0,a.hd)(e):(0,a.mP)(e)}},20140:function(e,t,n){n.d(t,{Z:()=>_});var i=n(616550),a=n(903760),r=n(506662),o=n(647709),s=n(716022),l=n(15667),c=n(378888),d=n(867552);let u=()=>{let e=(0,i.TH)(),t=(0,d.a)(),{userAgent:{raw:n}}=(0,l.B)();if(!t)return!1;let{appInstallBannerIsEnabled:a,pinPageGlobalContext:r}=t,o=!!(0,c.mB)(e.search).invite_code;return a&&!(0,s.$K)(n)&&!(r?.isStoryPin===!0&&o)},p=e=>e.pathname.includes("_created")||e.pathname.includes("boards")&&!(0,r.En)(e)||e.pathname.includes("_saved");function _(){let e=(0,o.ZP)(),t=(0,i.TH)(),n=(0,a.q)(),s=u();return"phone"===e?s&&!p(t)&&!n:"tablet"===e?!(0,r.En)(t)&&!(0,r.Xn)(t):!((0,r.Ni)(t)||(0,r.Xn)(t)||(0,r.XQ)(t))}},845421:function(e,t,n){n.d(t,{rX:()=>w,ZP:()=>v,Tw:()=>h}),n(167912);var i,a,r,o=n(890479),s=n(355940),l=n(221020),c=n(779548),d=n(975740),u=n(169053),p=n(78762),_=n(785893);let h=(0,p.Z)(()=>Promise.all([n.e("25418"),n.e("61947")]).then(n.bind(n,578916)),void 0,e=>578916,"DefaultPinRep"),m=void 0!==i?i:i=n(184139),g=void 0!==a?a:a=n(249152),f=void 0!==r?r:r=n(897315),b=e=>{var t,n,i,a;let{pinId:r,pinKey:p,...m}=e,g=p&&"GraphQL"===(0,l.o)(p),b=(0,c.Z)(f,p),v=(0,u.S6)()(r),w=(0,d.gC)(),y=(t=!!g,b||t?b:v?{type:"deprecated",data:v}:null);return y&&(0,_.jsx)(s.Z,{name:"DefaultPinRep",type:"critical",children:(0,_.jsx)(o.Z,{id:"DefaultPinRep",children:(0,_.jsx)(h,{...m,boardKey:(n=!!g,i=b?.pinnedToBoard||b?.board||null,a=w(v?.pinned_to_board?.id||v?.board?.id||""),n?i:a?{type:"deprecated",data:a}:null),pinKey:y})})})};function v({duploQueryRef:e,...t}){let n=(0,c.Z)(m,e);return(0,_.jsx)(b,{...t,pinKey:n})}function w(e){let t=(0,c.Z)(g,e.pinKey);return(0,_.jsx)(b,{...e,pinKey:t})}},532444:function(e,t,n){n.d(t,{$L:()=>m,P8:()=>g,nu:()=>_,ye:()=>f,wo:()=>p,wF:()=>h});var i=n(667294),a=n(865540),r=n(581722),o=n(576140),s=n(886981),l=n(603316);let c=()=>{let[e,t]=(0,i.useState)(!1),n=(0,r.v9)(({feeds:e})=>e?.homefeed),a=(0,i.useRef)(!1),c=(0,o.q)(),{isFetching:d}=(0,s.Z)(e&&!n?c():null);return(0,i.useEffect)(()=>{d&&((0,l.nP)("web.performance.homefeed.mousedownPrefetch.prefetch"),a.current=!0)},[d]),{onMouseDown:(0,i.useCallback)(()=>t(!0),[]),onNavigateToHomefeed:(0,i.useCallback)(()=>{a.current&&((0,l.nP)("web.performance.homefeed.mousedownPrefetch.navigateAfterPrefetch"),a.current=!1)},[])}};var d=n(467366),u=n(647709);let p=505586,_=1000109;function h(){let e=(0,a.Z)(!0),{onMouseDown:t,onNavigateToHomefeed:n}=c(),r=(0,d.Z)(),o="desktop"===(0,u.ZP)()?"DESKTOP":"MOBILE",s=(0,i.useMemo)(()=>({currentSite:o}),[o]);return(0,i.useMemo)(()=>({currentSite:o,isIdeaPinRenamingEnabled:e,isTodayTabEligible:r,onMouseDownHomefeedPrefetch:t,onNavigateToHomefeedMousedownPrefetch:n,siteParametersProviderValue:s}),[o,e,r,t,n,s])}let m={today:{component:8,element:11674,event_type:101},createPin:{component:8,element:12969,event_type:101},createCollage:{component:8,element:13844,event_type:101},createBoard:{component:8,element:249,event_type:101}},g={PINTEREST_LOGO:"web.vertical_nav.pinterest_logo.click",HOME:"web.vertical_nav.home.click",TODAY:"web.vertical_nav.today.click",CREATE:"web.vertical_nav.create.click",NEWS:"web.vertical_nav.news.click",CONVERSATIONS:"web.vertical_nav.conversations.click",AVATAR:"web.vertical_nav.avatar.click",ACCOUNT_SWITCHER:"web.vertical_nav.account_switcher.click",MORE_OPTIONS_OPT_OUT:"web.vertical_nav.more_options.opt_out",MORE_OPTIONS:"web.vertical_nav.more_options.click"},f={PINTEREST_LOGO:"web.header.pinterest_logo.click",EXTERNAL_BUTTON_QUERY_PINTEREST_LOGO:"web.header.external_button_query.pinterest_logo.click",SSO_PAGE_PINTEREST_LOGO:"web.header.sso_page.pinterest_logo.click",UNSUBSCRIBE_PAGE_PINTEREST_LOGO:"web.header.unsubscribe_page.pinterest_logo.click",HOME_TAB:"web.header.home_tab.click",TODAY_TAB:"web.header.today.click",CREATE_TAB:"web.header.create.click",HOME_BUTTON_COLLAPSED_TAB:"web.header.home_button_collapsed_tab.click",TODAY_TAB_COLLAPSED_TAB:"web.header.today_tab_collapsed_tab.click",CREATE_TAB_COLLAPSED_TAB:"web.header.create_tab_collapsed_tab.click",NEWS:"web.header.news.click",CONVERSATIONS:"web.header.conversations.click",AVATAR:"web.header.avatar.click",EXTERNAL_BUTTON_QUERY_AVATAR:"web.header.external_button_query.avatar.click",UNSUBSCRIBE_PAGE_AVATAR:"web.header.unsubscribe_page.avatar.click",ACCOUNT_OPTIONS:"web.header.account_options.click",EXTERNAL_BUTTON_QUERY_ACCOUNT_OPTIONS:"web.header.external_button_query.account_options.click"}},643928:function(e,t,n){n.d(t,{Z:()=>o});var i=n(667294),a=n(572227),r=n(403252);let o=function(){let{enabled:e,experimentGroup:t}=(0,r.Z)(),n=e?"unauth-vertical-nav":"unauth-header",o=(0,a.Z)(),s=(0,i.useMemo)(()=>({verticalNavExperimentGroup:t}),[t]);return{trackPinterestLogoClick:()=>o({action:"click",item:"pinterest-logo",within:n,tags:s}),trackIdeasTabClick:()=>o({action:"click",item:"site-map-ideas",within:n,tags:s}),trackShoppingClick:()=>o({action:"click",item:"root-nav-shopping",within:n,tags:s}),trackSettingsClick:()=>o({action:"click",item:"setting-button",within:n,tags:s}),trackCategoriesClick:()=>o({action:"click",item:"categories-button",within:n,tags:s}),trackNavDropdownTodayClick:()=>o({action:"click",item:"nav-bar-hub-dropdown-today",within:n,tags:s}),trackNavDropdownVideosClick:()=>o({action:"click",item:"nav-bar-hub-dropdown-videos",within:n,tags:s}),trackNavDropdownIdeasClick:()=>o({action:"click",item:"nav-bar-hub-dropdown-ideas",within:n,tags:s}),trackNavDropdownShoppingClick:()=>o({action:"click",item:"nav-bar-hub-dropdown-shopping",within:n,tags:s})}}},228544:function(e,t,n){n.d(t,{P:()=>l,n:()=>s});var i=n(667294),a=n(729434),r=n(785893);let{Provider:o,useHook:s}=(0,a.Z)("ShowReferredAppUpsell");function l({children:e}){let[t,n]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)("other"),[d,u]=(0,i.useState)(""),[p,_]=(0,i.useState)(!1),h=(0,i.useCallback)((e,t)=>{setTimeout(()=>{n(!0),u("login-iab"),_(t)},e)},[]),m=(0,i.useCallback)(e=>{n(e)},[]),g=(0,i.useCallback)(e=>{s(e)},[]),f=(0,i.useCallback)(e=>{c(e)},[]),b=(0,i.useCallback)(e=>{u(e)},[]),v=(0,i.useMemo)(()=>({showReferredAppUpsell:t,showDelayedReferredAppUpsell:h,setShowReferredAppUpsellVal:m,isInlineUpsell:a,setIsInlineUpsellVal:g,appUpsellType:l,setAppUpsellTypeVal:f,uiType:d,setUiTypeVal:b,isBlocking:p}),[t,h,m,a,g,l,f,d,b,p]);return(0,r.jsx)(o,{value:v,children:e})}},902658:function(e,t,n){n.d(t,{X:()=>l,m:()=>s});var i=n(667294),a=n(729434),r=n(785893);let{Provider:o,useHook:s}=(0,a.Z)("Session");function l({children:e}){let[t,n]=(0,i.useState)(void 0),a=(0,i.useMemo)(()=>({unauthBoardInvite:t,setUnauthBoardInvite:n}),[t]);return(0,r.jsx)(o,{value:a,children:e})}},716751:function(e,t,n){n.d(t,{C:()=>s,p:()=>l});var i=n(667294),a=n(729434),r=n(785893);let{Provider:o,useHook:s}=(0,a.Z)("Session");function l({children:e}){let[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)(()=>n(void 0),[]),s=(0,i.useMemo)(()=>({unauthCommentPinId:t,setUnauthCommentPinId:n,removeUnauthCommentPinId:a}),[t,a]);return(0,r.jsx)(o,{value:s,children:e})}},359982:function(e,t,n){n.d(t,{A:()=>s,N:()=>l});var i=n(667294),a=n(729434),r=n(785893);let{Provider:o,useHook:s}=(0,a.Z)("ModeIcon");function l({children:e,value:t={modeIcon:null}}){let[n,a]=(0,i.useState)(t),s=(0,i.useMemo)(()=>({searchContext:n,updateSearchContext:a}),[n,a]);return(0,r.jsx)(o,{value:s,children:e})}},469817:function(e,t,n){n.d(t,{Es:()=>d,HW:()=>c,er:()=>p,rQ:()=>u});var i=n(111330),a=n(753143),r=n(603316);let o=e=>e>=Date.now()-72e5,s=(e,t)=>{let n=[];if(e)for(let i of e)(!t||i.is_shared)&&o(i.ts)&&n.push(i);return n},l=e=>{let t={};if(e)for(let n of e)n.is_shared&&o(n.ts)&&n.pin_id&&(t[n.pin_id]={inviteCode:n.pin_invite_code});return t},c=()=>{let e=(0,a.M0)().getItem(i.uc)??[],t=s(e,!1),n=s(e,!0),r=t.map(e=>e.first_pin_image_signature),o=n.map(e=>e.first_pin_image_signature),c=l(e);return{extraPlpImages:r,plpImageRenderData:t,extraBlpImages:s((0,a.M0)().getItem(i.hI)??[],!0).map(e=>e.first_pin_image_signature),extraSharedImages:o,sharedPinData:c}},d=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(e[n].id!==t[n].id)return!1;return!0},u=(e,t)=>e.map(e=>({1:e,2:(t[e]||[]).map(e=>({1:e,2:"pin"}))})),p=(e,t,n,i)=>{let a={};return e.forEach(e=>{let o=e.id,s=e.pins.length??0;a[o]=s,(0,r.QX)("webapp.log.nux.pin.picker.step.pin.number.of.pins",s,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:o,gender:n,age:i,use_case_display_name:e.display_name}}),(0,r.S0)("gauge.webapp.log.nux.pin.picker.step.pin.number.of.pins",s,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:o,gender:n,age:i,use_case_display_name:e.display_name}})}),a}},940077:function(e,t,n){n.d(t,{Z:()=>r});var i=n(616550);let a=Object.freeze({"/:username":"profile","/:username/:slug/:section_slug":"board","/:username/:slug":"board","/csrf_error":"csrfError","/email_verification_error":"emailVerificationError","/email/remove":"emailRemove","/email/subscription":"emailSubscription","/ideas":"ideasRoot","/ideas/:interest/:id":"ideasHub","/invited":"invited","/password/reset":"passwordReset","/pin/:id":"pin","/pin/:id/feedback":"pinFeedBack","/pin/:id/sent":"pinFeedBack","/pin/:id/visual-search":"flashlight","/pin/create/:method":"pinBookmarklet","/pw/:username":"resetPasswordUsername","/panic/":"panic","/search/:scope":"search","/shopping":"shoppingRoot","/shopping/:category/:id":"shoppingCategory","/today":"todayTab","/today/:term/:title/:articleId":"todayArticleFeed","/today/popular/:interest/:interestId":"todayArticleInterestFeed","/tv":"LiveSessionEvent","/tv/:pin_id":"liveSessionCloseup","/unlink":"unlinkAccount","/videos":"videosRoot","/videos/:category/:id":"videosCategory"}),r=()=>{let{path:e}=(0,i.$B)();return a[e]||"unknown"}},799635:function(e,t,n){n.d(t,{Z:()=>a});var i=n(603316);let a=(e,t)=>(0,i.nP)(`pinner_conversion.upsell.mweb_signup_modal.${e}`,{flushImmediate:!0,sampleRate:1,tags:t})},113850:function(e,t,n){n.d(t,{C:()=>l,P:()=>s});var i=n(121836),a=n(506662),r=n(238589),o=n(603316);let s=()=>!!(0,r.Nl)().getItem(i.Ih),l=e=>{(0,a.LM)(e)&&!s()&&((0,r.Nl)().setItem(i.Ih,"1"),(0,o.nP)("mobile_signup_modal.rules.suppress_for_discover_article",{flushImmediate:!0,sampleRate:1}))}},932370:function(e,t,n){n.d(t,{B:()=>s,W:()=>l});var i=n(667294),a=n(729434),r=n(785893);let{Provider:o,useHook:s}=(0,a.Z)("Nux");function l({children:e}){let[t,n]=(0,i.useState)([]),[a,s]=(0,i.useState)({}),l=(0,i.useMemo)(()=>({selectedUseCases:t,setSelectedUseCases:n,selectedPins:a,setSelectedPins:s}),[t,n,a,s]);return(0,r.jsx)(o,{value:l,children:e})}},137764:function(e,t,n){n.d(t,{RG:()=>m,o6:()=>h,t7:()=>_});var i=n(667294),a=n(616550),r=n(729434),o=n(378888),s=n(914071),l=n(273257),c=n(785893);let d=()=>n.e("35230").then(n.bind(n,37190)),{Provider:u,useHook:p}=(0,r.Z)("SkinToneFilter");function _({children:e}){let[t,n]=(0,s.Z)(d,l.Z),r=(0,a.TH)();(0,i.useEffect)(()=>{let e;if(((0,o.mB)(r.search)||{}).q){let t=r.pathname.split("/");e=t.length>2?t[2]:"pins"}e||n({type:"RESET_SKIN_TONE_QUERY_USES"})},[n,r]);let p=(0,i.useMemo)(()=>({dispatch:n,skinToneFilters:t}),[n,t]);return(0,c.jsx)(u,{value:p,children:e})}function h(){let{dispatch:e}=p();return(0,i.useMemo)(()=>({updateShowSkinToneFilters:t=>{e({type:"UPDATE_SHOW_SKIN_TONE_FILTERS",payload:{showSkinToneFilters:t}})},updateSkinToneFilterQueryUses:t=>{e({type:"UPDATE_SKIN_TONE_FILTER_QUERY_USES",payload:{newQuery:t}})},viewedOwnProfile:()=>e({type:"RESET_SKIN_TONE_QUERY_USES"})}),[e])}function m(){let{skinToneFilters:e}=p();return e}},273257:function(e,t,n){n.d(t,{Z:()=>i});let i={skinToneQueryUses:{numQueryUses:0,lastQuery:""},showSkinToneFilters:!1}},498951:function(e,t,n){n.d(t,{p:()=>i});let i=(e,t,n)=>({type:"MOST_RECENT_BOARD",payload:{id:e,name:t,url:n}})},448303:function(e,t,n){n.d(t,{Cp:()=>h,GT:()=>c,V6:()=>s,W2:()=>d,W6:()=>m,_L:()=>_,fm:()=>l});var i=n(575108),a=n(951908),r=n(640452),o=n(536652);function s(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}let l=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),c=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}}),d=(e,t,n)=>i=>{i({type:"USER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})},u=(e,t,n)=>i=>{i({type:"USER_PARTNER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})},p=e=>{let t=e.split(" ");return{first_name:t[0],last_name:t[1]}},_=({field:e,value:t,passcode:n,onSettingSavedHn:r,showErrorHn:s,surfaceTag:l,userId:c,passcodeSkipAcknowledged:_=!1,otp:h,onFinallyHn:m})=>async(g,f)=>{let b=f().users[c],v={user_id:c,surface_tag:l};if("full_name"===e)if(b.is_partner)v.business_name=t;else{let e=p(t);v.first_name=e.first_name,v.last_name=e.last_name||""}else v[e]=t;n&&(v.passcode=n),a.i.includes(e)&&null!=_&&(v.user_confirm_skip_passcode=_),h&&(v.otp=h);try{let n=await i.Z.create("UserSettingsResource",v).callUpdate();if("email"===e&&n?.resource_response.data?.email_changing_to)return void s({email_changing_to:n.resource_response.data.email_changing_to});if("profile_image_url"===e)g((0,o.b)("UserResource",{options:v}));else if("full_name"===e)if(b.is_partner)g(d(c,"first_name",t));else{let e=p(t);g(d(c,"first_name",e.first_name)),g(d(c,"last_name",e.last_name))}g(b.is_partner&&("account_type"===e||"contact_name"===e)?u(c,e,t):d(c,e,t)),r()}catch(e){s(e)}finally{m?.()}},h=(e,t,n,i,a,o,s)=>()=>{(0,r.Z)({new:t,new_confirm:n,old:e,passcode:i,recaptcha_v3_token:a}).then(o,s)},m=(e,t,n,a,r,o)=>s=>{s(d(e,`${t}.${n}`,a));let l={},c="EmailSettingsResource";void 0!==r?(l={section:t,option:n,value:a,od:r.od,user_id:r.user_id},c="UnsubEmailSettingsResource"):l={section:t,option:n,value:a},i.Z.create(c,l).callUpdate().then(o).catch(()=>s(d(e,`${t}.${n}`,!a)))}},261228:function(e,t,n){n.d(t,{H5:()=>l,Nq:()=>s,Q_:()=>c,bJ:()=>d});var i=n(575108),a=n(657043),r=n(600861),o=n(979922);function s(e){let{updateUserData:t}=e,n={},s=null;if(t.gender&&[o.W1,o.UV].includes(t.gender)?n.gender=t.gender:t.custom_gender&&(n.custom_gender=t.custom_gender,n.customGender=t.custom_gender,n.gender=o.vF),t.age?n.age=t.age:t.birthdate&&(n.birthdate=t.birthdate),t.locale&&(n.locale=t.locale),t.country&&(n.country=t.country),t.business_vertical&&(n.businessVertical=t.business_vertical),t.business_vertical_other&&(n.businessVerticalOther=t.business_vertical_other),t.number_employees&&(n.numberEmployees=t.number_employees),t.first_name&&(n.firstName=t.first_name),t.last_name&&(n.lastName=t.last_name),t.full_name&&(n.fullName=t.full_name),t.parent_email&&(n.parentEmail=t.parent_email),t.website_url&&(n.websiteUrl=t.website_url),t.listed_website_url&&(n.listedWebsiteUrl=t.listed_website_url),void 0!==t.allow_analytic_cookies&&(n.allow_analytic_cookies=t.allow_analytic_cookies),void 0!==t.allow_analytic_cookies&&(n.allow_marketing_cookies=t.allow_marketing_cookies),void 0!==t.allow_analytic_cookies&&(n.allow_personalization_cookies=t.allow_personalization_cookies),t.advertising_intent||t.business_name||t.account_type||t.business_goals||t.selected_ecommerce_platforms||t.enable_profile_message||t.enable_profile_address){let{account_type:e,advertising_intent:n,business_name:i,business_goals:a,enable_profile_message:r,enable_profile_address:o,selected_ecommerce_platforms:l}=t;s={...n?{advertising_intent:n}:{},...e?{account_type:e}:{},...i?{business_name:i}:{},...a?{business_goals:a}:{},...r?{enable_profile_message:r}:{},...o?{enable_profile_address:o}:{},...l?{selected_ecommerce_platforms:l}:{}}}s&&(n.partner=s,s.business_name&&(n.firstName=s.business_name));let l=i.Z.create("UserSettingsResource",{...t,surface_tag:r.i.NUX}).callUpdate();return async function(e){try{let t=await l;return e({type:"UPDATE_USER_SET",payload:n}),t}catch(e){return Promise.reject(Error((0,a.Z)(e,"message")))}}}function l(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}}function c(e,t){return()=>{i.Z.create("UserStateResource",{state:e,value:t}).callCreate()}}function d(e,t=""){return()=>i.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate()}},643137:function(e,t,n){n.d(t,{$:()=>p,l:()=>_});var i=n(667294),a=n(575108),r=n(729434),o=n(647709),s=n(341742),l=n(535701),c=n(603316),d=n(785893);let{Provider:u,useHook:p}=(0,r.Z)("ShareSuggestions");function _({children:e}){let[t,n]=(0,i.useState)(void 0),r=(0,l.Z)(),p=!(0,o.HG)()&&!r.isLimitedLogin&&r.isAuth&&r.should_show_messaging;(0,s.Z)(()=>{let e=async()=>{let e=a.Z.create("ShareSuggestionsResource",{suggestion_type:"share",hide_group_conversations:!1});try{let t=(await e.callGet()).resource_response.data;n(t)}catch(e){(0,c.nP)("mweb_share_menu_load_suggestions.fail.share",{sampleRate:1})}};p&&!t&&e()});let _=(0,i.useCallback)(()=>{n(void 0)},[]),h=(0,i.useCallback)(e=>{n(e)},[]),m=(0,i.useMemo)(()=>({cachedShareSuggestions:t,clearCachedShareSuggestions:_,updateCachedShareSuggestions:h}),[t,_,h]);return(0,d.jsx)(u,{value:m,children:e})}},963930:function(e,t,n){n.d(t,{_:()=>a});var i=n(274320);function a(){let{checkExperiment:e}=(0,i.F)(),t=e("entrypoints_today_page_prefetch");switch(t.group){case"prefetch_all":return{preloadExtent:"Both"};case"prefetch_only_js":return{preloadExtent:"OnlyJS"};case"control":return{preloadExtent:"None"};default:{let{anyEnabled:e}=t;return{preloadExtent:e?"Both":"None"}}}}},291948:function(e,t,n){n.d(t,{Z:()=>i});let i=n(435561).$},756334:function(e,t,n){n.d(t,{Z:()=>r});var i=n(667294),a=n(987563);function r({children:e,metricName:t}){return(0,i.useContext)(a.Z),e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/86419.en_GB-6f0a2d6d4fb11a78.mjs.map