(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["56556"],{537685:function(e,t,n){n.d(t,{Z:()=>x});var r=n(667294),i=n(578341);let o=()=>{let e=(0,i.Z)();return(0,r.useCallback)((t,n)=>e(t,{loggingOptions:n}),[e])};var s=n(901472),l=n(515085),a=n(240402),_=n(15667),u=n(707353),c=n(581722),d=n(535701);let h=()=>{let e=(0,d.Z)(),t=(0,c.v9)(({loggedOutUserInfo:e})=>e?.userInfo);return e.isAuth&&e.isLimitedLogin?{type:"LIMITED_LOGIN",info:{connectedToFacebook:!!((e.socialNetwork||{}).facebook||{}).connected,connectedToGoogle:!!((e.socialNetwork||{}).gplus||{}).connected,email:e.email,firstName:e.firstName,hasPassword:!!e.hasPassword,imageUrl:e.imageMediumUrl,gplusUrl:((e.socialNetwork||{}).gplus||{}).url}}:{type:e.isAuth?"AUTH":"UNAUTH",info:t&&t.email&&t.first_name?{connectedToFacebook:!!t.connected_to_facebook,connectedToGoogle:!!t.connected_to_google,email:t.email,firstName:t.first_name,hasPassword:!!t.has_password,imageUrl:t.medium_image_url??null}:null}};var g=n(848387);let m=()=>{let[e,t]=(0,r.useState)("");return{route:e,setRoute:t}};var v=n(521009),E=n(525839),f=n(647709),p=n(732347),w=n(703914);let b=()=>{let e=(0,E.ZP)(),t=(0,f.HG)(),n=(0,v.Z)(),i=t?(0,p.hr)(e):(0,p.Wh)(e),[o,s]=(0,r.useState)(i);return(0,w.cZ)(e=>s(e??i)),(0,w.NN)(n),{text:o,setText:s}},T=()=>{let[e,t]=(0,r.useState)(!1),n=(0,v.Z)();return(0,w.UE)(()=>t(!0)),(0,w.NN)(n),{visible:e,setVisible:t}};var y=n(785893);function S({children:e}){let t=function(){let e=T();return{loginForMore:e,limitedLoginModalSubheader:b(),limitedLoginModalNextLocation:m(),viewer:h()}}();return(0,y.jsx)(g.o,{value:t,children:e})}function C({children:e}){let t=(0,_.B)(),n=h(),i=o(),a=(0,r.useMemo)(()=>({getDeviceAppTypeString:()=>(0,l.Z)(t),register:i,viewer:n}),[t,n,i]);return(0,y.jsx)(s.I7,{value:a,children:e})}let x=({children:e})=>(0,y.jsx)(u.iE,{children:(0,y.jsx)(S,{children:(0,y.jsx)(C,{children:(0,y.jsx)(a.Z,{children:e})})})})},790989:function(e,t,n){n.d(t,{Z:()=>$});var r=n(667294),i=n(581722),o=n(980787),s=n(575108),l=n(918920);let a=[9,3];var _=n(641527),u=n(973160),c=n(816358),d=n(809295),h=n(286036),g=n(121793),m=n(603316);function v(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let E=e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}},f=e=>{switch(e.event_type){case 13:return!!e.view_type&&a.includes(e.view_type);case 4703:return 3===e.view_type&&85===e.component;case 82:case 8948:return!0;default:return!1}},p=null,w=(0,_.ZP)();class b{constructor(e){v(this,"_logTimeoutLong",null),v(this,"_logTimeoutShort",null),v(this,"_clickthroughStartEvent",null),v(this,"_utcDate",new Date),v(this,"_collectionClickthroughEndEvent",null),this._webFastFlushEventsEnabled=e.webFastFlushEventsEnabled;let t=()=>{let{activeElement:e}=document;if(e&&e.id===l.ZP.VIDEO_IFRAME_ID&&e)return void setTimeout(()=>e.blur(),0);c.Z.pause(d.LU),this.flushEvents()},n=E(()=>t()),r=()=>{c.Z.resume(d.LU)};{w&&w.initiateIndexDBCache&&w.initiateIndexDBCache(),window.addEventListener("beforeunload",n),window.addEventListener("pagehide",n),window.addEventListener("focus",r),window.addEventListener("blur",()=>t());let{hidden:e,visibilityChange:i}=(0,u.s)();i&&window.addEventListener(i,()=>{document[e]?t():(this.flushEvents(),r())},!1)}}setTimeoutToFlushEvents(e){!this._logTimeoutShort&&(!this._webFastFlushEventsEnabled&&e.view_type&&a.includes(e.view_type)&&13===e.event_type||this._webFastFlushEventsEnabled&&f(e))?this._logTimeoutShort=setTimeout(this.flushEvents.bind(this,!1,!0),300):this._logTimeoutLong||(this._logTimeoutLong=setTimeout(this.flushEvents.bind(this),1e4))}addEvent(e,t){let n=e.event_type;if(null==n||!(0,_.cA)(e))return;this.setTimeoutToFlushEvents(e);let r=(0,_.li)(e,t);r.appState=h.Z.getAppState();let i=_.Ch[n];if(i&&1){if(i.startsWith("storyImpression")){r.event_data?.storyImpressions&&(r.event_data.storyImpression=r.event_data.storyImpressions,delete r.event_data.storyImpressions),w.logImpression((0,_.a)(r,"storyImpression"));return}(0,_.nc)(r,i).forEach(w.logImpression);return}if((0,m.nP)("webapp.contextLogger.impressionType",{sampleRate:.01,tags:{event_type:n}}),w.logContextEvent(r),12===n){w.logContextEvent({...r,event_type:7946}),this._clickthroughStartEvent={...r,time:1e6*Date.now()},p?.storeClickthroughProperties({view_type:r.view_type,view_parameter:r.view_parameter,component:r.component,element:r.element,object_id_str:r.object_id_str,view_data:r.view_data,aux_data:r.aux_data,clientTrackingParams:r.clientTrackingParams});let{aux_data:e}=r||{};e&&"rightClick"===e.clickthrough_type&&p?.startOffsiteRightClickTimedPair()}if(7761===n||7762===n){let e=7761===n?7777:7843;this._collectionClickthroughEndEvent={...r,event_type:e}}if(4100===n&&this._collectionClickthroughEndEvent){let e=this._collectionClickthroughEndEvent;this._collectionClickthroughEndEvent=null;let t={...e,object_id_str:r.object_id_str,duration_ns:r.duration_ns};w.logContextEvent(t)}}flushEvents(){let e=w.getContextEvents?.();e&&e.length&&w.flushContextEvents(),this._reset()}_reset(){this._resetShortTimerEvents(),this._resetLongTimerEvents()}_resetShortTimerEvents(){w.resetEventsBuffer?.(),clearTimeout(this._logTimeoutShort),this._logTimeoutShort=null}_resetLongTimerEvents(){w.resetEventsBuffer?.(),clearTimeout(this._logTimeoutLong),this._logTimeoutLong=null}}var T=n(318215),y=n(616550),S=n(573631),C=n(50651),x=n(785893);function k({children:e}){let t=(0,y.TH)(),n=(0,S.b)(),i=(0,r.useMemo)(()=>{if(n){let e=new URLSearchParams(t.search);if(!e.get("url")){let t=e.get("tracking_id")||e.get("e_t"),n=e.get("utm_campaign"),r=e.get("utm_source");if(t&&n&&r)return JSON.stringify({message_type:n,tracking_id:t,utm_source:r})}}},[n,t.search]),o=(0,r.useMemo)(()=>({landingContext:i}),[i]);return(0,x.jsx)(C.T,{value:o,children:e})}var I=n(274320),P=n(15667),L=n(440568),R=n(72918),N=n(82347),Z=n(707079),A=n(166641),j=n(341742);function O({children:e}){let t=(0,o.v)(),n=(0,g.w)({contextLogger:t});return(0,j.Z)(()=>{document.hasFocus()&&n.registerApp(),n.addEventListeners()}),(0,x.jsx)(A.$,{value:n,children:e})}var D=n(535701),F=n(572572),U=n(513294),H=n(975740),M=n(169053),B=n(793698);function z({children:e}){let t=(0,B.kW)(),n=Object.keys(t).find(e=>void 0!==t[e].login_state),i=n?t[n]:void 0,o=(0,r.useMemo)(()=>(0,F.Z)(i),[i]),s=(0,P.gf)(),{isAuth:l}=o,{isAuthenticated:a}=(0,P.B)();return(0,r.useEffect)(()=>{a!==l&&s({isAuthenticated:l})},[a,l]),(0,x.jsx)(D.$,{value:o,children:e})}function W({children:e}){let t=(0,I.F)(),n=(0,M.AF)(),i=(0,r.useRef)(e=>n[e]);(0,r.useEffect)(()=>{i.current=e=>n[e]},[n]);let l=(0,r.useMemo)(()=>(function({getReduxPin:e,webFastFlushEventsEnabled:t=!1}){let n=new b({webFastFlushEventsEnabled:t});window.addEventListener&&window.addEventListener("focus",()=>{if(n._clickthroughStartEvent){let e=n._clickthroughStartEvent;n._clickthroughStartEvent=null;let t={...e,event_type:4100,duration_ns:(0,u.Z)()-e.time};n.addEvent(t)}}),w._getIndexDBInstance?.()&&w.syncCachedEndEvents?.();let r=t=>{try{let n=t?e(t):void 0;return n?`${n.tracking_params??""}~0`:void 0}catch{return}},i={flushContextEvents:()=>n.flushEvents(),logContextEvent:e=>{if(null===e.event_type||void 0===e.event_type)return;let t=e.clientTrackingParams||r(e.object_id_str);n.addEvent({...e,clientTrackingParams:t},i.injectSetViewContextDataFromHook)},logImpression:({auxData:e,component:t,eventData:r,eventType:o,impressionType:s,objectIdStr:l,viewData:a,viewParameter:_,viewType:u,element:c})=>{null!=o&&n.addEvent({event_type:o,event_data:{[s]:r},component:t,object_id_str:l,aux_data:e,view_type:u,view_parameter:_,view_data:a,element:c},i.injectSetViewContextDataFromHook)}};return p=(0,g.w)({contextLogger:i}),s.Z.contextLogger=i,i})({getReduxPin:e=>i.current(e),webFastFlushEventsEnabled:t.checkExperiment("cli_fast_flush_events").anyEnabled}),[t]);return(0,x.jsx)(o.B,{value:l,children:e})}function $(e){let{children:t,reduxStore:n,serverState:o,...l}=e,a=(0,r.useRef)(!1),_=(0,r.useMemo)(()=>new Z.ZP,[]);return a.current||(!function(e,t){if(!window)return;let n={},r=(e,r)=>{let i=decodeURIComponent(r),o=new Promise(t=>{n[e]||(n[e]={}),n[e][i]=t});t.add(e,i,o)},i=t=>{let{normalizedResponse:r,options:i,resource:o,response:l,schema:a}=(0,N.Z)(t);l.resource_response.error?408!==l.resource_response.error.http_status&&e.dispatch((0,R.Tl)(o,i,l.resource_response.error)):(s.Z.fetchCompleteCallback&&s.Z.fetchCompleteCallback({resource:o,options:i,response:l,normalizedResponse:r,refresh:!1,resourceSchema:a}),e.dispatch((0,R.Sr)(o,i,l,r,!1,a))),n[o]?.[(0,L.Z)(i)]?.()};window.__PWS_RESOURCE_PENDING_FETCH_HANDLER__=r,window.__PWS_RESOURCE_SSR_HANDLER__=i;let o=Object.keys(window.__PWS_RESOURCE_PENDING_BEFORE_INIT__);o.length&&(o.forEach(e=>{window.__PWS_RESOURCE_PENDING_BEFORE_INIT__[e].forEach(t=>{r(e,t)})}),window.__PWS_RESOURCE_PENDING_BEFORE_INIT__={}),window.__PWS_RESOURCE_DATA_BEFORE_INIT__.length&&(window.__PWS_RESOURCE_DATA_BEFORE_INIT__.forEach(i),window.__PWS_RESOURCE_DATA_BEFORE_INIT__=[])}(n,_),a.current=!0),(0,x.jsx)(U.Z,{...l,children:(0,x.jsx)(Z.F_,{value:_,children:(0,x.jsx)(i.zt,{store:n,children:(0,x.jsx)(H.fJ,{children:(0,x.jsx)(M._S,{children:(0,x.jsx)(B.kY,{children:(0,x.jsx)(z,{children:(0,x.jsx)(W,{children:(0,x.jsx)(T.FH,{children:(0,x.jsx)(k,{children:(0,x.jsx)(O,{children:t})})})})})})})})})})})}},578341:function(e,t,n){n.d(t,{Z:()=>L});var r=n(667294),i=n(255581),o=n(575108),s=n(111330),l=n(296086),a=n(521009),_=n(464332),u=n(981636),c=n(638957),d=n(2420),h=n(947667),g=n(154796),m=n(450978),v=n(15667),E=n(650160),f=n(753143),p=n(941404),w=n(79077),b=n(378888),T=n(510928),y=n(707353),S=n(547362),C=n(831373),x=n(603316);let k=0,I=()=>{let e={};return[s.qo,s.Y9].forEach(t=>{let n=(0,f.M0)().getItem(t);n&&(e[t]=n)}),JSON.stringify(e)},P=()=>{let e=document.referrer;return e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"};function L(){let e=(0,g.Z)(),t=(0,a.Z)(),n=(0,v.B)(),L=(0,w.Z)(),{isRequirementEnabled:R}=(0,y.yp)();return(0,r.useCallback)((r,{loggingOptions:{signupContext:a,signupAttemptContextEvent:g}})=>{let v=e=>{t({...g,event_type:e,aux_data:{...g.aux_data,upsell_reason:g.aux_data?.upsell_reason||(0,f.M0)().getItem(s.bg)||null,upsell_view_count:(0,f.M0)().getItem(s.w0)||0}}),7487===e&&(0,f.M0)().setItem(s.w0,0)},w=({isRetrying:e})=>{let g={...r},y=(0,C.t_)(),N=(0,S.O)(),Z=window?.location?.search??null,A=(0,b.mB)(Z).utm_campaign;y&&(g={...g,visited_pages:y}),N&&(g={...g,referrer:N}),A&&(g={...g,utm_campaign:A});let j=(0,f.M0)().getItem(s.e9)||[];if(y)g={...g,visited_pages:y};else if(j){let e=[];for(let t of j)t.is_shared_pin&&e.push({ts:t.ts,path:t.path,first_pin_image_signature:t.image_signature,is_shared:!0});e&&(g={...g,visited_pages:JSON.stringify(e.concat(JSON.parse(y||"[]")))})}let O=(0,c.Z)({isComplianceFeatureRequired:R});O.length>0&&(g={...g,privacy_disclaimer_acknowledge:O}),g={...g,user_behavior_data:I()};let D=(0,h.yV)(g);e||(v(7537),L({action:"signup",event:"attempt",trigger:a?.trigger,type:D}));let F=()=>{let{country:e,countryFromHostName:r,countryFromIp:o,regionFromIp:c}=n;(0,E.Z)("signup"),_.zN(i.Mq.name),_.zN(i.x2.name),(0,l.Z)(),_.t8(i.Xh,"1"),(0,u.Z)(!0),(0,f.M0)().removeItem(s._b);let d=a?.container||"container_unknown";(0,p.My)(`signup.container.${d}`);let h=a?.signupSource||"signupSource_unknown";(0,p.My)(`signup.source.${h}`),t({event_type:"home_page"===d?1750:1754}),(0,p.My)(`signup_referrer_module.${String((0,T.Z)().referrer||"unknown")}`),(0,m.ko)({country:e,countryFromHostName:r,countryFromIp:o,regionFromIp:c,deviceType:"Desktop",eventCategory:"NewUsers"}),v(7487),L({action:"signup",event:"success",referrer:P(),trigger:a?.trigger,type:D})},U=e=>{if(e.api_error_code===d.tz&&((0,p.My)("multi_step_set_age_restrict_cookie"),_.t8(i.It,"1",(0,_.kZ)(i.It))),(!e.api_error_code||[d.dO,d.cZ].includes(e.api_error_code))&&k<3)return(0,p.My)(`unauth_web.signup_retry_error.${String(e.api_error_code)}.${String(a?.container)}`),k+=1,w({isRetrying:!0});throw v(7488),L({action:"signup",event:"fail",trigger:a?.trigger,type:D}),e};return(0,x.nP)("webapp.debug_signup_type.core_register",{sampleRate:1,tags:{CHECK_TYPE:(0,h.Eh)(g,"CHECK_TYPE")??"none",CHECK_EXISTS:(0,h.Eh)(g,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,h.Eh)(g,"DEPRECATED_CHECK_TRUTHY")}}),o.Z.create("UserRegisterResource",g).callCreate().then(()=>F(),e=>U(e))};return e(),w({isRetrying:!1})},[e,R,t,n,L])}},515085:function(e,t,n){n.d(t,{Z:()=>r});function r(e){let t=e.userAgent.isMobile?"mobile":"desktop";return`${t}.${e.country}.${e.userAgent.platform}.${e.userAgent.browserName}`.replace(/ /g,"_")}},638957:function(e,t,n){n.d(t,{Z:()=>r});let r=({isComplianceFeatureRequired:e})=>{let t=[];return e(0)&&t.push("fdbr"),t.join(",")}},50651:function(e,t,n){n.d(t,{T:()=>r,Z:()=>o});let{Provider:r,useHook:i}=(0,n(729434).Z)("NotificationContext"),o=i},975740:function(e,t,n){n.d(t,{bn:()=>l,fJ:()=>_,gC:()=>a});var r=n(581722),i=n(729434),o=n(785893);let{Provider:s,useHook:l}=(0,i.Z)("Boards");function a(){let e=l();return t=>e[t]}function _({children:e}){let t=(0,r.v9)(({boards:e})=>e,r.wU);return(0,o.jsx)(s,{value:t,children:e})}},732347:function(e,t,n){n.d(t,{N4:()=>o,Wh:()=>r,hr:()=>i});let r=e=>e.bt("Log in to continue", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),i=e=>e.bt("You're almost there! Log in to access all of Pinterest", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),o=({i18n:e,toFollow:t})=>t?e.bt("Log in to follow", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("Log in to unfollow", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/56556.en_GB-a4565bb5ee9d3cd8.mjs.map